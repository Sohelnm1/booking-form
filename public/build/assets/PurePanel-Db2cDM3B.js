import{R as c,r}from"./app-CJqx2nlw.js";import{u as z,a5 as M,l as S,aO as W,f as k,b as B}from"./Logo-BxrHS6GJ.js";import{p as H}from"./pickAttrs-Oxm3QeZq.js";function I(...n){const e={};return n.forEach(s=>{s&&Object.keys(s).forEach(t=>{s[t]!==void 0&&(e[t]=s[t])})}),e}function q(n){if(!n)return;const{closable:e,closeIcon:s}=n;return{closable:e,closeIcon:s}}function x(n){const{closable:e,closeIcon:s}=n||{};return c.useMemo(()=>{if(!e&&(e===!1||s===!1||s===null))return!1;if(e===void 0&&s===void 0)return null;let t={closeIcon:typeof s!="boolean"&&s!==null?s:void 0};return e&&typeof e=="object"&&(t=Object.assign(Object.assign({},t),e)),t},[e,s])}const _={};function A(n,e,s=_){const t=x(n),a=x(e),[C]=z("global",S.global),u=typeof t!="boolean"?!!t?.disabled:!1,l=c.useMemo(()=>Object.assign({closeIcon:c.createElement(M,null)},s),[s]),f=c.useMemo(()=>t===!1?!1:t?I(l,a,t):a===!1?!1:a?I(l,a):l.closable?l:!1,[t,a,l]);return c.useMemo(()=>{var i,p;if(f===!1)return[!1,null,u,{}];const{closeIconRender:g}=l,{closeIcon:m}=f;let o=m;const d=H(f,!0);return o!=null&&(g&&(o=g(m)),o=c.isValidElement(o)?c.cloneElement(o,Object.assign(Object.assign(Object.assign({},o.props),{"aria-label":(p=(i=o.props)===null||i===void 0?void 0:i["aria-label"])!==null&&p!==void 0?p:C.close}),d)):c.createElement("span",Object.assign({"aria-label":C.close},d),o)),[!0,o,u,d]},[f,l])}function F(n){return e=>r.createElement(W,{theme:{token:{motion:!1,zIndexPopupBase:0}}},r.createElement(n,Object.assign({},e)))}const D=(n,e,s,t,a)=>F(u=>{const{prefixCls:l,style:f}=u,i=r.useRef(null),[p,g]=r.useState(0),[m,o]=r.useState(0),[d,y]=k(!1,{value:u.open}),{getPrefixCls:R}=r.useContext(B),O=R(t||"select",l);r.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const P=new ResizeObserver(b=>{const v=b[0].target;g(v.offsetHeight+8),o(v.offsetWidth)}),h=setInterval(()=>{var b;const v=a?`.${a(O)}`:`.${O}-dropdown`,E=(b=i.current)===null||b===void 0?void 0:b.querySelector(v);E&&(clearInterval(h),P.observe(E))},10);return()=>{clearInterval(h),P.disconnect()}}},[]);let j=Object.assign(Object.assign({},u),{style:Object.assign(Object.assign({},f),{margin:0}),open:d,visible:d,getPopupContainer:()=>i.current});e&&Object.assign(j,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const w={paddingBottom:p,position:"relative",minWidth:m};return r.createElement("div",{ref:i,style:w},r.createElement(n,Object.assign({},j)))});export{D as g,I as m,q as p,A as u,F as w};
