import{R,r as b,j as e,H as Pe,a as le}from"./app-3tTvWG7F.js";import{d as de}from"./dayjs.min-BKNG2TBz.js";import{A as we}from"./AppLayout-jUqcz30Z.js";import{X as Ce,e as F,F as D,J as je,Y as ce,w as J,L as Re,h as ke,t as $e,o as Ne,x as Ae,M as Oe,_ as Be,d as Te,g as Me,m as Ee,u as z,Q as ze,r as _e,Z as qe,aU as Ke,n as Ve,a0 as He,a6 as Le,f as me,S as De,p as fe,I as Fe,ak as Ge,T as We,C as te,B as _}from"./Logo-rayZKRcw.js";import{P as Xe}from"./progress-0KJyFQWY.js";import{R as Ye,C as ue}from"./row-C65rk7Ki.js";import{R as pe}from"./FileTextOutlined-DseNwxBW.js";import{C as he}from"./index-1l_CTVwk.js";import{S as ge}from"./index-p4o9N5do.js";import{T as ie}from"./index--pVH7BcC.js";import{R as ye}from"./EyeOutlined-DaEMOIv_.js";import{A as oe}from"./index-fiTPp5gP.js";import{D as ne}from"./index-CjJybfTo.js";import{R as Je}from"./ArrowLeftOutlined-BsxhQN-v.js";import{R as Qe}from"./ArrowRightOutlined-U8LzFFAE.js";import{M as xe}from"./index-CFEXor_e.js";import{I as ve}from"./index-BTdPj1Qo.js";import{R as be}from"./PhoneOutlined-3fCttN_R.js";import{R as Ue}from"./CheckOutlined-CA08sIE2.js";import{s as L}from"./index-BifKxE5H.js";import{p as Ze}from"./pickAttrs-Dt8ggxWk.js";/* empty css            */import"./CheckCircleFilled-DFLxh8X4.js";import"./useBreakpoint-7Cp1MNIL.js";import"./EyeOutlined-n83X2x7U.js";import"./ExclamationCircleFilled-BGQteKAO.js";import"./InfoCircleFilled-CJ6Fm1u3.js";import"./PurePanel-DXiUjHrT.js";import"./Input-DaIDtzBe.js";var Ie=R.forwardRef(function(n,t){var i=n.prefixCls,o=n.forceRender,m=n.className,d=n.style,h=n.children,c=n.isActive,y=n.role,$=n.classNames,I=n.styles,l=R.useState(c||o),C=Ce(l,2),s=C[0],f=C[1];return R.useEffect(function(){(o||c)&&f(!0)},[o,c]),s?R.createElement("div",{ref:t,className:F("".concat(i,"-content"),D(D({},"".concat(i,"-content-active"),c),"".concat(i,"-content-inactive"),!c),m),style:d,role:y},R.createElement("div",{className:F("".concat(i,"-content-box"),$?.body),style:I?.body},h)):null});Ie.displayName="PanelContent";var et=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Se=R.forwardRef(function(n,t){var i=n.showArrow,o=i===void 0?!0:i,m=n.headerClass,d=n.isActive,h=n.onItemClick,c=n.forceRender,y=n.className,$=n.classNames,I=$===void 0?{}:$,l=n.styles,C=l===void 0?{}:l,s=n.prefixCls,f=n.collapsible,x=n.accordion,S=n.panelKey,g=n.extra,j=n.header,u=n.expandIcon,a=n.openMotion,N=n.destroyInactivePanel,P=n.children,A=je(n,et),w=f==="disabled",O=g!=null&&typeof g!="boolean",B=D(D(D({onClick:function(){h?.(S)},onKeyDown:function(M){(M.key==="Enter"||M.keyCode===ce.ENTER||M.which===ce.ENTER)&&h?.(S)},role:x?"tab":"button"},"aria-expanded",d),"aria-disabled",w),"tabIndex",w?-1:0),E=typeof u=="function"?u(n):R.createElement("i",{className:"arrow"}),q=E&&R.createElement("div",J({className:"".concat(s,"-expand-icon")},["header","icon"].includes(f)?B:{}),E),Y=F("".concat(s,"-item"),D(D({},"".concat(s,"-item-active"),d),"".concat(s,"-item-disabled"),w),y),Q=F(m,"".concat(s,"-header"),D({},"".concat(s,"-collapsible-").concat(f),!!f),I.header),T=Re({className:Q,style:C.header},["header","icon"].includes(f)?{}:B);return R.createElement("div",J({},A,{ref:t,className:Y}),R.createElement("div",T,o&&q,R.createElement("span",J({className:"".concat(s,"-header-text")},f==="header"?B:{}),j),O&&R.createElement("div",{className:"".concat(s,"-extra")},g)),R.createElement(ke,J({visible:d,leavedClassName:"".concat(s,"-content-hidden")},a,{forceRender:c,removeOnLeave:N}),function(k,M){var G=k.className,K=k.style;return R.createElement(Ie,{ref:M,prefixCls:s,className:G,classNames:I,style:K,styles:C,isActive:d,forceRender:c,role:x?"tabpanel":void 0},P)}))}),tt=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],nt=function(t,i){var o=i.prefixCls,m=i.accordion,d=i.collapsible,h=i.destroyInactivePanel,c=i.onItemClick,y=i.activeKey,$=i.openMotion,I=i.expandIcon;return t.map(function(l,C){var s=l.children,f=l.label,x=l.key,S=l.collapsible,g=l.onItemClick,j=l.destroyInactivePanel,u=je(l,tt),a=String(x??C),N=S??d,P=j??h,A=function(B){N!=="disabled"&&(c(B),g?.(B))},w=!1;return m?w=y[0]===a:w=y.indexOf(a)>-1,R.createElement(Se,J({},u,{prefixCls:o,key:a,panelKey:a,isActive:w,accordion:m,openMotion:$,expandIcon:I,header:f,collapsible:N,onItemClick:A,destroyInactivePanel:P}),s)})},rt=function(t,i,o){if(!t)return null;var m=o.prefixCls,d=o.accordion,h=o.collapsible,c=o.destroyInactivePanel,y=o.onItemClick,$=o.activeKey,I=o.openMotion,l=o.expandIcon,C=t.key||String(i),s=t.props,f=s.header,x=s.headerClass,S=s.destroyInactivePanel,g=s.collapsible,j=s.onItemClick,u=!1;d?u=$[0]===C:u=$.indexOf(C)>-1;var a=g??h,N=function(w){a!=="disabled"&&(y(w),j?.(w))},P={key:C,panelKey:C,header:f,headerClass:x,isActive:u,prefixCls:m,destroyInactivePanel:S??c,openMotion:I,accordion:d,children:t.props.children,onItemClick:N,expandIcon:l,collapsible:a};return typeof t.type=="string"?t:(Object.keys(P).forEach(function(A){typeof P[A]>"u"&&delete P[A]}),R.cloneElement(t,P))};function it(n,t,i){return Array.isArray(n)?nt(n,i):$e(t).map(function(o,m){return rt(o,m,i)})}function ot(n){var t=n;if(!Array.isArray(t)){var i=Oe(t);t=i==="number"||i==="string"?[t]:[]}return t.map(function(o){return String(o)})}var st=R.forwardRef(function(n,t){var i=n.prefixCls,o=i===void 0?"rc-collapse":i,m=n.destroyInactivePanel,d=m===void 0?!1:m,h=n.style,c=n.accordion,y=n.className,$=n.children,I=n.collapsible,l=n.openMotion,C=n.expandIcon,s=n.activeKey,f=n.defaultActiveKey,x=n.onChange,S=n.items,g=F(o,y),j=Ne([],{value:s,onChange:function(O){return x?.(O)},defaultValue:f,postState:ot}),u=Ce(j,2),a=u[0],N=u[1],P=function(O){return N(function(){if(c)return a[0]===O?[]:[O];var B=a.indexOf(O),E=B>-1;return E?a.filter(function(q){return q!==O}):[].concat(Be(a),[O])})};Ae(!$,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var A=it(S,$,{prefixCls:o,accordion:c,openMotion:l,expandIcon:C,collapsible:I,destroyInactivePanel:d,onItemClick:P,activeKey:a});return R.createElement("div",J({ref:t,className:g,style:h,role:c?"tablist":void 0},Ze(n,{aria:!0,data:!0})),A)});const ae=Object.assign(st,{Panel:Se});ae.Panel;const at=b.forwardRef((n,t)=>{const{getPrefixCls:i}=b.useContext(Te),{prefixCls:o,className:m,showArrow:d=!0}=n,h=i("collapse",o),c=F({[`${h}-no-arrow`]:!d},m);return b.createElement(ae.Panel,Object.assign({ref:t},n,{prefixCls:h,className:c}))}),lt=n=>{const{componentCls:t,contentBg:i,padding:o,headerBg:m,headerPadding:d,collapseHeaderPaddingSM:h,collapseHeaderPaddingLG:c,collapsePanelBorderRadius:y,lineWidth:$,lineType:I,colorBorder:l,colorText:C,colorTextHeading:s,colorTextDisabled:f,fontSizeLG:x,lineHeight:S,lineHeightLG:g,marginSM:j,paddingSM:u,paddingLG:a,paddingXS:N,motionDurationSlow:P,fontSizeIcon:A,contentPadding:w,fontHeight:O,fontHeightLG:B}=n,E=`${z($)} ${I} ${l}`;return{[t]:Object.assign(Object.assign({},_e(n)),{backgroundColor:m,border:E,borderRadius:y,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:E,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${z(y)} ${z(y)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${z(y)} ${z(y)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:d,color:s,lineHeight:S,cursor:"pointer",transition:`all ${P}, visibility 0s`},qe(n)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:O,display:"flex",alignItems:"center",paddingInlineEnd:j},[`${t}-arrow`]:Object.assign(Object.assign({},Ke()),{fontSize:A,transition:`transform ${P}`,svg:{transition:`transform ${P}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:C,backgroundColor:i,borderTop:E,[`& > ${t}-content-box`]:{padding:w},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:h,paddingInlineStart:N,[`> ${t}-expand-icon`]:{marginInlineStart:n.calc(u).sub(N).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:u}}},"&-large":{[`> ${t}-item`]:{fontSize:x,lineHeight:g,[`> ${t}-header`]:{padding:c,paddingInlineStart:o,[`> ${t}-expand-icon`]:{height:B,marginInlineStart:n.calc(a).sub(o).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:a}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${z(y)} ${z(y)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:f,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:j}}}}})}},dt=n=>{const{componentCls:t}=n,i=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[i]:{transform:"rotate(180deg)"}}}},ct=n=>{const{componentCls:t,headerBg:i,borderlessContentPadding:o,borderlessContentBg:m,colorBorder:d}=n;return{[`${t}-borderless`]:{backgroundColor:i,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${d}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:m,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:o}}}},mt=n=>{const{componentCls:t,paddingSM:i}=n;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:i}}}}}},ft=n=>({headerPadding:`${n.paddingSM}px ${n.padding}px`,headerBg:n.colorFillAlter,contentPadding:`${n.padding}px 16px`,contentBg:n.colorBgContainer,borderlessContentPadding:`${n.paddingXXS}px 16px ${n.padding}px`,borderlessContentBg:"transparent"}),ut=Me("Collapse",n=>{const t=Ee(n,{collapseHeaderPaddingSM:`${z(n.paddingXS)} ${z(n.paddingSM)}`,collapseHeaderPaddingLG:`${z(n.padding)} ${z(n.paddingLG)}`,collapsePanelBorderRadius:n.borderRadiusLG});return[lt(t),ct(t),mt(t),dt(t),ze(t)]},ft),pt=b.forwardRef((n,t)=>{const{getPrefixCls:i,direction:o,expandIcon:m,className:d,style:h}=Ve("collapse"),{prefixCls:c,className:y,rootClassName:$,style:I,bordered:l=!0,ghost:C,size:s,expandIconPosition:f="start",children:x,destroyInactivePanel:S,destroyOnHidden:g,expandIcon:j}=n,u=He(T=>{var k;return(k=s??T)!==null&&k!==void 0?k:"middle"}),a=i("collapse",c),N=i(),[P,A,w]=ut(a),O=b.useMemo(()=>f==="left"?"start":f==="right"?"end":f,[f]),B=j??m,E=b.useCallback((T={})=>{const k=typeof B=="function"?B(T):b.createElement(Le,{rotate:T.isActive?o==="rtl"?-90:90:void 0,"aria-label":T.isActive?"expanded":"collapsed"});return me(k,()=>{var M;return{className:F((M=k.props)===null||M===void 0?void 0:M.className,`${a}-arrow`)}})},[B,a,o]),q=F(`${a}-icon-position-${O}`,{[`${a}-borderless`]:!l,[`${a}-rtl`]:o==="rtl",[`${a}-ghost`]:!!C,[`${a}-${u}`]:u!=="middle"},d,y,$,A,w),Y=b.useMemo(()=>Object.assign(Object.assign({},De(N)),{motionAppear:!1,leavedClassName:`${a}-content-hidden`}),[N,a]),Q=b.useMemo(()=>x?$e(x).map((T,k)=>{var M,G;const K=T.props;if(K?.disabled){const V=(M=T.key)!==null&&M!==void 0?M:String(k),Z=Object.assign(Object.assign({},fe(T.props,["disabled"])),{key:V,collapsible:(G=K.collapsible)!==null&&G!==void 0?G:"disabled"});return me(T,Z)}return T}):null,[x]);return P(b.createElement(ae,Object.assign({ref:t,openMotion:Y},fe(n,["rootClassName"]),{expandIcon:E,prefixCls:a,className:q,style:Object.assign(Object.assign({},h),I),destroyInactivePanel:g??S}),Q))}),ht=Object.assign(pt,{Panel:at});var gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function se(){return se=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},se.apply(this,arguments)}const yt=(n,t)=>b.createElement(Fe,se({},n,{ref:t,icon:gt})),xt=b.forwardRef(yt),{Title:X,Text:v,Paragraph:vt}=We,{Panel:Yt}=ht;function Jt({service:n,selectedExtras:t,date:i,time:o,consentSettings:m}){const[d,h]=b.useState([]),[c,y]=b.useState(null),[$,I]=b.useState(!1),[l,C]=b.useState(""),[s,f]=b.useState(""),[x,S]=b.useState(!1),[g,j]=b.useState(!1),[u,a]=b.useState(!1),[N,P]=b.useState(!1),[A,w]=b.useState(""),O=()=>{const r=t.map(p=>p.id);le.visit(route("booking.select-datetime"),{data:{service_id:n.id,extras:r}})},B=()=>{const r=m.filter(U=>U.is_required);if(!r.every(U=>d.includes(U.id)))return;if(r.length>0&&!g){P(!0);return}const W=t.map(U=>U.id),ee=d,H={service_id:n.id,extras:W,date:i,time:o,consents:ee};g&&l&&(H.verified_phone=l),le.visit(route("booking.confirm"),{data:H})},E=r=>{y(r),I(!0)},q=r=>{h(p=>p.includes(r)?p.filter(W=>W!==r):[...p,r])},Y=async()=>{if(!l||l.length<10){L.error("Please enter a valid phone number");return}try{a(!0);const r=await fetch(route("booking.send-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:l})}),p=await r.json();r.ok?(L.success("OTP sent successfully to your phone number"),S(!0),p.otp&&w(p.otp)):L.error(p.error||"Failed to send OTP")}catch(r){console.error("Error sending OTP:",r),L.error("Failed to send OTP")}finally{a(!1)}},Q=async()=>{if(!s||s.length!==6){L.error("Please enter a valid 6-digit OTP");return}try{a(!0);const r=await fetch(route("booking.verify-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:l,otp:s})}),p=await r.json();if(r.ok){L.success("Phone number verified successfully!"),j(!0),P(!1);const ee=m.filter(H=>H.is_required).find(H=>!d.includes(H.id));ee&&h(H=>[...H,ee.id])}else L.error(p.error||"Invalid OTP")}catch(r){console.error("Error verifying OTP:",r),L.error("Failed to verify OTP")}finally{a(!1)}},T=()=>{P(!1),C(""),f(""),S(!1),j(!1)},k=r=>`₹${parseFloat(r).toFixed(2)}`,M=r=>{if(r<60)return`${r} min`;{const p=Math.floor(r/60),W=r%60;return W>0?`${p}h ${W}m`:`${p}h`}},G=r=>de(r,"HH:mm").format("h:mm A"),K=r=>de(r).format("dddd, MMMM D, YYYY"),V=m.filter(r=>r.is_required),Z=m.filter(r=>!r.is_required),re=V.every(r=>d.includes(r.id));return e.jsxs(we,{children:[e.jsx(Pe,{title:"Consent & Terms - Book Appointment"}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(Ge,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(X,{level:2,style:{marginTop:24,marginBottom:8},children:"Consent & Terms"}),e.jsx(v,{type:"secondary",style:{fontSize:16},children:"Please review and accept our terms and conditions"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(Xe,{percent:80,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(v,{type:"secondary",children:"Step 4 of 5"})})]}),e.jsxs(Ye,{gutter:[32,32],children:[e.jsxs(ue,{xs:24,lg:16,children:[V.length>0&&e.jsxs(te,{style:{marginBottom:24},children:[e.jsxs(X,{level:4,style:{marginBottom:16},children:[e.jsx(pe,{style:{marginRight:8,color:"#ff4d4f"}}),"Required Agreements"]}),V.map(r=>{const p=d.includes(r.id);return e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:p?"#f6ffed":"white"},children:[e.jsx(he,{checked:p,onChange:()=>q(r.id),style:{marginRight:12,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx(X,{level:5,style:{margin:0},children:r.title}),e.jsxs(ge,{children:[e.jsx(ie,{color:"red",children:"Required"}),e.jsx(_,{type:"text",size:"small",icon:e.jsx(ye,{}),onClick:()=>E(r),children:"View"})]})]}),r.summary&&e.jsx(v,{type:"secondary",style:{fontSize:14},children:r.summary})]})]})},r.id)})]}),Z.length>0&&e.jsxs(te,{children:[e.jsxs(X,{level:4,style:{marginBottom:16},children:[e.jsx(pe,{style:{marginRight:8,color:"#1890ff"}}),"Optional Agreements"]}),Z.map(r=>{const p=d.includes(r.id);return e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:p?"#f6ffed":"white"},children:[e.jsx(he,{checked:p,onChange:()=>q(r.id),style:{marginRight:12,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx(X,{level:5,style:{margin:0},children:r.title}),e.jsxs(ge,{children:[e.jsx(ie,{color:"blue",children:"Optional"}),e.jsx(_,{type:"text",size:"small",icon:e.jsx(ye,{}),onClick:()=>E(r),children:"View"})]})]}),r.summary&&e.jsx(v,{type:"secondary",style:{fontSize:14},children:r.summary})]})]})},r.id)})]}),m.length===0&&e.jsx(te,{children:e.jsx(oe,{message:"No consent documents available",description:"There are no terms and conditions to review at this time.",type:"info",showIcon:!0})})]}),e.jsx(ue,{xs:24,lg:8,children:e.jsxs(te,{style:{position:"sticky",top:24},children:[e.jsx(X,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(v,{strong:!0,children:n.name}),e.jsx(v,{children:k(n.price)})]}),e.jsx(v,{type:"secondary",style:{fontSize:12},children:M(n.duration)})]}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{style:{margin:"12px 0"}}),t.map(r=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(v,{children:["+ ",r.name]}),e.jsx(v,{children:k(r.price)})]})},r.id))]}),e.jsx(ne,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(v,{strong:!0,children:"Total Price"}),e.jsx(v,{strong:!0,style:{fontSize:16},children:k(parseFloat(n.price)+t.reduce((r,p)=>r+parseFloat(p.price),0))})]}),e.jsx(ne,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(v,{type:"secondary",children:"Appointment Date"}),e.jsx("div",{children:e.jsx(v,{strong:!0,children:K(i)})})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(v,{type:"secondary",children:"Appointment Time"}),e.jsx("div",{children:e.jsx(v,{strong:!0,children:G(o)})})]}),e.jsx(ne,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(v,{type:"secondary",children:"Required Agreements"}),e.jsx("div",{children:e.jsxs(v,{strong:!0,style:{color:re?"#52c41a":"#ff4d4f"},children:[d.filter(r=>V.find(p=>p.id===r)).length," ","of ",V.length," accepted"]})})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(_,{block:!0,style:{marginBottom:12},icon:e.jsx(Je,{}),onClick:O,children:"Back to Date & Time"}),e.jsx(_,{type:"primary",block:!0,size:"large",icon:e.jsx(Qe,{}),onClick:B,disabled:!re,children:V.length>0&&!g?"Verify Phone Number":"Continue to Confirmation"})]}),!re&&e.jsx(oe,{message:"Required agreements not accepted",description:"Please accept all required terms and conditions to continue.",type:"warning",showIcon:!0,style:{marginTop:16}})]})})]}),e.jsx(xe,{title:c?.title,open:$,onCancel:()=>I(!1),footer:[e.jsx(_,{onClick:()=>I(!1),children:"Close"},"close")],width:800,children:c&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(ie,{color:c.is_required?"red":"blue",children:c.is_required?"Required":"Optional"}),e.jsxs(v,{type:"secondary",style:{marginLeft:8},children:["Version ",c.version]})]}),e.jsx("div",{style:{maxHeight:400,overflowY:"auto",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:"#fafafa"},children:e.jsx(vt,{style:{whiteSpace:"pre-line",margin:0},children:c.content})})]})}),e.jsx(xe,{title:e.jsxs("div",{style:{textAlign:"center",padding:"8px 0"},children:[e.jsx("div",{style:{width:60,height:60,borderRadius:"50%",backgroundColor:"#f0f8ff",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",border:"2px solid #e6f7ff"},children:e.jsx(be,{style:{fontSize:28,color:"#1890ff"}})}),e.jsx(X,{level:3,style:{margin:0,color:"#262626"},children:"Phone Verification"})]}),open:N,onCancel:T,footer:null,width:480,closable:!u,centered:!0,style:{top:20},bodyStyle:{padding:"32px 24px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(v,{type:"secondary",style:{fontSize:16,lineHeight:1.6,color:"#595959"},children:x?`We've sent a 6-digit code to ${l}`:"Enter your phone number to receive a verification code"}),x&&A&&e.jsx(oe,{message:"Testing Mode - OTP Code",description:`Your verification code is: ${A}`,type:"info",showIcon:!0,style:{marginTop:16}})]}),x?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx(ve,{size:"large",placeholder:"Enter 6-digit code",value:s,onChange:r=>f(r.target.value),maxLength:6,style:{position:"absolute",opacity:0,zIndex:10,width:"100%",height:"100%"},autoFocus:!0}),[0,1,2,3,4,5].map(r=>e.jsx("div",{style:{width:48,height:56,border:"2px solid #d9d9d9",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:600,backgroundColor:s[r]?"#f6ffed":"#fafafa",borderColor:s[r]?"#52c41a":"#d9d9d9",transition:"all 0.2s ease",cursor:"text"},children:s[r]||""},r))]}),e.jsx(v,{type:"secondary",style:{fontSize:14},children:"Enter the 6-digit verification code"})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[e.jsx(_,{onClick:()=>{S(!1),f("")},disabled:u,style:{height:44,borderRadius:8,border:"1px solid #d9d9d9",color:"#595959"},children:"Change Number"}),e.jsx(_,{type:"primary",icon:e.jsx(Ue,{}),onClick:Q,loading:u,disabled:!s||s.length!==6,style:{height:44,borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",border:"none",boxShadow:"0 4px 12px rgba(82, 196, 26, 0.3)"},children:u?"Verifying...":"Verify Code"})]}),e.jsx("div",{style:{marginTop:24},children:e.jsxs(v,{type:"secondary",style:{fontSize:12},children:["Didn't receive the code?"," ",e.jsx(_,{type:"link",size:"small",style:{padding:0,height:"auto"},onClick:Y,disabled:u,children:"Resend"})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("div",{style:{position:"relative",marginBottom:8},children:e.jsx(ve,{size:"large",placeholder:"+91 98765 43210",prefix:e.jsx(be,{style:{color:"#bfbfbf"}}),value:l,onChange:r=>C(r.target.value),style:{height:48,fontSize:16,borderRadius:8,border:"1px solid #d9d9d9"}})}),e.jsx(v,{type:"secondary",style:{fontSize:12},children:"We'll send you a verification code via SMS"})]}),e.jsx(_,{type:"primary",size:"large",icon:e.jsx(xt,{}),onClick:Y,loading:u,disabled:!l||l.length<10,style:{height:48,fontSize:16,fontWeight:500,borderRadius:8,width:"100%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",border:"none",boxShadow:"0 4px 12px rgba(24, 144, 255, 0.3)"},children:u?"Sending...":"Send Verification Code"})]})]})})]})]})}export{Jt as default};
