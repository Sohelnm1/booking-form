import{r as m,j as i,H as N,a as v}from"./app-CjLSFTvF.js";import{A as H}from"./AdminLayout-CaACskhm.js";import{g as Z,m as k,r as ee,h as c,b as _,d as C,_ as te,R as ie,t as re,i as le,T as ne,B as S,C as I}from"./Logo-DLy9Pi-u.js";import{R as z}from"./ArrowLeftOutlined-BMRj3qJQ.js";import{S as M}from"./index-Cz--6uym.js";import{R as se}from"./EditOutlined-B1M0cp84.js";import{R as ae}from"./DeleteOutlined-CW1zqXNb.js";import{R as w,C as x}from"./row-CQ454HWN.js";import{I as oe}from"./index-XsTFZI-z.js";import{D as $}from"./index-B-DCaxHt.js";import{R as ce}from"./ClockCircleOutlined-B5klXXHM.js";import{T as q}from"./index-YgNiGMGF.js";import{S as B}from"./index-C-y85uGs.js";import{R as Q}from"./CalendarOutlined-C51-_ebW.js";import{R as de}from"./DollarOutlined-CnvFJIap.js";import{D as me}from"./index-Czbv6qhl.js";import{P as pe}from"./progress-_SmLRBSL.js";import{R as ge}from"./UserOutlined-BTlIJHQK.js";import{R as ue}from"./EyeOutlined-C1FdwiFg.js";import{M as he}from"./index-BFDovZzk.js";import{s as D}from"./index-BdNhniXG.js";/* empty css            */import"./index-CgCFGhN9.js";import"./index-DczFaLwX.js";import"./PurePanel-Ctdvl-zP.js";import"./move-BHpooOi0.js";import"./LogoutOutlined-Di16fjZE.js";import"./FileTextOutlined-CosqdZ2W.js";import"./GiftOutlined-CqMUofQ6.js";import"./SettingOutlined-CjjuPnIM.js";import"./EyeOutlined-FpwRxIr8.js";import"./EyeOutlined-Bmd706kk.js";import"./addEventListener-Dkb8_L8w.js";import"./useClosable-C1CguS7l.js";import"./pickAttrs-D4RZEvRE.js";import"./CheckCircleFilled-Dt1Auu-O.js";import"./InfoCircleFilled-D_PNQDwx.js";const fe=e=>{const{componentCls:t,calc:l}=e;return{[t]:Object.assign(Object.assign({},ee(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:l(l(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${c(e.itemHeadSize)})`,borderInlineStart:`${c(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${c(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:l(e.itemHeadSize).div(2).equal(),insetInlineStart:l(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:l(l(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:l(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:l(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:l(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:l(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${c(e.marginXXS)})`,width:`calc(50% - ${c(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${c(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${c(l(l(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${c(l(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${c(e.margin)})`,borderInlineStart:`${c(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${c(e.margin)})`,borderInlineStart:`${c(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:l(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:l(l(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${c(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${c(e.marginSM)})`,width:`calc(50% - ${c(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},xe=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25}),je=Z("Timeline",e=>{const t=k(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[fe(t)]},xe);var ye=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const G=e=>{var{prefixCls:t,className:l,color:r="blue",dot:n,pending:g=!1,position:j,label:p,children:d}=e,y=ye(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:u}=m.useContext(_),a=u("timeline",t),A=C(`${a}-item`,{[`${a}-item-pending`]:g},l),s=/blue|red|green|gray/.test(r||"")?void 0:r,h=C(`${a}-item-head`,{[`${a}-item-head-custom`]:!!n,[`${a}-item-head-${r}`]:!s});return m.createElement("li",Object.assign({},y,{className:A}),p&&m.createElement("div",{className:`${a}-item-label`},p),m.createElement("div",{className:`${a}-item-tail`}),m.createElement("div",{className:h,style:{borderColor:s,color:s}},n),m.createElement("div",{className:`${a}-item-content`},d))};var W=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const Ae=e=>{var{prefixCls:t,className:l,pending:r=!1,children:n,items:g,rootClassName:j,reverse:p=!1,direction:d,hashId:y,pendingDot:u,mode:a=""}=e,A=W(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const s=(o,b)=>a==="alternate"?o==="right"?`${t}-item-right`:o==="left"?`${t}-item-left`:b%2===0?`${t}-item-left`:`${t}-item-right`:a==="left"?`${t}-item-left`:a==="right"?`${t}-item-right`:o==="right"?`${t}-item-right`:"",h=te(g||[]),R=typeof r=="boolean"?null:r;r&&h.push({pending:!!r,dot:u||m.createElement(ie,null),children:R}),p&&h.reverse();const P=h.length,E=`${t}-item-last`,F=h.filter(o=>!!o).map((o,b)=>{var O;const Y=b===P-2?E:"",J=b===P-1?E:"",{className:X}=o,K=W(o,["className"]);return m.createElement(G,Object.assign({},K,{className:C([X,!p&&r?Y:J,s((O=o?.position)!==null&&O!==void 0?O:"",b)]),key:o?.key||b}))}),T=h.some(o=>!!o?.label),U=C(t,{[`${t}-pending`]:!!r,[`${t}-reverse`]:!!p,[`${t}-${a}`]:!!a&&!T,[`${t}-label`]:T,[`${t}-rtl`]:d==="rtl"},l,j,y);return m.createElement("ol",Object.assign({},A,{className:U}),F)};function Se(e,t){return e&&Array.isArray(e)?e:re(t).map(l=>{var r,n;return Object.assign({children:(n=(r=l?.props)===null||r===void 0?void 0:r.children)!==null&&n!==void 0?n:""},l.props)})}var be=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const V=e=>{const{getPrefixCls:t,direction:l,timeline:r}=m.useContext(_),{prefixCls:n,children:g,items:j,className:p,style:d}=e,y=be(e,["prefixCls","children","items","className","style"]),u=t("timeline",n),a=le(u),[A,s,h]=je(u,a),R=Se(j,g);return A(m.createElement(Ae,Object.assign({},y,{className:C(r?.className,p,h,a),style:Object.assign(Object.assign({},r?.style),d),prefixCls:u,direction:l,items:R,hashId:s})))};V.Item=G;const{Title:L,Text:f,Paragraph:ve}=ne;function at({auth:e,service:t,durations:l,errors:r}){const[n,g]=m.useState(!1);if(!t)return i.jsxs(H,{auth:e,children:[i.jsx(N,{title:"Service Not Found"}),i.jsxs("div",{style:{textAlign:"center",padding:"50px 20px"},children:[i.jsx(L,{level:2,style:{color:"#ff4d4f",marginBottom:16},children:"Service Not Found"}),i.jsx(f,{type:"secondary",style:{fontSize:"16px",marginBottom:24},children:"The service you're looking for doesn't exist or has been deleted."}),i.jsx(S,{type:"primary",icon:i.jsx(z,{}),onClick:()=>v.visit(route("admin.services")),children:"Back to Services"})]})]});const j=l.find(s=>s.value===t.duration),p=j?j.label:`${t.duration} minutes`,d={totalBookings:45,totalRevenue:t.price*45,averageRating:4.8,completionRate:92,recentBookings:[{id:1,customer:"John Doe",date:"2024-01-15",status:"completed"},{id:2,customer:"Jane Smith",date:"2024-01-14",status:"completed"},{id:3,customer:"Mike Johnson",date:"2024-01-13",status:"cancelled"}]},y=()=>{v.visit(route("admin.services"),{data:{editService:t.id}})},u=()=>{g(!0)},a=()=>{D.loading({content:"Deleting service...",key:"deleteService"}),v.post(route("admin.services.delete",t.id),{onSuccess:()=>{D.success({content:"Service deleted successfully",key:"deleteService",duration:3})},onError:s=>{console.error("Delete service errors:",s),D.error({content:"Failed to delete service. Please try again.",key:"deleteService",duration:5})}}),g(!1)},A=()=>{v.visit(route("admin.services"))};return i.jsxs(H,{auth:e,children:[i.jsx(N,{title:`Service: ${t.name}`}),i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[i.jsx(S,{icon:i.jsx(z,{}),onClick:A,style:{marginRight:8},children:"Back to Services"}),i.jsxs("div",{children:[i.jsx(L,{level:2,style:{marginBottom:4},children:t.name}),i.jsx(f,{type:"secondary",children:"Service Details & Analytics"})]})]}),i.jsxs(M,{children:[i.jsx(S,{type:"primary",icon:i.jsx(se,{}),onClick:y,children:"Edit Service"}),i.jsx(S,{danger:!0,icon:i.jsx(ae,{}),onClick:u,children:"Delete Service"})]})]}),i.jsxs(w,{gutter:24,children:[i.jsxs(x,{span:16,children:[i.jsx(I,{title:"Service Information",style:{marginBottom:24},children:i.jsxs(w,{gutter:24,children:[i.jsx(x,{span:8,children:i.jsx(oe,{width:200,height:200,src:t.image||`https://placehold.co/200x200/${t.color?.replace("#","")||"1890ff"}/ffffff?text=${t.name?.charAt(0)?.toUpperCase()||"S"}`,alt:t.name,style:{borderRadius:8},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG4W+FgYxN"})}),i.jsxs(x,{span:16,children:[i.jsxs($,{column:1,size:"small",children:[i.jsx($.Item,{label:"Name",children:i.jsx(f,{strong:!0,children:t.name})}),i.jsx($.Item,{label:"Price",children:i.jsxs(f,{strong:!0,style:{color:"#52c41a",fontSize:"18px"},children:["₹",t.price]})}),i.jsx($.Item,{label:"Duration",children:i.jsxs(f,{children:[i.jsx(ce,{style:{marginRight:8}}),p]})}),i.jsx($.Item,{label:"Status",children:i.jsx(q,{color:t.is_active?"green":"red",children:t.is_active?"Active":"Inactive"})}),i.jsx($.Item,{label:"Color",children:i.jsx("div",{style:{width:24,height:24,backgroundColor:t.color||"#1890ff",borderRadius:4,border:"1px solid #d9d9d9"}})})]}),t.description&&i.jsxs("div",{style:{marginTop:16},children:[i.jsx(f,{strong:!0,children:"Description:"}),i.jsx(ve,{style:{marginTop:8},children:t.description})]})]})]})}),i.jsxs(I,{title:"Analytics & Performance",children:[i.jsxs(w,{gutter:24,children:[i.jsx(x,{span:6,children:i.jsx(B,{title:"Total Bookings",value:d.totalBookings,prefix:i.jsx(Q,{})})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Total Revenue",value:d.totalRevenue,prefix:i.jsx(de,{}),formatter:s=>`₹${s}`})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Average Rating",value:d.averageRating,suffix:"/ 5",precision:1})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Completion Rate",value:d.completionRate,suffix:"%"})})]}),i.jsx(me,{}),i.jsxs("div",{style:{marginTop:16},children:[i.jsx(f,{strong:!0,children:"Completion Rate Trend"}),i.jsx(pe,{percent:d.completionRate,status:"active",style:{marginTop:8}})]})]})]}),i.jsxs(x,{span:8,children:[i.jsx(I,{title:"Recent Bookings",style:{marginBottom:24},children:i.jsx(V,{items:d.recentBookings.map(s=>({key:s.id,color:s.status==="completed"?"green":"red",children:i.jsxs("div",{children:[i.jsx(f,{strong:!0,children:s.customer}),i.jsx("br",{}),i.jsx(f,{type:"secondary",children:s.date}),i.jsx("br",{}),i.jsx(q,{color:s.status==="completed"?"green":"red",size:"small",children:s.status})]})}))})}),i.jsx(I,{title:"Quick Actions",children:i.jsxs(M,{direction:"vertical",style:{width:"100%"},children:[i.jsx(S,{type:"primary",icon:i.jsx(Q,{}),block:!0,onClick:()=>v.visit(route("admin.appointments")),children:"View All Bookings"}),i.jsx(S,{icon:i.jsx(ge,{}),block:!0,onClick:()=>v.visit(route("admin.customers")),children:"Manage Customers"}),i.jsx(S,{icon:i.jsx(ue,{}),block:!0,onClick:()=>window.open(`/booking?service=${t.id}`,"_blank"),children:"Preview Booking Page"})]})})]})]}),i.jsxs(he,{title:"Delete Service",open:n,onOk:a,onCancel:()=>g(!1),okText:"Delete",cancelText:"Cancel",okType:"danger",children:[i.jsxs("p",{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']}),i.jsxs("p",{style:{color:"#ff4d4f",fontSize:"14px"},children:[i.jsx("strong",{children:"Warning:"})," This will also delete all associated bookings and data."]})]})]})]})}export{at as default};
