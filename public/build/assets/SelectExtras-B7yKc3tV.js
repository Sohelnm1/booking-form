import{r as w,j as e,H as z,a as j}from"./app-CkCwleol.js";import{B as E}from"./BookingHeader-DgLJ_YGY.js";import{ad as R,T as A,C as x,B as y}from"./Logo-Bm9HFBra.js";import{P as D}from"./progress-BmCZIU7F.js";import{R as p,C as c}from"./row-DR-3XZwd.js";import{S as g}from"./CalendarOutlined-BJ8QoLnm.js";import{A as I}from"./index-CQdfdfwk.js";import{C as P}from"./index-DN6eZ2vn.js";import{T as f}from"./index-CDZaCDYH.js";import{D as u}from"./index-shhxZTnw.js";import{R as $}from"./ArrowLeftOutlined-H0uVUnYk.js";import{R as F}from"./ArrowRightOutlined-BxhzBtFs.js";/* empty css            */import"./CustomerLoginModal-C1TJjV8S.js";import"./index-Cf0U9k4q.js";import"./CheckCircleFilled-CLv1T2XR.js";import"./InfoCircleFilled--9mUs4Se.js";import"./pickAttrs-D6af2yxc.js";import"./useClosable-DxwrCKd8.js";import"./index-Rr6sIx6Z.js";import"./PurePanel-CgsNtyW7.js";import"./index-ClURE6eI.js";import"./Input-COZ_8-MU.js";import"./EyeOutlined-DA8e5tAQ.js";import"./index-B4r3jgYD.js";import"./LogoutOutlined-CtN_iQew.js";import"./BookOutlined-BxbSxOK2.js";const{Title:a,Text:s}=A;function ce({service:r,extras:h,auth:v}){const[l,b]=w.useState([]),B=t=>{b(i=>i.find(n=>n.id===t.id)?i.filter(n=>n.id!==t.id):[...i,t])},k=()=>{j.visit(route("booking.select-service"))},C=()=>{const t=l.map(i=>i.id);j.visit(route("booking.select-datetime"),{data:{service_id:r.id,extras:t}})},d=t=>`â‚¹${parseFloat(t).toFixed(2)}`,S=()=>{const t=parseFloat(r.price),i=l.reduce((o,n)=>o+parseFloat(n.price),0);return t+i},T=()=>{const t=r.duration,i=l.reduce((o,n)=>o+(n.duration||0),0);return t+i},m=t=>{if(t<60)return`${t} min`;{const i=Math.floor(t/60),o=t%60;return o>0?`${i}h ${o}m`:`${i}h`}};return e.jsxs("div",{children:[e.jsx(z,{title:"Select Extras - Book Appointment"}),e.jsx(E,{auth:v}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(R,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(a,{level:2,style:{marginTop:24,marginBottom:8},children:"Add Extras (Optional)"}),e.jsx(s,{type:"secondary",style:{fontSize:16},children:"Enhance your experience with additional services"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(D,{percent:40,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(s,{type:"secondary",children:"Step 2 of 5"})})]}),e.jsxs(p,{gutter:[32,32],children:[e.jsxs(c,{xs:24,lg:16,children:[e.jsxs(x,{style:{marginBottom:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Selected Service"}),e.jsxs(p,{align:"middle",gutter:16,children:[e.jsx(c,{children:e.jsx("div",{style:{width:60,height:60,backgroundColor:r.color||"#f0f0f0",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:24,fontWeight:"bold"},children:r.name.charAt(0)})}),e.jsxs(c,{flex:"1",children:[e.jsx(a,{level:5,style:{margin:0},children:r.name}),e.jsxs(g,{size:"large",children:[e.jsx(s,{type:"secondary",children:m(r.duration)}),e.jsx(s,{strong:!0,children:d(r.price)})]})]})]})]}),e.jsxs(x,{children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Available Extras"}),h.length===0?e.jsx(I,{message:"No extras available",description:"There are currently no additional services available for this booking.",type:"info",showIcon:!0}):e.jsx(p,{gutter:[16,16],children:h.map(t=>{const i=l.find(o=>o.id===t.id);return e.jsx(c,{xs:24,sm:12,children:e.jsx(x,{hoverable:!0,style:{cursor:"pointer",border:i?"2px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s ease"},onClick:()=>B(t),styles:{body:{padding:16}},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(P,{checked:i,style:{marginRight:12}}),e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{level:5,style:{margin:0,marginBottom:4},children:t.name}),t.description&&e.jsx(s,{type:"secondary",style:{fontSize:12},children:t.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(g,{size:"small",children:[t.duration&&e.jsx(f,{size:"small",children:m(t.duration)}),e.jsx(f,{size:"small",color:"green",children:d(t.price)})]})})]})]})})},t.id)})})]})]}),e.jsx(c,{xs:24,lg:8,children:e.jsxs(x,{style:{position:"sticky",top:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(s,{strong:!0,children:r.name}),e.jsx(s,{children:d(r.price)})]}),e.jsx(s,{type:"secondary",style:{fontSize:12},children:m(r.duration)})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(u,{style:{margin:"12px 0"}}),l.map(t=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(s,{children:["+ ",t.name]}),e.jsx(s,{children:d(t.price)})]})},t.id))]}),e.jsx(u,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(s,{strong:!0,children:"Total Price"}),e.jsx(s,{strong:!0,style:{fontSize:16},children:d(S())})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(s,{type:"secondary",children:"Total Duration"}),e.jsx(s,{type:"secondary",children:m(T())})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(y,{block:!0,style:{marginBottom:12},icon:e.jsx($,{}),onClick:k,children:"Back to Services"}),e.jsx(y,{type:"primary",block:!0,size:"large",icon:e.jsx(F,{}),onClick:C,children:"Continue to Date & Time"})]})]})})]})]})]})}export{ce as default};
