import{r as g,j as e,H as ae,a as u}from"./app-COrRMy_8.js";import{A as ce}from"./AdminLayout-DtG8XRHW.js";import{F as o}from"./index-oIe2zq1S.js";import{T as de,B as f,C as N,S as B}from"./Logo-Bs0OXiUK.js";import{R as q}from"./PlusOutlined-DRO3cU1t.js";import{F as me}from"./Table-Cs3WVQDA.js";import{M as w}from"./index-BM4WhBCw.js";import{R as x,C as m}from"./row-2EK2ePnC.js";import{I as F}from"./index-ClLaq-E5.js";import{T as j}from"./index-k7XLbcbO.js";import{S as k}from"./index-BwJhBVks.js";import{R as pe,a as ue}from"./MedicineBoxOutlined-FVgxZTcy.js";import{R as he}from"./UserOutlined-DJCvsGOC.js";import{R as ge}from"./ExclamationCircleOutlined-CgDuJEhE.js";import{R as xe}from"./HomeOutlined-CtDpKtJW.js";import{R as fe}from"./HeartOutlined-BVNdV3H2.js";import{R as je}from"./PhoneOutlined-D106Ieny.js";import{R as ye}from"./CalendarOutlined-n1YreI-4.js";import{R as ve}from"./StarOutlined-Dld05DNL.js";import{T as A}from"./index-CKFo0MZF.js";import{U as be,R as Ae}from"./InboxOutlined-DwOG5HMR.js";import{S}from"./index-DHeq8Spa.js";import{R as H}from"./EditOutlined-C5d_ygHo.js";import{R as G}from"./DeleteOutlined-CiY_GiBR.js";import{I as Se}from"./index-DBYcCqLK.js";import{R as _e}from"./EyeOutlined-XdyoFoIQ.js";import{s as a}from"./index-DDdGfgap.js";/* empty css            */import"./index-Bdr3srbw.js";import"./GiftOutlined-BCygQf0d.js";import"./index-CtgHcSP3.js";import"./move-DPP1eEbz.js";import"./FileTextOutlined-DJVNZews.js";import"./ClockCircleOutlined-DQt5SU3t.js";import"./ClockCircleOutlined-CELcQ7Uv.js";import"./useForm-CNVIeXPg.js";import"./CheckCircleFilled-BJlrdiZ6.js";import"./InfoCircleFilled-BB6q9uKZ.js";import"./addEventListener-DDbiou6l.js";import"./DownOutlined-DgDnE_l1.js";import"./index-DeFamdpe.js";import"./Pagination-CEcvn_Vg.js";import"./index-BKDzPPvy.js";import"./extendsObject-78o_rR5W.js";import"./index-IZ_cn_ZK.js";import"./Input-fdsm20KY.js";import"./useClosable-B9wp-Inn.js";import"./EyeOutlined-DK-GF0I0.js";import"./EyeOutlined-Bmd706kk.js";import"./CalendarOutlined-DKq2sctu.js";import"./DownloadOutlined-DTidZHln.js";import"./progress-bzfmN5ND.js";const{Title:M,Text:c}=de,{TextArea:C}=F,{Option:h}=k;function Si({auth:Y,services:J,durations:W,errors:_,editService:D}){const[P,y]=g.useState(!1),[n,O]=g.useState(null),[l]=o.useForm(),[U,v]=g.useState(!1),[$,E]=g.useState(null),[K,I]=g.useState(!1),[T,R]=g.useState(null),[b]=o.useForm(),z=J||[],L=W||[];g.useEffect(()=>{_&&Object.keys(_).length>0&&(Object.keys(_).forEach(i=>{l.setFields([{name:i,errors:[_[i]]}])}),y(!0))},[_,l]),g.useEffect(()=>{if(P)if(n){const i={name:n.name,description:n.description||"",price:parseFloat(n.price)||0,duration:parseInt(n.duration)||60,color:n.color||"#1890ff",sort_order:n.sort_order||0,is_active:n.is_active!==void 0?n.is_active:!0,is_upcoming:n.is_upcoming||!1,has_flexible_duration:n.has_flexible_duration||!1,has_tba_pricing:n.has_tba_pricing||!1,coming_soon_description:n.coming_soon_description||"",disclaimer_title:n.disclaimer_title||"",disclaimer_content:n.disclaimer_content||"",icon:n.icon||""};setTimeout(()=>{l.setFieldsValue(i),console.log("Form values set via useEffect for editing:",i)},100)}else setTimeout(()=>{l.setFieldsValue({is_active:!0,color:"#1890ff",duration:60,sort_order:0,description:"",is_upcoming:!1,has_flexible_duration:!1,has_tba_pricing:!1,coming_soon_description:"",disclaimer_title:"",disclaimer_content:"",icon:""}),console.log("Default form values set via useEffect for adding")},100)},[P,n,l]),g.useEffect(()=>{if(D){const i=z.find(s=>s.id==D);i&&V(i)}},[D,z]);const X=[{title:"Image",dataIndex:"image",key:"image",render:(i,s)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(Se,{width:40,height:40,src:i||`https://placehold.co/40x40/${s.color?.replace("#","")||"1890ff"}/ffffff?text=${s.name?.charAt(0)?.toUpperCase()||"S"}`,alt:s.name,style:{borderRadius:4},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG4W+FgYxN"}),e.jsx("div",{children:e.jsx("div",{style:{fontWeight:"bold"},children:s.name})})]})},{title:"Price",dataIndex:"price",key:"price",render:(i,s)=>s.has_tba_pricing?e.jsx(j,{color:"orange",children:"To be announced"}):`₹${i}`},{title:"Duration",dataIndex:"duration",key:"duration",render:(i,s)=>{if(s.has_flexible_duration)return e.jsx(j,{color:"blue",children:"Flexible"});const t=L.find(d=>d.value===i);return t?t.label:`${i} min`}},{title:"Pricing Tiers",dataIndex:"pricing_tiers",key:"pricing_tiers",render:(i,s)=>!i||i.length===0?e.jsx(c,{type:"secondary",style:{fontSize:12},children:"Standard pricing"}):e.jsxs("div",{children:[e.jsxs(c,{strong:!0,style:{fontSize:12},children:[i.length," tier",i.length>1?"s":""]}),e.jsx("br",{}),e.jsxs(c,{type:"secondary",style:{fontSize:11},children:["From ₹",Math.min(...i.map(t=>t.price))," - ₹",Math.max(...i.map(t=>t.price))]})]})},{title:"Employees",dataIndex:"employees",key:"employees",render:()=>e.jsx("div",{style:{opacity:.5},children:e.jsx(j,{color:"orange",size:"small",children:"Coming Soon"})})},{title:"Sort Order",dataIndex:"sort_order",key:"sort_order",render:(i,s)=>e.jsx(A,{min:0,max:999,value:i,onChange:t=>ie(s.id,t),style:{width:80},size:"small"})},{title:"Status",dataIndex:"is_active",key:"is_active",render:(i,s)=>e.jsxs(B,{direction:"vertical",size:4,children:[e.jsx(j,{color:i?"green":"red",children:i?"Active":"Inactive"}),s.is_upcoming&&e.jsx(j,{color:"purple",children:"Coming Soon"})]})},{title:"Actions",key:"actions",render:(i,s)=>e.jsxs(B,{children:[e.jsx(f,{type:"text",icon:e.jsx(_e,{}),size:"small",onClick:()=>ee(s)}),e.jsx(f,{type:"text",icon:e.jsx(H,{}),size:"small",onClick:()=>V(s)}),e.jsx(f,{type:"text",icon:e.jsx(G,{}),size:"small",danger:!0,loading:$===s.id,disabled:$===s.id,onClick:()=>re(s)})]})}],Z=()=>{O(null),l.resetFields(),l.setFields([]),y(!0)},V=i=>{O(i),l.setFields([]),l.resetFields(),console.log("Service data for editing:",i),y(!0)},ee=i=>{u.visit(route("admin.services.show",i.id))},ie=(i,s)=>{if(s===null||s<0){a.error("Sort order must be a positive number");return}u.put(route("admin.services.update-sort-order",i),{sort_order:s},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{a.success("Sort order updated successfully")},onError:t=>{a.error(t.error||"Failed to update sort order")}})},re=i=>{w.confirm({title:"Delete Service",content:e.jsxs("div",{children:[e.jsxs("p",{children:["Are you sure you want to delete"," ",e.jsxs("strong",{children:['"',i.name,'"']}),"?"]}),e.jsxs("p",{style:{color:"#ff4d4f",fontSize:"14px",marginTop:8},children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone and will permanently remove:"]}),e.jsxs("ul",{style:{color:"#666",fontSize:"14px",marginTop:4},children:[e.jsx("li",{children:"The service and all its data"}),e.jsx("li",{children:"Any associated bookings (if they exist)"}),e.jsx("li",{children:"Service images and files"})]})]}),okText:"Delete Service",okType:"danger",cancelText:"Cancel",width:500,onOk(){E(i.id),a.loading({content:"Deleting service...",key:"deleteService"}),console.log("Attempting to delete service:",i.id),console.log("Delete route:",route("admin.services.delete",i.id)),u.post(route("admin.services.delete",i.id),{onSuccess:()=>{console.log("Service deleted successfully"),a.success({content:`Service "${i.name}" deleted successfully`,key:"deleteService",duration:3}),E(null),u.visit(route("admin.services"),{replace:!0,preserveScroll:!1})},onError:s=>{console.error("Delete service errors:",s),a.error({content:"Failed to delete service. Please try again.",key:"deleteService",duration:5}),E(null)},onFinish:()=>{console.log("Delete request finished")}})}})},se=()=>{const i=l.getFieldsValue();console.log("Current form values before validation:",i);const s=l.getFieldValue("description");console.log("Description field value:",s),l.validateFields().then(t=>{v(!0),console.log("Form validation passed, values:",t);const d=new FormData;console.log("Form values:",t),Object.keys(t).forEach(r=>{if(console.log(`Processing field ${r}:`,t[r]),r!=="employees")if(r==="image"&&t[r]?.fileList?.[0]?.originFileObj)d.append("image",t[r].fileList[0].originFileObj);else if(r==="color")d.append("color",t[r]||"#1890ff");else if(r==="price"){const p=parseFloat(t[r])||0;d.append(r,p),console.log("Price value:",p)}else if(r==="duration"){const p=parseInt(t[r])||0;d.append(r,p),console.log("Duration value:",p)}else r==="is_active"?(d.append(r,t[r]?"1":"0"),console.log("is_active value:",t[r]?"1":"0")):r==="is_upcoming"||r==="has_flexible_duration"||r==="has_tba_pricing"?(d.append(r,t[r]?"1":"0"),console.log(`${r} value:`,t[r]?"1":"0")):r==="description"?(d.append(r,t[r]||""),console.log("Description value:",t[r]||"")):(d.append(r,t[r]||""),console.log(`${r} value:`,t[r]||""))}),console.log("=== FormData being sent to backend ===");for(let[r,p]of d.entries())console.log(`${r}:`,p);console.log("=== End FormData ==="),n?(d.append("_method","PUT"),u.post(route("admin.services.update",n.id),d,{onSuccess:()=>{a.success("Service updated successfully"),y(!1),l.resetFields()},onError:r=>{console.error("Update service errors:",r),r&&Object.keys(r).forEach(p=>{l.setFields([{name:p,errors:[r[p]]}])}),a.error("Failed to update service")},onFinish:()=>{v(!1)}})):u.post(route("admin.services.store"),d,{onSuccess:()=>{a.success("Service created successfully"),y(!1),l.resetFields()},onError:r=>{console.error("Create service errors:",r),r&&Object.keys(r).forEach(p=>{l.setFields([{name:p,errors:[r[p]]}])}),a.error("Failed to create service")},onFinish:()=>{v(!1)}})}).catch(t=>{console.error("Form validation failed:",t),a.error("Please check the form and try again")})},te=()=>{y(!1),l.resetFields()},oe=i=>{R(i),I(!0),setTimeout(()=>{b.setFieldsValue({name:i.name,description:i.description||"",duration_minutes:i.duration_minutes,price:i.price,is_popular:i.is_popular||!1,is_active:i.is_active!==void 0?i.is_active:!0,sort_order:i.sort_order||0})},100)},ne=i=>{w.confirm({title:"Delete Pricing Tier",content:"Are you sure you want to delete this pricing tier?",okText:"Yes",okType:"danger",cancelText:"No",onOk(){u.post(route("admin.pricing-tiers.delete",i),{},{onSuccess:()=>{a.success("Pricing tier deleted successfully"),u.reload()},onError:()=>{a.error("Failed to delete pricing tier")}})}})},Q=()=>{b.validateFields().then(i=>{v(!0);const s=new FormData;!T&&n&&s.append("service_id",n.id),Object.keys(i).forEach(t=>{t==="is_popular"||t==="is_active"?s.append(t,i[t]?"1":"0"):s.append(t,i[t]||"")}),T?(s.append("_method","PUT"),u.post(route("admin.pricing-tiers.update",T.id),s,{onSuccess:()=>{a.success("Pricing tier updated successfully"),I(!1),b.resetFields(),R(null),u.reload()},onError:t=>{console.error("Update pricing tier errors:",t),a.error("Failed to update pricing tier")},onFinish:()=>{v(!1)}})):u.post(route("admin.pricing-tiers.store"),s,{onSuccess:()=>{a.success("Pricing tier created successfully"),I(!1),b.resetFields(),u.reload()},onError:t=>{console.error("Create pricing tier errors:",t),a.error("Failed to create pricing tier")},onFinish:()=>{v(!1)}})}).catch(i=>{console.error("Pricing tier form validation failed:",i),a.error("Please check the form and try again")})},le=()=>{I(!1),b.resetFields(),R(null)};return e.jsxs(ce,{auth:Y,children:[e.jsx(ae,{title:"Services Management"}),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(M,{level:2,style:{marginBottom:8},children:"Services"}),e.jsx(c,{type:"secondary",children:"Create and manage your services for customer bookings"})]}),e.jsx(f,{type:"primary",icon:e.jsx(q,{}),size:"large",onClick:Z,children:"Create Service"})]}),e.jsx(N,{children:e.jsx(me,{columns:X,dataSource:z,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(i,s)=>`${s[0]}-${s[1]} of ${i} services`}})}),e.jsx(w,{title:n?"Edit Service":"Create Service",open:P,onOk:se,onCancel:te,width:800,okText:n?"Update":"Add Service",confirmLoading:U,children:e.jsxs(o,{form:l,layout:"vertical",children:[e.jsxs(x,{gutter:16,children:[e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"name",label:"Service name*",rules:[{required:!0,message:"Please enter service name",whitespace:!0}],children:e.jsx(F,{placeholder:"Enter name"})})}),e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"color",label:"Color",children:e.jsx(F,{type:"color",style:{width:"100%",height:"40px"}})})})]}),e.jsx(x,{gutter:16,children:e.jsx(m,{span:12,children:e.jsx(o.Item,{label:"Employees",children:e.jsx("div",{style:{padding:"8px 12px",border:"1px solid #d9d9d9",borderRadius:"6px",backgroundColor:"#f5f5f5",color:"#999",cursor:"not-allowed"},children:e.jsxs(c,{type:"secondary",children:[e.jsx(j,{color:"orange",children:"Coming Soon"})," ","Employee assignment will be available soon"]})})})})}),e.jsx(o.Item,{name:"description",label:"Description",children:e.jsx(C,{rows:4,placeholder:"Insert text here ...",style:{minHeight:100}})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",marginTop:4,marginBottom:16},children:"Descriptions appear on your booking page."}),e.jsx(o.Item,{name:"icon",label:"Service Icon",children:e.jsxs(k,{placeholder:"Select an icon (optional - will auto-detect based on service name)",allowClear:!0,showSearch:!0,optionFilterProp:"children",children:[e.jsx(h,{value:"medical",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(pe,{style:{fontSize:16,color:"#1890ff"}}),"Medical/Health Services"]})}),e.jsx(h,{value:"elderly",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(he,{style:{fontSize:16,color:"#1890ff"}}),"Elderly Care/Companion"]})}),e.jsx(h,{value:"emergency",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(ge,{style:{fontSize:16,color:"#ff4d4f"}}),"Emergency/Urgent Care"]})}),e.jsx(h,{value:"discharge",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(xe,{style:{fontSize:16,color:"#52c41a"}}),"Discharge Support/Home Care"]})}),e.jsx(h,{value:"heart",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(fe,{style:{fontSize:16,color:"#eb2f96"}}),"Cardiac/Heart Care"]})}),e.jsx(h,{value:"transport",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(ue,{style:{fontSize:16,color:"#fa8c16"}}),"Transport/Ambulance"]})}),e.jsx(h,{value:"consultation",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(je,{style:{fontSize:16,color:"#1890ff"}}),"Phone Consultation"]})}),e.jsx(h,{value:"appointment",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(ye,{style:{fontSize:16,color:"#722ed1"}}),"Appointment/Booking"]})}),e.jsx(h,{value:"premium",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(ve,{style:{fontSize:16,color:"#faad14"}}),"Premium/VIP Services"]})})]})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",marginTop:4,marginBottom:16},children:"Choose an icon for this service. If left empty, the system will automatically detect an appropriate icon based on the service name."}),e.jsxs(x,{gutter:16,children:[e.jsxs(m,{span:12,children:[e.jsx(o.Item,{name:"duration",label:"Duration*",rules:[{required:!0,message:"Please select duration"}],children:e.jsx(k,{placeholder:"Select duration",children:L.map(i=>e.jsx(h,{value:i.value,children:i.label},i.value))})}),e.jsxs(c,{type:"secondary",style:{fontSize:"12px",marginTop:4},children:["Manage available durations in the"," ",e.jsx("a",{href:route("admin.durations"),style:{color:"#1890ff"},children:"Durations"})," ","section."]})]}),e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"price",label:"Price*",rules:[{required:!0,message:"Please enter price"},{type:"number",min:0,message:"Price must be a positive number"}],children:e.jsx(A,{style:{width:"100%"},placeholder:"0.00",min:0,step:.01,formatter:i=>`₹ ${i}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:i=>i.replace(/₹\s?|(,*)/g,"")})})})]}),e.jsx(x,{gutter:16,children:e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"sort_order",label:"Sort Order",rules:[{type:"number",min:0,message:"Sort order must be a positive number"}],children:e.jsx(A,{style:{width:"100%"},placeholder:"0",min:0,max:999})})})}),e.jsx(o.Item,{name:"image",label:"Service image",children:e.jsxs(be.Dragger,{name:"file",multiple:!1,beforeUpload:()=>!1,showUploadList:!0,accept:"image/*",maxCount:1,fileList:[],children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(Ae,{})}),e.jsx("p",{className:"ant-upload-text",children:"Drag and drop or choose from files"})]})}),e.jsxs(x,{gutter:16,children:[e.jsx(m,{span:8,children:e.jsx(o.Item,{name:"is_active",label:"Active",valuePropName:"checked",children:e.jsx(S,{})})}),e.jsx(m,{span:8,children:e.jsx(o.Item,{name:"is_upcoming",label:"Upcoming Service",valuePropName:"checked",children:e.jsx(S,{})})})]}),e.jsx(o.Item,{noStyle:!0,shouldUpdate:(i,s)=>i.is_upcoming!==s.is_upcoming,children:({getFieldValue:i})=>i("is_upcoming")?e.jsxs(e.Fragment,{children:[e.jsxs(x,{gutter:16,children:[e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"has_flexible_duration",label:"Flexible Duration",valuePropName:"checked",children:e.jsx(S,{})})}),e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"has_tba_pricing",label:"TBA Pricing",valuePropName:"checked",children:e.jsx(S,{})})})]}),e.jsx(o.Item,{name:"coming_soon_description",label:"Coming Soon Description",children:e.jsx(C,{rows:3,placeholder:"Describe what makes this upcoming service special...",style:{minHeight:80}})}),e.jsx("div",{style:{padding:"12px",backgroundColor:"#f0f8ff",border:"1px solid #bae7ff",borderRadius:"6px",marginBottom:16},children:e.jsxs(c,{type:"secondary",style:{fontSize:"12px"},children:[e.jsx("strong",{children:"Note:"}),` Upcoming services will be displayed to customers but cannot be booked. They're perfect for announcing new services that are "Coming Soon".`]})})]}):null}),e.jsxs("div",{style:{marginTop:24,marginBottom:16},children:[e.jsx(M,{level:4,style:{marginBottom:16},children:"Service Details Modal"}),e.jsx(c,{type:"secondary",style:{fontSize:14,marginBottom:16,display:"block"},children:"Customize the disclaimer section that appears in the service details modal."})]}),e.jsx(o.Item,{name:"disclaimer_title",label:"Disclaimer Title",children:e.jsx(F,{placeholder:"e.g., What's Included, Important Notice, etc.",maxLength:255})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",marginTop:4,marginBottom:16},children:`This title will appear in the service details modal. Leave empty to use default "What's Included".`}),e.jsx(o.Item,{name:"disclaimer_content",label:"Disclaimer Content",children:e.jsx(C,{rows:4,placeholder:"Enter disclaimer content that will appear in the service details modal...",style:{minHeight:100}})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",marginTop:4,marginBottom:16},children:"This content will appear in the service details modal. Supports HTML formatting. Leave empty to use default content."}),e.jsxs("div",{style:{marginTop:24,marginBottom:16},children:[e.jsx(M,{level:4,style:{marginBottom:16},children:"Pricing Tiers (Optional)"}),e.jsx(c,{type:"secondary",style:{fontSize:14,marginBottom:16,display:"block"},children:"Add multiple pricing options for this service. If no tiers are added, the service will use the standard price and duration above."}),e.jsx("div",{style:{marginBottom:16},children:n?.pricing_tiers?.length>0?e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:12},children:e.jsx(c,{strong:!0,children:"Current Pricing Tiers:"})}),n.pricing_tiers.map((i,s)=>e.jsx(N,{size:"small",style:{marginBottom:8,border:"1px solid #f0f0f0"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(c,{strong:!0,children:i.name}),e.jsx("br",{}),e.jsxs(c,{type:"secondary",style:{fontSize:12},children:[i.duration_minutes," ","min • ₹",i.price,i.is_popular&&e.jsx(j,{color:"gold",style:{marginLeft:8},children:"Popular"})]})]}),e.jsxs(B,{children:[e.jsx(f,{size:"small",icon:e.jsx(H,{}),onClick:()=>oe(i),children:"Edit"}),e.jsx(f,{size:"small",danger:!0,icon:e.jsx(G,{}),onClick:()=>ne(i.id),children:"Delete"})]})]})},i.id||s))]}):e.jsx("div",{style:{padding:16,border:"1px dashed #d9d9d9",borderRadius:8,backgroundColor:"#fafafa",textAlign:"center"},children:e.jsx(c,{type:"secondary",children:"No pricing tiers added yet."})})}),e.jsx(f,{type:"dashed",icon:e.jsx(q,{}),onClick:()=>I(!0),style:{width:"100%"},children:"Add Pricing Tier"})]})]})}),e.jsx(w,{title:T?"Edit Pricing Tier":"Add Pricing Tier",open:K,onOk:Q,onCancel:le,confirmLoading:U,width:600,children:e.jsxs(o,{form:b,layout:"vertical",onFinish:Q,children:[e.jsxs(x,{gutter:16,children:[e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"name",label:"Tier Name",rules:[{required:!0,message:"Please enter tier name"}],children:e.jsx(F,{placeholder:"e.g., Single Visit, Pack of 5"})})}),e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"duration_minutes",label:"Duration (minutes)",rules:[{required:!0,message:"Please enter duration"}],children:e.jsx(A,{min:1,style:{width:"100%"},placeholder:"e.g., 120 for 2 hours"})})})]}),e.jsx(o.Item,{name:"price",label:"Price (₹)",rules:[{required:!0,message:"Please enter price"}],children:e.jsx(A,{min:0,step:.01,style:{width:"100%"},placeholder:"e.g., 1000.00"})}),e.jsx(o.Item,{name:"description",label:"Description (Optional)",children:e.jsx(C,{rows:3,placeholder:"Describe what's included in this tier..."})}),e.jsxs(x,{gutter:16,children:[e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"is_popular",label:"Mark as Popular",valuePropName:"checked",children:e.jsx(S,{})})}),e.jsx(m,{span:12,children:e.jsx(o.Item,{name:"is_active",label:"Active",valuePropName:"checked",children:e.jsx(S,{})})})]}),e.jsx(o.Item,{name:"sort_order",label:"Sort Order",children:e.jsx(A,{min:0,style:{width:"100%"},placeholder:"Lower numbers appear first"})})]})})]})]})}export{Si as default};
