import{R,r as j,j as e,H as Ie,a as oe}from"./app-BT0PBD5v.js";import{d as ae}from"./dayjs.min-iFuAdwsj.js";import{A as Se}from"./AppLayout-BhYd1jex.js";import{X as ve,e as D,F as L,J as be,Y as se,w as Y,L as Pe,h as we,t as Ce,o as Re,x as ke,M as Ne,_ as Ae,d as Be,g as Oe,m as Te,u as _,Q as Me,r as Ee,Z as ze,aU as _e,n as qe,a0 as Ke,a6 as Ve,f as le,S as He,p as de,I as Le,ak as De,T as Fe,C as ee,B as K}from"./Logo-CBsbfG2i.js";import{P as Ge}from"./progress-qQN-lhyQ.js";import{R as We,C as ce}from"./row-BmBoW_gX.js";import{R as me}from"./FileTextOutlined-CTErf0sg.js";import{C as fe}from"./index-Bzdxy8Q6.js";import{S as ue}from"./index-DyZ0RITu.js";import{T as ne}from"./index-Du1npkmC.js";import{R as pe}from"./EyeOutlined-CZuwmzK6.js";import{A as he}from"./index-D8bF4dkV.js";import{D as te}from"./index-BbnGm7O4.js";import{R as Xe}from"./ArrowLeftOutlined-DgB4V5X2.js";import{R as Ye}from"./ArrowRightOutlined-BkxyDA1y.js";import{M as ge}from"./index-BmtCO0jd.js";import{I as ye}from"./index-DSRvDQzQ.js";import{R as xe}from"./PhoneOutlined-Ca8mh_sI.js";import{R as Je}from"./CheckOutlined-BGQabxFA.js";import{s as H}from"./index-CCEwWO5O.js";import{p as Qe}from"./pickAttrs-CVI85bE7.js";/* empty css            */import"./CheckCircleFilled-t1GImBJH.js";import"./useBreakpoint-_zB_dkAU.js";import"./EyeOutlined-DLP9J_fo.js";import"./ExclamationCircleFilled-uB9MuAY_.js";import"./InfoCircleFilled-C2zuEgtx.js";import"./PurePanel-D4KtRPLf.js";import"./Input-CvWDqBh-.js";var je=R.forwardRef(function(n,t){var i=n.prefixCls,o=n.forceRender,m=n.className,d=n.style,p=n.children,c=n.isActive,y=n.role,$=n.classNames,I=n.styles,l=R.useState(c||o),v=ve(l,2),a=v[0],f=v[1];return R.useEffect(function(){(o||c)&&f(!0)},[o,c]),a?R.createElement("div",{ref:t,className:D("".concat(i,"-content"),L(L({},"".concat(i,"-content-active"),c),"".concat(i,"-content-inactive"),!c),m),style:d,role:y},R.createElement("div",{className:D("".concat(i,"-content-box"),$?.body),style:I?.body},p)):null});je.displayName="PanelContent";var Ue=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],$e=R.forwardRef(function(n,t){var i=n.showArrow,o=i===void 0?!0:i,m=n.headerClass,d=n.isActive,p=n.onItemClick,c=n.forceRender,y=n.className,$=n.classNames,I=$===void 0?{}:$,l=n.styles,v=l===void 0?{}:l,a=n.prefixCls,f=n.collapsible,b=n.accordion,S=n.panelKey,h=n.extra,C=n.header,u=n.expandIcon,s=n.openMotion,A=n.destroyInactivePanel,P=n.children,B=be(n,Ue),w=f==="disabled",k=h!=null&&typeof h!="boolean",N=L(L(L({onClick:function(){p?.(S)},onKeyDown:function(M){(M.key==="Enter"||M.keyCode===se.ENTER||M.which===se.ENTER)&&p?.(S)},role:b?"tab":"button"},"aria-expanded",d),"aria-disabled",w),"tabIndex",w?-1:0),E=typeof u=="function"?u(n):R.createElement("i",{className:"arrow"}),F=E&&R.createElement("div",Y({className:"".concat(a,"-expand-icon")},["header","icon"].includes(f)?N:{}),E),J=D("".concat(a,"-item"),L(L({},"".concat(a,"-item-active"),d),"".concat(a,"-item-disabled"),w),y),G=D(m,"".concat(a,"-header"),L({},"".concat(a,"-collapsible-").concat(f),!!f),I.header),O=Pe({className:G,style:v.header},["header","icon"].includes(f)?{}:N);return R.createElement("div",Y({},B,{ref:t,className:J}),R.createElement("div",O,o&&F,R.createElement("span",Y({className:"".concat(a,"-header-text")},f==="header"?N:{}),C),k&&R.createElement("div",{className:"".concat(a,"-extra")},h)),R.createElement(we,Y({visible:d,leavedClassName:"".concat(a,"-content-hidden")},s,{forceRender:c,removeOnLeave:A}),function(T,M){var z=T.className,q=T.style;return R.createElement(je,{ref:M,prefixCls:a,className:z,classNames:I,style:q,styles:v,isActive:d,forceRender:c,role:b?"tabpanel":void 0},P)}))}),Ze=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],et=function(t,i){var o=i.prefixCls,m=i.accordion,d=i.collapsible,p=i.destroyInactivePanel,c=i.onItemClick,y=i.activeKey,$=i.openMotion,I=i.expandIcon;return t.map(function(l,v){var a=l.children,f=l.label,b=l.key,S=l.collapsible,h=l.onItemClick,C=l.destroyInactivePanel,u=be(l,Ze),s=String(b??v),A=S??d,P=C??p,B=function(N){A!=="disabled"&&(c(N),h?.(N))},w=!1;return m?w=y[0]===s:w=y.indexOf(s)>-1,R.createElement($e,Y({},u,{prefixCls:o,key:s,panelKey:s,isActive:w,accordion:m,openMotion:$,expandIcon:I,header:f,collapsible:A,onItemClick:B,destroyInactivePanel:P}),a)})},tt=function(t,i,o){if(!t)return null;var m=o.prefixCls,d=o.accordion,p=o.collapsible,c=o.destroyInactivePanel,y=o.onItemClick,$=o.activeKey,I=o.openMotion,l=o.expandIcon,v=t.key||String(i),a=t.props,f=a.header,b=a.headerClass,S=a.destroyInactivePanel,h=a.collapsible,C=a.onItemClick,u=!1;d?u=$[0]===v:u=$.indexOf(v)>-1;var s=h??p,A=function(w){s!=="disabled"&&(y(w),C?.(w))},P={key:v,panelKey:v,header:f,headerClass:b,isActive:u,prefixCls:m,destroyInactivePanel:S??c,openMotion:I,accordion:d,children:t.props.children,onItemClick:A,expandIcon:l,collapsible:s};return typeof t.type=="string"?t:(Object.keys(P).forEach(function(B){typeof P[B]>"u"&&delete P[B]}),R.cloneElement(t,P))};function nt(n,t,i){return Array.isArray(n)?et(n,i):Ce(t).map(function(o,m){return tt(o,m,i)})}function rt(n){var t=n;if(!Array.isArray(t)){var i=Ne(t);t=i==="number"||i==="string"?[t]:[]}return t.map(function(o){return String(o)})}var it=R.forwardRef(function(n,t){var i=n.prefixCls,o=i===void 0?"rc-collapse":i,m=n.destroyInactivePanel,d=m===void 0?!1:m,p=n.style,c=n.accordion,y=n.className,$=n.children,I=n.collapsible,l=n.openMotion,v=n.expandIcon,a=n.activeKey,f=n.defaultActiveKey,b=n.onChange,S=n.items,h=D(o,y),C=Re([],{value:a,onChange:function(k){return b?.(k)},defaultValue:f,postState:rt}),u=ve(C,2),s=u[0],A=u[1],P=function(k){return A(function(){if(c)return s[0]===k?[]:[k];var N=s.indexOf(k),E=N>-1;return E?s.filter(function(F){return F!==k}):[].concat(Ae(s),[k])})};ke(!$,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var B=nt(S,$,{prefixCls:o,accordion:c,openMotion:l,expandIcon:v,collapsible:I,destroyInactivePanel:d,onItemClick:P,activeKey:s});return R.createElement("div",Y({ref:t,className:h,style:p,role:c?"tablist":void 0},Qe(n,{aria:!0,data:!0})),B)});const ie=Object.assign(it,{Panel:$e});ie.Panel;const ot=j.forwardRef((n,t)=>{const{getPrefixCls:i}=j.useContext(Be),{prefixCls:o,className:m,showArrow:d=!0}=n,p=i("collapse",o),c=D({[`${p}-no-arrow`]:!d},m);return j.createElement(ie.Panel,Object.assign({ref:t},n,{prefixCls:p,className:c}))}),at=n=>{const{componentCls:t,contentBg:i,padding:o,headerBg:m,headerPadding:d,collapseHeaderPaddingSM:p,collapseHeaderPaddingLG:c,collapsePanelBorderRadius:y,lineWidth:$,lineType:I,colorBorder:l,colorText:v,colorTextHeading:a,colorTextDisabled:f,fontSizeLG:b,lineHeight:S,lineHeightLG:h,marginSM:C,paddingSM:u,paddingLG:s,paddingXS:A,motionDurationSlow:P,fontSizeIcon:B,contentPadding:w,fontHeight:k,fontHeightLG:N}=n,E=`${_($)} ${I} ${l}`;return{[t]:Object.assign(Object.assign({},Ee(n)),{backgroundColor:m,border:E,borderRadius:y,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:E,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${_(y)} ${_(y)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${_(y)} ${_(y)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:d,color:a,lineHeight:S,cursor:"pointer",transition:`all ${P}, visibility 0s`},ze(n)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:k,display:"flex",alignItems:"center",paddingInlineEnd:C},[`${t}-arrow`]:Object.assign(Object.assign({},_e()),{fontSize:B,transition:`transform ${P}`,svg:{transition:`transform ${P}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:v,backgroundColor:i,borderTop:E,[`& > ${t}-content-box`]:{padding:w},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:p,paddingInlineStart:A,[`> ${t}-expand-icon`]:{marginInlineStart:n.calc(u).sub(A).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:u}}},"&-large":{[`> ${t}-item`]:{fontSize:b,lineHeight:h,[`> ${t}-header`]:{padding:c,paddingInlineStart:o,[`> ${t}-expand-icon`]:{height:N,marginInlineStart:n.calc(s).sub(o).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:s}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${_(y)} ${_(y)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:f,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:C}}}}})}},st=n=>{const{componentCls:t}=n,i=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[i]:{transform:"rotate(180deg)"}}}},lt=n=>{const{componentCls:t,headerBg:i,borderlessContentPadding:o,borderlessContentBg:m,colorBorder:d}=n;return{[`${t}-borderless`]:{backgroundColor:i,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${d}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:m,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:o}}}},dt=n=>{const{componentCls:t,paddingSM:i}=n;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:i}}}}}},ct=n=>({headerPadding:`${n.paddingSM}px ${n.padding}px`,headerBg:n.colorFillAlter,contentPadding:`${n.padding}px 16px`,contentBg:n.colorBgContainer,borderlessContentPadding:`${n.paddingXXS}px 16px ${n.padding}px`,borderlessContentBg:"transparent"}),mt=Oe("Collapse",n=>{const t=Te(n,{collapseHeaderPaddingSM:`${_(n.paddingXS)} ${_(n.paddingSM)}`,collapseHeaderPaddingLG:`${_(n.padding)} ${_(n.paddingLG)}`,collapsePanelBorderRadius:n.borderRadiusLG});return[at(t),lt(t),dt(t),st(t),Me(t)]},ct),ft=j.forwardRef((n,t)=>{const{getPrefixCls:i,direction:o,expandIcon:m,className:d,style:p}=qe("collapse"),{prefixCls:c,className:y,rootClassName:$,style:I,bordered:l=!0,ghost:v,size:a,expandIconPosition:f="start",children:b,destroyInactivePanel:S,destroyOnHidden:h,expandIcon:C}=n,u=Ke(O=>{var T;return(T=a??O)!==null&&T!==void 0?T:"middle"}),s=i("collapse",c),A=i(),[P,B,w]=mt(s),k=j.useMemo(()=>f==="left"?"start":f==="right"?"end":f,[f]),N=C??m,E=j.useCallback((O={})=>{const T=typeof N=="function"?N(O):j.createElement(Ve,{rotate:O.isActive?o==="rtl"?-90:90:void 0,"aria-label":O.isActive?"expanded":"collapsed"});return le(T,()=>{var M;return{className:D((M=T.props)===null||M===void 0?void 0:M.className,`${s}-arrow`)}})},[N,s,o]),F=D(`${s}-icon-position-${k}`,{[`${s}-borderless`]:!l,[`${s}-rtl`]:o==="rtl",[`${s}-ghost`]:!!v,[`${s}-${u}`]:u!=="middle"},d,y,$,B,w),J=j.useMemo(()=>Object.assign(Object.assign({},He(A)),{motionAppear:!1,leavedClassName:`${s}-content-hidden`}),[A,s]),G=j.useMemo(()=>b?Ce(b).map((O,T)=>{var M,z;const q=O.props;if(q?.disabled){const Q=(M=O.key)!==null&&M!==void 0?M:String(T),r=Object.assign(Object.assign({},de(O.props,["disabled"])),{key:Q,collapsible:(z=q.collapsible)!==null&&z!==void 0?z:"disabled"});return le(O,r)}return O}):null,[b]);return P(j.createElement(ie,Object.assign({ref:t,openMotion:J},de(n,["rootClassName"]),{expandIcon:E,prefixCls:s,className:F,style:Object.assign(Object.assign({},p),I),destroyInactivePanel:h??S}),G))}),ut=Object.assign(ft,{Panel:ot});var pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function re(){return re=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},re.apply(this,arguments)}const ht=(n,t)=>j.createElement(Le,re({},n,{ref:t,icon:pt})),gt=j.forwardRef(ht),{Title:X,Text:x,Paragraph:yt}=Fe,{Panel:Wt}=ut;function Xt({service:n,selectedExtras:t,date:i,time:o,consentSettings:m}){const[d,p]=j.useState([]),[c,y]=j.useState(null),[$,I]=j.useState(!1),[l,v]=j.useState(""),[a,f]=j.useState(""),[b,S]=j.useState(!1),[h,C]=j.useState(!1),[u,s]=j.useState(!1),[A,P]=j.useState(!1),B=()=>{const r=t.map(g=>g.id);oe.visit(route("booking.select-datetime"),{data:{service_id:n.id,extras:r}})},w=()=>{const r=m.filter(U=>U.is_required);if(!r.every(U=>d.includes(U.id)))return;if(r.length>0&&!h){P(!0);return}const W=t.map(U=>U.id),Z=d,V={service_id:n.id,extras:W,date:i,time:o,consents:Z};h&&l&&(V.verified_phone=l),oe.visit(route("booking.confirm"),{data:V})},k=r=>{y(r),I(!0)},N=r=>{p(g=>g.includes(r)?g.filter(W=>W!==r):[...g,r])},E=async()=>{if(!l||l.length<10){H.error("Please enter a valid phone number");return}try{s(!0);const r=await fetch(route("booking.send-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:l})}),g=await r.json();r.ok?(H.success("OTP sent successfully to your phone number"),S(!0)):H.error(g.error||"Failed to send OTP")}catch(r){console.error("Error sending OTP:",r),H.error("Failed to send OTP")}finally{s(!1)}},F=async()=>{if(!a||a.length!==6){H.error("Please enter a valid 6-digit OTP");return}try{s(!0);const r=await fetch(route("booking.verify-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:l,otp:a})}),g=await r.json();if(r.ok){H.success("Phone number verified successfully!"),C(!0),P(!1);const Z=m.filter(V=>V.is_required).find(V=>!d.includes(V.id));Z&&p(V=>[...V,Z.id])}else H.error(g.error||"Invalid OTP")}catch(r){console.error("Error verifying OTP:",r),H.error("Failed to verify OTP")}finally{s(!1)}},J=()=>{P(!1),v(""),f(""),S(!1),C(!1)},G=r=>`₹${parseFloat(r).toFixed(2)}`,O=r=>{if(r<60)return`${r} min`;{const g=Math.floor(r/60),W=r%60;return W>0?`${g}h ${W}m`:`${g}h`}},T=r=>ae(r,"HH:mm").format("h:mm A"),M=r=>ae(r).format("dddd, MMMM D, YYYY"),z=m.filter(r=>r.is_required),q=m.filter(r=>!r.is_required),Q=z.every(r=>d.includes(r.id));return e.jsxs(Se,{children:[e.jsx(Ie,{title:"Consent & Terms - Book Appointment"}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(De,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(X,{level:2,style:{marginTop:24,marginBottom:8},children:"Consent & Terms"}),e.jsx(x,{type:"secondary",style:{fontSize:16},children:"Please review and accept our terms and conditions"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(Ge,{percent:80,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(x,{type:"secondary",children:"Step 4 of 5"})})]}),e.jsxs(We,{gutter:[32,32],children:[e.jsxs(ce,{xs:24,lg:16,children:[z.length>0&&e.jsxs(ee,{style:{marginBottom:24},children:[e.jsxs(X,{level:4,style:{marginBottom:16},children:[e.jsx(me,{style:{marginRight:8,color:"#ff4d4f"}}),"Required Agreements"]}),z.map(r=>{const g=d.includes(r.id);return e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:g?"#f6ffed":"white"},children:[e.jsx(fe,{checked:g,onChange:()=>N(r.id),style:{marginRight:12,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx(X,{level:5,style:{margin:0},children:r.title}),e.jsxs(ue,{children:[e.jsx(ne,{color:"red",children:"Required"}),e.jsx(K,{type:"text",size:"small",icon:e.jsx(pe,{}),onClick:()=>k(r),children:"View"})]})]}),r.summary&&e.jsx(x,{type:"secondary",style:{fontSize:14},children:r.summary})]})]})},r.id)})]}),q.length>0&&e.jsxs(ee,{children:[e.jsxs(X,{level:4,style:{marginBottom:16},children:[e.jsx(me,{style:{marginRight:8,color:"#1890ff"}}),"Optional Agreements"]}),q.map(r=>{const g=d.includes(r.id);return e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:g?"#f6ffed":"white"},children:[e.jsx(fe,{checked:g,onChange:()=>N(r.id),style:{marginRight:12,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx(X,{level:5,style:{margin:0},children:r.title}),e.jsxs(ue,{children:[e.jsx(ne,{color:"blue",children:"Optional"}),e.jsx(K,{type:"text",size:"small",icon:e.jsx(pe,{}),onClick:()=>k(r),children:"View"})]})]}),r.summary&&e.jsx(x,{type:"secondary",style:{fontSize:14},children:r.summary})]})]})},r.id)})]}),m.length===0&&e.jsx(ee,{children:e.jsx(he,{message:"No consent documents available",description:"There are no terms and conditions to review at this time.",type:"info",showIcon:!0})})]}),e.jsx(ce,{xs:24,lg:8,children:e.jsxs(ee,{style:{position:"sticky",top:24},children:[e.jsx(X,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(x,{strong:!0,children:n.name}),e.jsx(x,{children:G(n.price)})]}),e.jsx(x,{type:"secondary",style:{fontSize:12},children:O(n.duration)})]}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(te,{style:{margin:"12px 0"}}),t.map(r=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(x,{children:["+ ",r.name]}),e.jsx(x,{children:G(r.price)})]})},r.id))]}),e.jsx(te,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(x,{strong:!0,children:"Total Price"}),e.jsx(x,{strong:!0,style:{fontSize:16},children:G(parseFloat(n.price)+t.reduce((r,g)=>r+parseFloat(g.price),0))})]}),e.jsx(te,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(x,{type:"secondary",children:"Appointment Date"}),e.jsx("div",{children:e.jsx(x,{strong:!0,children:M(i)})})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(x,{type:"secondary",children:"Appointment Time"}),e.jsx("div",{children:e.jsx(x,{strong:!0,children:T(o)})})]}),e.jsx(te,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(x,{type:"secondary",children:"Required Agreements"}),e.jsx("div",{children:e.jsxs(x,{strong:!0,style:{color:Q?"#52c41a":"#ff4d4f"},children:[d.filter(r=>z.find(g=>g.id===r)).length," ","of ",z.length," accepted"]})})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(K,{block:!0,style:{marginBottom:12},icon:e.jsx(Xe,{}),onClick:B,children:"Back to Date & Time"}),e.jsx(K,{type:"primary",block:!0,size:"large",icon:e.jsx(Ye,{}),onClick:w,disabled:!Q,children:z.length>0&&!h?"Verify Phone Number":"Continue to Confirmation"})]}),!Q&&e.jsx(he,{message:"Required agreements not accepted",description:"Please accept all required terms and conditions to continue.",type:"warning",showIcon:!0,style:{marginTop:16}})]})})]}),e.jsx(ge,{title:c?.title,open:$,onCancel:()=>I(!1),footer:[e.jsx(K,{onClick:()=>I(!1),children:"Close"},"close")],width:800,children:c&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(ne,{color:c.is_required?"red":"blue",children:c.is_required?"Required":"Optional"}),e.jsxs(x,{type:"secondary",style:{marginLeft:8},children:["Version ",c.version]})]}),e.jsx("div",{style:{maxHeight:400,overflowY:"auto",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:"#fafafa"},children:e.jsx(yt,{style:{whiteSpace:"pre-line",margin:0},children:c.content})})]})}),e.jsx(ge,{title:e.jsxs("div",{style:{textAlign:"center",padding:"8px 0"},children:[e.jsx("div",{style:{width:60,height:60,borderRadius:"50%",backgroundColor:"#f0f8ff",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",border:"2px solid #e6f7ff"},children:e.jsx(xe,{style:{fontSize:28,color:"#1890ff"}})}),e.jsx(X,{level:3,style:{margin:0,color:"#262626"},children:"Phone Verification"})]}),open:A,onCancel:J,footer:null,width:480,closable:!u,centered:!0,style:{top:20},bodyStyle:{padding:"32px 24px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:32},children:e.jsx(x,{type:"secondary",style:{fontSize:16,lineHeight:1.6,color:"#595959"},children:b?`We've sent a 6-digit code to ${l}`:"Enter your phone number to receive a verification code"})}),b?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx(ye,{size:"large",placeholder:"Enter 6-digit code",value:a,onChange:r=>f(r.target.value),maxLength:6,style:{position:"absolute",opacity:0,zIndex:10,width:"100%",height:"100%"},autoFocus:!0}),[0,1,2,3,4,5].map(r=>e.jsx("div",{style:{width:48,height:56,border:"2px solid #d9d9d9",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:600,backgroundColor:a[r]?"#f6ffed":"#fafafa",borderColor:a[r]?"#52c41a":"#d9d9d9",transition:"all 0.2s ease",cursor:"text"},children:a[r]||""},r))]}),e.jsx(x,{type:"secondary",style:{fontSize:14},children:"Enter the 6-digit verification code"})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[e.jsx(K,{onClick:()=>{S(!1),f("")},disabled:u,style:{height:44,borderRadius:8,border:"1px solid #d9d9d9",color:"#595959"},children:"Change Number"}),e.jsx(K,{type:"primary",icon:e.jsx(Je,{}),onClick:F,loading:u,disabled:!a||a.length!==6,style:{height:44,borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",border:"none",boxShadow:"0 4px 12px rgba(82, 196, 26, 0.3)"},children:u?"Verifying...":"Verify Code"})]}),e.jsx("div",{style:{marginTop:24},children:e.jsxs(x,{type:"secondary",style:{fontSize:12},children:["Didn't receive the code?"," ",e.jsx(K,{type:"link",size:"small",style:{padding:0,height:"auto"},onClick:E,disabled:u,children:"Resend"})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("div",{style:{position:"relative",marginBottom:8},children:e.jsx(ye,{size:"large",placeholder:"+91 98765 43210",prefix:e.jsx(xe,{style:{color:"#bfbfbf"}}),value:l,onChange:r=>v(r.target.value),style:{height:48,fontSize:16,borderRadius:8,border:"1px solid #d9d9d9"}})}),e.jsx(x,{type:"secondary",style:{fontSize:12},children:"We'll send you a verification code via SMS"})]}),e.jsx(K,{type:"primary",size:"large",icon:e.jsx(gt,{}),onClick:E,loading:u,disabled:!l||l.length<10,style:{height:48,fontSize:16,fontWeight:500,borderRadius:8,width:"100%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",border:"none",boxShadow:"0 4px 12px rgba(24, 144, 255, 0.3)"},children:u?"Sending...":"Send Verification Code"})]})]})})]})]})}export{Xt as default};
