import{r as g,j as e,H as q}from"./app-TSUv2ekp.js";import{A as H}from"./AdminLayout-DrubMqMg.js";import{F as i}from"./index-j9FwPLju.js";import{T as Y,C as m,B as y,S as n}from"./Logo-3q56puYy.js";import{R as v,C as l}from"./row-BBSEI4sn.js";import{F as b}from"./Table-CqFLaG83.js";import{R as J}from"./PlusOutlined-DROZOWr0.js";import{B as u}from"./index-BSgQUsoS.js";import{A as p}from"./UserOutlined-Bp8Bbwbs.js";import{R as _}from"./FireOutlined-Bt8Eua1T.js";import{D as k}from"./index-CESM397A.js";import{R as S}from"./CheckCircleOutlined-1CU-8cXy.js";import{R as x}from"./ClockCircleOutlined-D0NF43uv.js";import{M as U}from"./index-DwWH-p_g.js";import{I as h}from"./index-BLZWFygY.js";import{S as j}from"./index-B_xcxnV_.js";import{S as I}from"./index-CqmPjcoF.js";import{T as a}from"./index-Bjrs9nCu.js";import{R as O}from"./EditOutlined-GBrObRnm.js";import{s as T}from"./index-DJKRzokK.js";import{R as V}from"./MessageOutlined-CFzmrdT3.js";import{R as Z}from"./MailOutlined-Ba3ksXNq.js";import{R as K}from"./DeleteOutlined-CvJ6fksc.js";/* empty css            */import"./index-Ky-4z0Jq.js";import"./move-B2OvOnuk.js";import"./DollarOutlined-CRVQHhs8.js";import"./FileTextOutlined-B6OSk4qB.js";import"./useForm-DiW-OcjY.js";import"./QuestionCircleOutlined-CkfPyHQh.js";import"./CheckCircleFilled-CX3ex9DN.js";import"./InfoCircleFilled-D92qAJ_d.js";import"./addEventListener-BLWfeG6H.js";import"./DownOutlined-CXXRAnGP.js";import"./index-vCe2g6Nk.js";import"./Pagination-CEEheI5H.js";import"./index-zdTdiyL2.js";import"./extendsObject-78o_rR5W.js";import"./index-w89WemKN.js";import"./Input-DUUm9wEf.js";import"./useClosable-BulAr87G.js";import"./EyeOutlined-CU46LmZp.js";import"./EyeOutlined-Bmd706kk.js";const{Title:Q,Text:c,Paragraph:He}=Y,{TextArea:L}=h,{Option:s}=j;function Ye({auth:R}){const[C,d]=g.useState(!1),[G,w]=g.useState(null),[o]=i.useForm(),B=[{id:1,name:"Booking Confirmation",type:"email",subject:"Your booking has been confirmed",content:"Dear {customer_name}, your booking for {service_name} on {date} at {time} has been confirmed.",is_active:!0,triggers:["booking_confirmed"]},{id:2,name:"Booking Reminder",type:"sms",subject:"Booking Reminder",content:"Reminder: You have a booking for {service_name} tomorrow at {time}. Please arrive 10 minutes early.",is_active:!0,triggers:["24_hours_before"]},{id:3,name:"Payment Success",type:"email",subject:"Payment Successful",content:"Thank you for your payment of â‚¹{amount} for {service_name}. Your booking is confirmed.",is_active:!0,triggers:["payment_success"]},{id:4,name:"Booking Cancellation",type:"sms",subject:"Booking Cancelled",content:"Your booking for {service_name} on {date} has been cancelled. Contact us for rescheduling.",is_active:!1,triggers:["booking_cancelled"]}],N=[{id:1,recipient:"John Doe",type:"email",subject:"Your booking has been confirmed",status:"sent",sent_at:"2024-01-15 10:30:00",delivery_time:"2 seconds"},{id:2,recipient:"Jane Smith",type:"sms",subject:"Booking Reminder",status:"delivered",sent_at:"2024-01-15 09:15:00",delivery_time:"5 seconds"},{id:3,recipient:"Mike Johnson",type:"email",subject:"Payment Successful",status:"failed",sent_at:"2024-01-15 08:45:00",delivery_time:"N/A"}],f=t=>{switch(t){case"email":return e.jsx(Z,{style:{color:"#1890ff"}});case"sms":return e.jsx(V,{style:{color:"#52c41a"}});default:return e.jsx(_,{})}},A=t=>{switch(t){case"sent":return"blue";case"delivered":return"green";case"failed":return"red";default:return"default"}},P=t=>{switch(t){case"sent":return e.jsx(x,{style:{color:"#1890ff"}});case"delivered":return e.jsx(S,{style:{color:"#52c41a"}});case"failed":return e.jsx(K,{style:{color:"#ff4d4f"}});default:return e.jsx(x,{})}},M=[{title:"Template Name",dataIndex:"name",key:"name",render:t=>e.jsx("strong",{children:t})},{title:"Type",dataIndex:"type",key:"type",render:t=>e.jsxs(n,{children:[f(t),e.jsx(a,{color:t==="email"?"blue":"green",children:t.toUpperCase()})]})},{title:"Subject",dataIndex:"subject",key:"subject",ellipsis:!0},{title:"Triggers",dataIndex:"triggers",key:"triggers",render:t=>e.jsx(n,{children:t.map(r=>e.jsx(a,{size:"small",children:r.replace(/_/g," ")},r))})},{title:"Status",dataIndex:"is_active",key:"is_active",render:t=>e.jsx(a,{color:t?"green":"red",children:t?"Active":"Inactive"})},{title:"Actions",key:"actions",render:(t,r)=>e.jsxs(n,{children:[e.jsx(y,{type:"text",icon:e.jsx(O,{}),size:"small",onClick:()=>F(r)}),e.jsx(I,{checked:r.is_active,size:"small",onChange:()=>$(r)})]})}],E=[{title:"Recipient",dataIndex:"recipient",key:"recipient"},{title:"Type",dataIndex:"type",key:"type",render:t=>e.jsxs(n,{children:[f(t),e.jsx(a,{color:t==="email"?"blue":"green",children:t.toUpperCase()})]})},{title:"Subject",dataIndex:"subject",key:"subject",ellipsis:!0},{title:"Status",dataIndex:"status",key:"status",render:t=>e.jsxs(n,{children:[P(t),e.jsx(a,{color:A(t),children:t.toUpperCase()})]})},{title:"Sent At",dataIndex:"sent_at",key:"sent_at"},{title:"Delivery Time",dataIndex:"delivery_time",key:"delivery_time"}],F=t=>{w(t),o.setFieldsValue({name:t.name,type:t.type,subject:t.subject,content:t.content,triggers:t.triggers,is_active:t.is_active}),d(!0)},$=t=>{T.success(`${t.name} ${t.is_active?"disabled":"enabled"} successfully`)},z=()=>{o.validateFields().then(t=>{T.success("Notification template updated successfully"),d(!1),o.resetFields()})},D=()=>{d(!1),o.resetFields()};return e.jsxs(H,{auth:R,children:[e.jsx(q,{title:"Notification Management"}),e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(Q,{level:2,style:{marginBottom:8},children:"Notification Management"}),e.jsx(c,{type:"secondary",children:"Manage notification templates and view delivery history"})]}),e.jsxs(v,{gutter:[24,24],children:[e.jsx(l,{xs:24,lg:16,children:e.jsx(m,{title:"Notification Templates",extra:e.jsx(y,{type:"primary",icon:e.jsx(J,{}),children:"Add Template"}),children:e.jsx(b,{columns:M,dataSource:B,rowKey:"id",pagination:!1})})}),e.jsx(l,{xs:24,lg:8,children:e.jsx(m,{title:"Quick Stats",children:e.jsxs(n,{direction:"vertical",style:{width:"100%"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx(u,{count:156,showZero:!0,children:e.jsx(p,{size:64,icon:e.jsx(_,{})})}),e.jsx("div",{style:{marginTop:8},children:e.jsx(c,{strong:!0,children:"Total Sent Today"})})]}),e.jsx(k,{}),e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx(u,{count:98,showZero:!0,children:e.jsx(p,{size:64,icon:e.jsx(S,{})})}),e.jsx("div",{style:{marginTop:8},children:e.jsx(c,{strong:!0,children:"Successfully Delivered"})})]}),e.jsx(k,{}),e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx(u,{count:58,showZero:!0,children:e.jsx(p,{size:64,icon:e.jsx(x,{})})}),e.jsx("div",{style:{marginTop:8},children:e.jsx(c,{strong:!0,children:"Pending Delivery"})})]})]})})})]}),e.jsx(m,{title:"Recent Notifications",style:{marginTop:24},children:e.jsx(b,{columns:E,dataSource:N,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0}})}),e.jsx(U,{title:"Edit Notification Template",open:C,onOk:z,onCancel:D,width:700,okText:"Save Changes",children:e.jsxs(i,{form:o,layout:"vertical",children:[e.jsxs(v,{gutter:16,children:[e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"name",label:"Template Name",rules:[{required:!0,message:"Please enter template name"}],children:e.jsx(h,{placeholder:"Enter template name"})})}),e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"type",label:"Notification Type",rules:[{required:!0,message:"Please select type"}],children:e.jsxs(j,{placeholder:"Select notification type",children:[e.jsx(s,{value:"email",children:"Email"}),e.jsx(s,{value:"sms",children:"SMS"})]})})})]}),e.jsx(i.Item,{name:"subject",label:"Subject",rules:[{required:!0,message:"Please enter subject"}],children:e.jsx(h,{placeholder:"Enter notification subject"})}),e.jsx(i.Item,{name:"content",label:"Content",rules:[{required:!0,message:"Please enter content"}],children:e.jsx(L,{rows:4,placeholder:"Enter notification content. Use {variable_name} for dynamic content."})}),e.jsx(i.Item,{name:"triggers",label:"Triggers",rules:[{required:!0,message:"Please select triggers"}],children:e.jsxs(j,{mode:"multiple",placeholder:"Select when this notification should be sent",children:[e.jsx(s,{value:"booking_confirmed",children:"Booking Confirmed"}),e.jsx(s,{value:"booking_cancelled",children:"Booking Cancelled"}),e.jsx(s,{value:"payment_success",children:"Payment Success"}),e.jsx(s,{value:"24_hours_before",children:"24 Hours Before"}),e.jsx(s,{value:"1_hour_before",children:"1 Hour Before"})]})}),e.jsx(i.Item,{name:"is_active",label:"Active",valuePropName:"checked",children:e.jsx(I,{})})]})})]})]})}export{Ye as default};
