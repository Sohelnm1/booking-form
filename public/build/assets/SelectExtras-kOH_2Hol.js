import{r as E,j as e,H as z,a as j}from"./app-CjLSFTvF.js";import{B as w}from"./BookingHeader-C0Bq4WCx.js";import{aa as A,T as D,C as m,B as y}from"./Logo-DLy9Pi-u.js";import{P as I}from"./progress-_SmLRBSL.js";import{R as h,C as c}from"./row-CQ454HWN.js";import{S as g}from"./index-Cz--6uym.js";import{A as P}from"./index-DVTfiP3p.js";import{C as $}from"./index-KNdCQ6Gc.js";import{T as u}from"./index-YgNiGMGF.js";import{D as f}from"./index-Czbv6qhl.js";import{R as F}from"./ArrowLeftOutlined-BMRj3qJQ.js";import{R as H}from"./ArrowRightOutlined-De55CfWK.js";/* empty css            */import"./CustomerLoginModal-B038DbZP.js";import"./index-BFDovZzk.js";import"./CheckCircleFilled-Dt1Auu-O.js";import"./InfoCircleFilled-D_PNQDwx.js";import"./pickAttrs-D4RZEvRE.js";import"./useClosable-C1CguS7l.js";import"./PurePanel-Ctdvl-zP.js";import"./PhoneOutlined-DCAGKc-b.js";import"./LockOutlined-DR4CBdjC.js";import"./index-D0ij-sgg.js";import"./Input-DRyzWO36.js";import"./EyeOutlined-FpwRxIr8.js";import"./EyeOutlined-Bmd706kk.js";import"./index-BdNhniXG.js";import"./index-CgCFGhN9.js";import"./LogoutOutlined-Di16fjZE.js";import"./BookOutlined-DMP3c20R.js";import"./CalendarOutlined-C51-_ebW.js";const{Title:a,Text:s}=D;function je({service:r,extras:p,auth:v}){const[l,b]=E.useState([]);console.log("SelectExtras component - Extras data:",p),console.log("SelectExtras component - Selected extras:",l);const S=t=>{b(i=>i.find(n=>n.id===t.id)?i.filter(n=>n.id!==t.id):[...i,t])},B=()=>{j.visit(route("booking.select-service"))},k=()=>{const t=l.map(i=>i.id);j.visit(route("booking.select-datetime"),{data:{service_id:r.id,extras:t}})},d=t=>`â‚¹${parseFloat(t).toFixed(2)}`,C=()=>{const t=parseFloat(r.price),i=l.reduce((o,n)=>o+parseFloat(n.price),0);return t+i},T=()=>{const t=r.duration,i=l.reduce((o,n)=>{if(n.durationRelation){const R=n.durationRelation.hours*60+n.durationRelation.minutes;return o+R}return o+(n.total_duration||0)},0);return t+i},x=t=>{if(t<60)return`${t} min`;{const i=Math.floor(t/60),o=t%60;return o>0?`${i}h ${o}m`:`${i}h`}};return e.jsxs("div",{children:[e.jsx(z,{title:"Select Extras - Book Appointment"}),e.jsx(w,{auth:v}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(A,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(a,{level:2,style:{marginTop:24,marginBottom:8},children:"Add Extras (Optional)"}),e.jsx(s,{type:"secondary",style:{fontSize:16},children:"Enhance your experience with additional services"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(I,{percent:40,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(s,{type:"secondary",children:"Step 2 of 5"})})]}),e.jsxs(h,{gutter:[32,32],children:[e.jsxs(c,{xs:24,lg:16,children:[e.jsxs(m,{style:{marginBottom:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Selected Service"}),e.jsxs(h,{align:"middle",gutter:16,children:[e.jsx(c,{children:e.jsx("div",{style:{width:60,height:60,backgroundColor:r.color||"#f0f0f0",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:24,fontWeight:"bold"},children:r.name.charAt(0)})}),e.jsxs(c,{flex:"1",children:[e.jsx(a,{level:5,style:{margin:0},children:r.name}),e.jsxs(g,{size:"large",children:[e.jsx(s,{type:"secondary",children:x(r.duration)}),e.jsx(s,{strong:!0,children:d(r.price)})]})]})]})]}),e.jsxs(m,{children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Available Extras"}),p.length===0?e.jsx(P,{message:"No extras available",description:"There are currently no additional services available for this booking.",type:"info",showIcon:!0}):e.jsx(h,{gutter:[16,16],children:p.map(t=>{const i=l.find(o=>o.id===t.id);return e.jsx(c,{xs:24,sm:12,children:e.jsx(m,{hoverable:!0,style:{cursor:"pointer",border:i?"2px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s ease"},onClick:()=>S(t),styles:{body:{padding:16}},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx($,{checked:i,style:{marginRight:12}}),e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{level:5,style:{margin:0,marginBottom:4},children:t.name}),t.description&&e.jsx(s,{type:"secondary",style:{fontSize:12},children:t.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(g,{size:"small",children:[t.durationRelation&&e.jsx(u,{size:"small",children:t.durationRelation.label}),e.jsx(u,{size:"small",color:"green",children:d(t.price)})]})})]})]})})},t.id)})})]})]}),e.jsx(c,{xs:24,lg:8,children:e.jsxs(m,{style:{position:"sticky",top:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(s,{strong:!0,children:r.name}),e.jsx(s,{children:d(r.price)})]}),e.jsx(s,{type:"secondary",style:{fontSize:12},children:x(r.duration)})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(f,{style:{margin:"12px 0"}}),l.map(t=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(s,{children:["+ ",t.name]}),e.jsx(s,{children:d(t.price)})]}),e.jsx(s,{type:"secondary",style:{fontSize:12},children:t.durationRelation?t.durationRelation.label:"No additional time"})]},t.id))]}),e.jsx(f,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(s,{strong:!0,children:"Total Price"}),e.jsx(s,{strong:!0,style:{fontSize:16},children:d(C())})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(s,{type:"secondary",children:"Total Duration"}),e.jsx(s,{type:"secondary",children:x(T())})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(y,{block:!0,style:{marginBottom:12},icon:e.jsx(F,{}),onClick:B,children:"Back to Services"}),e.jsx(y,{type:"primary",block:!0,size:"large",icon:e.jsx(H,{}),onClick:k,children:"Continue to Date & Time"})]})]})})]})]})]})}export{je as default};
