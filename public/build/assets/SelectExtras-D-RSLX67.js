import{r as w,j as e,H as z,a as j}from"./app-DTC4ZZNb.js";import{B as E}from"./BookingHeader-qvXOUfMl.js";import{ad as R,T as A,C as x,B as y}from"./Logo-DquL4p3I.js";import{P as D}from"./progress-BdyNK6_Q.js";import{R as h,C as c}from"./row-lAuwD3g0.js";import{S as g}from"./CalendarOutlined-CctC6Pcs.js";import{A as I}from"./index-BIKDgPMz.js";import{C as P}from"./index-D4Uhjdph.js";import{T as f}from"./index-BJYsJc6u.js";import{D as u}from"./index-DhanCFNt.js";import{R as $}from"./ArrowLeftOutlined-D_IzFOB4.js";import{R as F}from"./ArrowRightOutlined-BJyv38Q1.js";/* empty css            */import"./LogoutOutlined-COY5kKcC.js";import"./index-Bqg-RgM5.js";import"./CheckCircleFilled-DjYrG16o.js";import"./InfoCircleFilled-BjTCDjnz.js";import"./pickAttrs-BptzpJpD.js";import"./BookOutlined-PmSpIuVa.js";import"./useClosable-BPoA1z8W.js";const{Title:a,Text:i}=A;function ie({service:r,extras:p,auth:v}){const[l,b]=w.useState([]),B=t=>{b(s=>s.find(n=>n.id===t.id)?s.filter(n=>n.id!==t.id):[...s,t])},k=()=>{j.visit(route("booking.select-service"))},C=()=>{const t=l.map(s=>s.id);j.visit(route("booking.select-datetime"),{data:{service_id:r.id,extras:t}})},d=t=>`â‚¹${parseFloat(t).toFixed(2)}`,S=()=>{const t=parseFloat(r.price),s=l.reduce((o,n)=>o+parseFloat(n.price),0);return t+s},T=()=>{const t=r.duration,s=l.reduce((o,n)=>o+(n.duration||0),0);return t+s},m=t=>{if(t<60)return`${t} min`;{const s=Math.floor(t/60),o=t%60;return o>0?`${s}h ${o}m`:`${s}h`}};return e.jsxs("div",{children:[e.jsx(z,{title:"Select Extras - Book Appointment"}),e.jsx(E,{auth:v}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(R,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(a,{level:2,style:{marginTop:24,marginBottom:8},children:"Add Extras (Optional)"}),e.jsx(i,{type:"secondary",style:{fontSize:16},children:"Enhance your experience with additional services"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(D,{percent:40,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(i,{type:"secondary",children:"Step 2 of 5"})})]}),e.jsxs(h,{gutter:[32,32],children:[e.jsxs(c,{xs:24,lg:16,children:[e.jsxs(x,{style:{marginBottom:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Selected Service"}),e.jsxs(h,{align:"middle",gutter:16,children:[e.jsx(c,{children:e.jsx("div",{style:{width:60,height:60,backgroundColor:r.color||"#f0f0f0",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:24,fontWeight:"bold"},children:r.name.charAt(0)})}),e.jsxs(c,{flex:"1",children:[e.jsx(a,{level:5,style:{margin:0},children:r.name}),e.jsxs(g,{size:"large",children:[e.jsx(i,{type:"secondary",children:m(r.duration)}),e.jsx(i,{strong:!0,children:d(r.price)})]})]})]})]}),e.jsxs(x,{children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Available Extras"}),p.length===0?e.jsx(I,{message:"No extras available",description:"There are currently no additional services available for this booking.",type:"info",showIcon:!0}):e.jsx(h,{gutter:[16,16],children:p.map(t=>{const s=l.find(o=>o.id===t.id);return e.jsx(c,{xs:24,sm:12,children:e.jsx(x,{hoverable:!0,style:{cursor:"pointer",border:s?"2px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s ease"},onClick:()=>B(t),styles:{body:{padding:16}},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(P,{checked:s,style:{marginRight:12}}),e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{level:5,style:{margin:0,marginBottom:4},children:t.name}),t.description&&e.jsx(i,{type:"secondary",style:{fontSize:12},children:t.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(g,{size:"small",children:[t.duration&&e.jsx(f,{size:"small",children:m(t.duration)}),e.jsx(f,{size:"small",color:"green",children:d(t.price)})]})})]})]})})},t.id)})})]})]}),e.jsx(c,{xs:24,lg:8,children:e.jsxs(x,{style:{position:"sticky",top:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(i,{strong:!0,children:r.name}),e.jsx(i,{children:d(r.price)})]}),e.jsx(i,{type:"secondary",style:{fontSize:12},children:m(r.duration)})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(u,{style:{margin:"12px 0"}}),l.map(t=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(i,{children:["+ ",t.name]}),e.jsx(i,{children:d(t.price)})]})},t.id))]}),e.jsx(u,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(i,{strong:!0,children:"Total Price"}),e.jsx(i,{strong:!0,style:{fontSize:16},children:d(S())})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(i,{type:"secondary",children:"Total Duration"}),e.jsx(i,{type:"secondary",children:m(T())})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(y,{block:!0,style:{marginBottom:12},icon:e.jsx($,{}),onClick:k,children:"Back to Services"}),e.jsx(y,{type:"primary",block:!0,size:"large",icon:e.jsx(F,{}),onClick:C,children:"Continue to Date & Time"})]})]})})]})]})]})}export{ie as default};
