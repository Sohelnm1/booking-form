import{r as m,j as i,H,a as $}from"./app-DnBUe71m.js";import{A as z}from"./AdminLayout-VzsJjYXS.js";import{g as Z,m as k,r as ee,u as c,c as _,d as C,_ as te,R as ie,t as re,p as le,T as ne,B as S,C as I}from"./Logo-d18iKqhX.js";import{R as M}from"./ArrowLeftOutlined-B12VKvPd.js";import{S as q,R as Q}from"./CalendarOutlined-BWuVI49w.js";import{R as se}from"./EditOutlined-DVskbyyk.js";import{R as ae}from"./DeleteOutlined-bDDCFrrL.js";import{R as w,C as x}from"./row-DhLcStMH.js";import{I as oe}from"./index-DKNxrETB.js";import{D as b}from"./index-AdnzHALW.js";import{T as D}from"./index-EGWWSf3y.js";import{R as ce}from"./ClockCircleOutlined-Y_ExIa-d.js";import{S as B}from"./index-BFfIiHhi.js";import{R as de}from"./DollarOutlined-BkqwD4rV.js";import{D as me}from"./index-CiS5dlOl.js";import{P as ge}from"./progress-CVNG5RG3.js";import{R as pe}from"./UserOutlined-CqPawb0h.js";import{R as ue}from"./EyeOutlined-Bki2fN4f.js";import{M as he}from"./index-DIYnBKK1.js";import{s as P}from"./index-BLbio3of.js";/* empty css            */import"./index-D4ar086R.js";import"./PurePanel-CP9IzOJM.js";import"./move-f6ZjHrso.js";import"./LogoutOutlined-DQ3mPBaO.js";import"./FileTextOutlined-DpzeRDe-.js";import"./GiftOutlined-CvkpbeLK.js";import"./SettingOutlined-B0hSz6aE.js";import"./EyeOutlined-BNjV21IN.js";import"./addEventListener-C5424lW9.js";import"./useClosable-DWgi864G.js";import"./pickAttrs-Dqx1FUEo.js";import"./CheckCircleFilled-CBbSeZU4.js";import"./InfoCircleFilled-D3B-cMeV.js";const fe=e=>{const{componentCls:t,calc:l}=e;return{[t]:Object.assign(Object.assign({},ee(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:l(l(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${c(e.itemHeadSize)})`,borderInlineStart:`${c(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${c(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:l(e.itemHeadSize).div(2).equal(),insetInlineStart:l(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:l(l(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:l(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:l(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:l(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:l(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${c(e.marginXXS)})`,width:`calc(50% - ${c(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${c(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${c(l(l(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${c(l(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${c(e.margin)})`,borderInlineStart:`${c(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${c(e.margin)})`,borderInlineStart:`${c(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:l(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:l(l(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${c(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${c(e.marginSM)})`,width:`calc(50% - ${c(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},xe=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25}),je=Z("Timeline",e=>{const t=k(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[fe(t)]},xe);var ye=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const G=e=>{var{prefixCls:t,className:l,color:r="blue",dot:n,pending:j=!1,position:f,label:g,children:y}=e,d=ye(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:p}=m.useContext(_),a=p("timeline",t),A=C(`${a}-item`,{[`${a}-item-pending`]:j},l),u=/blue|red|green|gray/.test(r||"")?void 0:r,s=C(`${a}-item-head`,{[`${a}-item-head-custom`]:!!n,[`${a}-item-head-${r}`]:!u});return m.createElement("li",Object.assign({},d,{className:A}),g&&m.createElement("div",{className:`${a}-item-label`},g),m.createElement("div",{className:`${a}-item-tail`}),m.createElement("div",{className:s,style:{borderColor:u,color:u}},n),m.createElement("div",{className:`${a}-item-content`},y))};var W=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const Ae=e=>{var{prefixCls:t,className:l,pending:r=!1,children:n,items:j,rootClassName:f,reverse:g=!1,direction:y,hashId:d,pendingDot:p,mode:a=""}=e,A=W(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const u=(o,v)=>a==="alternate"?o==="right"?`${t}-item-right`:o==="left"?`${t}-item-left`:v%2===0?`${t}-item-left`:`${t}-item-right`:a==="left"?`${t}-item-left`:a==="right"?`${t}-item-right`:o==="right"?`${t}-item-right`:"",s=te(j||[]),R=typeof r=="boolean"?null:r;r&&s.push({pending:!!r,dot:p||m.createElement(ie,null),children:R}),g&&s.reverse();const E=s.length,T=`${t}-item-last`,F=s.filter(o=>!!o).map((o,v)=>{var O;const Y=v===E-2?T:"",J=v===E-1?T:"",{className:X}=o,K=W(o,["className"]);return m.createElement(G,Object.assign({},K,{className:C([X,!g&&r?Y:J,u((O=o?.position)!==null&&O!==void 0?O:"",v)]),key:o?.key||v}))}),N=s.some(o=>!!o?.label),U=C(t,{[`${t}-pending`]:!!r,[`${t}-reverse`]:!!g,[`${t}-${a}`]:!!a&&!N,[`${t}-label`]:N,[`${t}-rtl`]:y==="rtl"},l,f,d);return m.createElement("ol",Object.assign({},A,{className:U}),F)};function Se(e,t){return e&&Array.isArray(e)?e:re(t).map(l=>{var r,n;return Object.assign({children:(n=(r=l?.props)===null||r===void 0?void 0:r.children)!==null&&n!==void 0?n:""},l.props)})}var be=function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]]);return l};const V=e=>{const{getPrefixCls:t,direction:l,timeline:r}=m.useContext(_),{prefixCls:n,children:j,items:f,className:g,style:y}=e,d=be(e,["prefixCls","children","items","className","style"]),p=t("timeline",n),a=le(p),[A,u,s]=je(p,a),R=Se(f,j);return A(m.createElement(Ae,Object.assign({},d,{className:C(r?.className,g,s,a),style:Object.assign(Object.assign({},r?.style),y),prefixCls:p,direction:l,items:R,hashId:u})))};V.Item=G;const{Title:L,Text:h,Paragraph:ve}=ne;function lt({auth:e,service:t,categories:l,durations:r,errors:n}){const[j,f]=m.useState(!1);if(!t)return i.jsxs(z,{auth:e,children:[i.jsx(H,{title:"Service Not Found"}),i.jsxs("div",{style:{textAlign:"center",padding:"50px 20px"},children:[i.jsx(L,{level:2,style:{color:"#ff4d4f",marginBottom:16},children:"Service Not Found"}),i.jsx(h,{type:"secondary",style:{fontSize:"16px",marginBottom:24},children:"The service you're looking for doesn't exist or has been deleted."}),i.jsx(S,{type:"primary",icon:i.jsx(M,{}),onClick:()=>$.visit(route("admin.services")),children:"Back to Services"})]})]});const g=r.find(s=>s.value===t.duration),y=g?g.label:`${t.duration} minutes`,d={totalBookings:45,totalRevenue:t.price*45,averageRating:4.8,completionRate:92,recentBookings:[{id:1,customer:"John Doe",date:"2024-01-15",status:"completed"},{id:2,customer:"Jane Smith",date:"2024-01-14",status:"completed"},{id:3,customer:"Mike Johnson",date:"2024-01-13",status:"cancelled"}]},p=()=>{$.visit(route("admin.services"),{data:{editService:t.id}})},a=()=>{f(!0)},A=()=>{P.loading({content:"Deleting service...",key:"deleteService"}),$.post(route("admin.services.delete",t.id),{onSuccess:()=>{P.success({content:"Service deleted successfully",key:"deleteService",duration:3})},onError:s=>{console.error("Delete service errors:",s),P.error({content:"Failed to delete service. Please try again.",key:"deleteService",duration:5})}}),f(!1)},u=()=>{$.visit(route("admin.services"))};return i.jsxs(z,{auth:e,children:[i.jsx(H,{title:`Service: ${t.name}`}),i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[i.jsx(S,{icon:i.jsx(M,{}),onClick:u,style:{marginRight:8},children:"Back to Services"}),i.jsxs("div",{children:[i.jsx(L,{level:2,style:{marginBottom:4},children:t.name}),i.jsx(h,{type:"secondary",children:"Service Details & Analytics"})]})]}),i.jsxs(q,{children:[i.jsx(S,{type:"primary",icon:i.jsx(se,{}),onClick:p,children:"Edit Service"}),i.jsx(S,{danger:!0,icon:i.jsx(ae,{}),onClick:a,children:"Delete Service"})]})]}),i.jsxs(w,{gutter:24,children:[i.jsxs(x,{span:16,children:[i.jsx(I,{title:"Service Information",style:{marginBottom:24},children:i.jsxs(w,{gutter:24,children:[i.jsx(x,{span:8,children:i.jsx(oe,{width:200,height:200,src:t.image||`https://placehold.co/200x200/${t.color?.replace("#","")||"1890ff"}/ffffff?text=${t.name?.charAt(0)?.toUpperCase()||"S"}`,alt:t.name,style:{borderRadius:8},fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3Ik1RnG4W+FgYxN"})}),i.jsxs(x,{span:16,children:[i.jsxs(b,{column:1,size:"small",children:[i.jsx(b.Item,{label:"Name",children:i.jsx(h,{strong:!0,children:t.name})}),i.jsx(b.Item,{label:"Category",children:i.jsx(D,{color:"blue",children:t.category})}),i.jsx(b.Item,{label:"Price",children:i.jsxs(h,{strong:!0,style:{color:"#52c41a",fontSize:"18px"},children:["₹",t.price]})}),i.jsx(b.Item,{label:"Duration",children:i.jsxs(h,{children:[i.jsx(ce,{style:{marginRight:8}}),y]})}),i.jsx(b.Item,{label:"Status",children:i.jsx(D,{color:t.is_active?"green":"red",children:t.is_active?"Active":"Inactive"})}),i.jsx(b.Item,{label:"Color",children:i.jsx("div",{style:{width:24,height:24,backgroundColor:t.color||"#1890ff",borderRadius:4,border:"1px solid #d9d9d9"}})})]}),t.description&&i.jsxs("div",{style:{marginTop:16},children:[i.jsx(h,{strong:!0,children:"Description:"}),i.jsx(ve,{style:{marginTop:8},children:t.description})]})]})]})}),i.jsxs(I,{title:"Analytics & Performance",children:[i.jsxs(w,{gutter:24,children:[i.jsx(x,{span:6,children:i.jsx(B,{title:"Total Bookings",value:d.totalBookings,prefix:i.jsx(Q,{})})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Total Revenue",value:d.totalRevenue,prefix:i.jsx(de,{}),formatter:s=>`₹${s}`})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Average Rating",value:d.averageRating,suffix:"/ 5",precision:1})}),i.jsx(x,{span:6,children:i.jsx(B,{title:"Completion Rate",value:d.completionRate,suffix:"%"})})]}),i.jsx(me,{}),i.jsxs("div",{style:{marginTop:16},children:[i.jsx(h,{strong:!0,children:"Completion Rate Trend"}),i.jsx(ge,{percent:d.completionRate,status:"active",style:{marginTop:8}})]})]})]}),i.jsxs(x,{span:8,children:[i.jsx(I,{title:"Recent Bookings",style:{marginBottom:24},children:i.jsx(V,{items:d.recentBookings.map(s=>({key:s.id,color:s.status==="completed"?"green":"red",children:i.jsxs("div",{children:[i.jsx(h,{strong:!0,children:s.customer}),i.jsx("br",{}),i.jsx(h,{type:"secondary",children:s.date}),i.jsx("br",{}),i.jsx(D,{color:s.status==="completed"?"green":"red",size:"small",children:s.status})]})}))})}),i.jsx(I,{title:"Quick Actions",children:i.jsxs(q,{direction:"vertical",style:{width:"100%"},children:[i.jsx(S,{type:"primary",icon:i.jsx(Q,{}),block:!0,onClick:()=>$.visit(route("admin.appointments")),children:"View All Bookings"}),i.jsx(S,{icon:i.jsx(pe,{}),block:!0,onClick:()=>$.visit(route("admin.customers")),children:"Manage Customers"}),i.jsx(S,{icon:i.jsx(ue,{}),block:!0,onClick:()=>window.open(`/booking?service=${t.id}`,"_blank"),children:"Preview Booking Page"})]})})]})]}),i.jsxs(he,{title:"Delete Service",open:j,onOk:A,onCancel:()=>f(!1),okText:"Delete",cancelText:"Cancel",okType:"danger",children:[i.jsxs("p",{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']}),i.jsxs("p",{style:{color:"#ff4d4f",fontSize:"14px"},children:[i.jsx("strong",{children:"Warning:"})," This will also delete all associated bookings and data."]})]})]})]})}export{lt as default};
