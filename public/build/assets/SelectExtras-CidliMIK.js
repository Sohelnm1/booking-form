import{r as w,j as e,H as z,a as j}from"./app-CJqx2nlw.js";import{B as E}from"./BookingHeader-DlaQJaBH.js";import{aa as R,T as A,C as p,B as y}from"./Logo-BxrHS6GJ.js";import{P as D}from"./progress-Dt23xBl_.js";import{R as x,C as c}from"./row-BB7zYcZo.js";import{S as g}from"./index-as06zxLB.js";import{A as I}from"./index-Cs2l_6CY.js";import{C as P}from"./index-Cn4Gi7e7.js";import{T as f}from"./index-CV9a0vwC.js";import{D as u}from"./index-DLM9gAB5.js";import{R as $}from"./ArrowLeftOutlined-yKlQVHqx.js";import{R as F}from"./ArrowRightOutlined-DxFFABcX.js";/* empty css            */import"./CustomerLoginModal-gqiIuWZF.js";import"./index-Be8JAZRx.js";import"./CheckCircleFilled-As6OzaIf.js";import"./InfoCircleFilled-C2YIh8OJ.js";import"./pickAttrs-Oxm3QeZq.js";import"./PurePanel-Db2cDM3B.js";import"./index-BSbgTexK.js";import"./PhoneOutlined-CJIyHHPe.js";import"./LockOutlined-D3xpkIiV.js";import"./index-B2sDrt4R.js";import"./Input-CO2vg1SB.js";import"./EyeOutlined-Bp5OE_RV.js";import"./EyeOutlined-Bmd706kk.js";import"./index-C302MrZq.js";import"./index-Bd_PfEaH.js";import"./LogoutOutlined-DaqdC0QT.js";import"./BookOutlined-DilCI1Ob.js";import"./CalendarOutlined-B_C58u2P.js";const{Title:a,Text:r}=A;function he({service:s,extras:h,auth:v}){const[l,b]=w.useState([]),B=t=>{b(i=>i.find(n=>n.id===t.id)?i.filter(n=>n.id!==t.id):[...i,t])},k=()=>{j.visit(route("booking.select-service"))},C=()=>{const t=l.map(i=>i.id);j.visit(route("booking.select-datetime"),{data:{service_id:s.id,extras:t}})},d=t=>`â‚¹${parseFloat(t).toFixed(2)}`,S=()=>{const t=parseFloat(s.price),i=l.reduce((o,n)=>o+parseFloat(n.price),0);return t+i},T=()=>{const t=s.duration,i=l.reduce((o,n)=>o+(n.duration||0),0);return t+i},m=t=>{if(t<60)return`${t} min`;{const i=Math.floor(t/60),o=t%60;return o>0?`${i}h ${o}m`:`${i}h`}};return e.jsxs("div",{children:[e.jsx(z,{title:"Select Extras - Book Appointment"}),e.jsx(E,{auth:v}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(R,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(a,{level:2,style:{marginTop:24,marginBottom:8},children:"Add Extras (Optional)"}),e.jsx(r,{type:"secondary",style:{fontSize:16},children:"Enhance your experience with additional services"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(D,{percent:40,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(r,{type:"secondary",children:"Step 2 of 5"})})]}),e.jsxs(x,{gutter:[32,32],children:[e.jsxs(c,{xs:24,lg:16,children:[e.jsxs(p,{style:{marginBottom:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Selected Service"}),e.jsxs(x,{align:"middle",gutter:16,children:[e.jsx(c,{children:e.jsx("div",{style:{width:60,height:60,backgroundColor:s.color||"#f0f0f0",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:24,fontWeight:"bold"},children:s.name.charAt(0)})}),e.jsxs(c,{flex:"1",children:[e.jsx(a,{level:5,style:{margin:0},children:s.name}),e.jsxs(g,{size:"large",children:[e.jsx(r,{type:"secondary",children:m(s.duration)}),e.jsx(r,{strong:!0,children:d(s.price)})]})]})]})]}),e.jsxs(p,{children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Available Extras"}),h.length===0?e.jsx(I,{message:"No extras available",description:"There are currently no additional services available for this booking.",type:"info",showIcon:!0}):e.jsx(x,{gutter:[16,16],children:h.map(t=>{const i=l.find(o=>o.id===t.id);return e.jsx(c,{xs:24,sm:12,children:e.jsx(p,{hoverable:!0,style:{cursor:"pointer",border:i?"2px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s ease"},onClick:()=>B(t),styles:{body:{padding:16}},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(P,{checked:i,style:{marginRight:12}}),e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{level:5,style:{margin:0,marginBottom:4},children:t.name}),t.description&&e.jsx(r,{type:"secondary",style:{fontSize:12},children:t.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(g,{size:"small",children:[t.duration&&e.jsx(f,{size:"small",children:m(t.duration)}),e.jsx(f,{size:"small",color:"green",children:d(t.price)})]})})]})]})})},t.id)})})]})]}),e.jsx(c,{xs:24,lg:8,children:e.jsxs(p,{style:{position:"sticky",top:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(r,{strong:!0,children:s.name}),e.jsx(r,{children:d(s.price)})]}),e.jsx(r,{type:"secondary",style:{fontSize:12},children:m(s.duration)})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(u,{style:{margin:"12px 0"}}),l.map(t=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(r,{children:["+ ",t.name]}),e.jsx(r,{children:d(t.price)})]})},t.id))]}),e.jsx(u,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(r,{strong:!0,children:"Total Price"}),e.jsx(r,{strong:!0,style:{fontSize:16},children:d(S())})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(r,{type:"secondary",children:"Total Duration"}),e.jsx(r,{type:"secondary",children:m(T())})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(y,{block:!0,style:{marginBottom:12},icon:e.jsx($,{}),onClick:k,children:"Back to Services"}),e.jsx(y,{type:"primary",block:!0,size:"large",icon:e.jsx(F,{}),onClick:C,children:"Continue to Date & Time"})]})]})})]})]})]})}export{he as default};
