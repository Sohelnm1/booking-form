import{j as e,a as r,H as v}from"./app-CJqx2nlw.js";import{T as w,B as n,aa as k,ab as C,C as u}from"./Logo-BxrHS6GJ.js";import{d as _}from"./dayjs.min-ByW_Pquc.js";import{L as h}from"./index-Bd_PfEaH.js";import{S as d}from"./index-as06zxLB.js";import{A as S,R as I}from"./LogoutOutlined-DaqdC0QT.js";import{s as A}from"./index-C302MrZq.js";import{R as B}from"./ArrowLeftOutlined-yKlQVHqx.js";import{F as b}from"./Table-BTQPa3Mr.js";import{T as a}from"./index-CV9a0vwC.js";import{E as z}from"./index-CKTeyKnI.js";import{R as T}from"./BookOutlined-DilCI1Ob.js";import{R}from"./CalendarOutlined-B_C58u2P.js";/* empty css            */import"./CheckCircleFilled-As6OzaIf.js";import"./InfoCircleFilled-C2YIh8OJ.js";import"./pickAttrs-Oxm3QeZq.js";import"./addEventListener-HUtlaoVL.js";import"./index-BEVLC0fB.js";import"./PurePanel-Db2cDM3B.js";import"./move-B1raSf7m.js";import"./Input-CO2vg1SB.js";import"./index-Cn4Gi7e7.js";import"./index-DWAqtCPW.js";import"./index-CRPSkqIR.js";import"./useForm-BiSx87GW.js";import"./index-DiKTrVqn.js";const{Title:x,Text:i}=w,{Header:F,Content:D}=h;function le({auth:l,bookings:o}){if(!l||!l.user)return e.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[e.jsx(x,{level:2,children:"Access Denied"}),e.jsx(i,{children:"Please log in to view your bookings."}),e.jsx("br",{}),e.jsx(n,{type:"primary",onClick:()=>r.visit(route("welcome")),style:{marginTop:16},children:"Go to Home"})]});const c=t=>{switch(t){case"confirmed":return"success";case"pending":return"warning";case"completed":return"processing";case"cancelled":return"error";case"no_show":return"default";default:return"default"}},m=t=>{switch(t){case"paid":return"success";case"pending":return"warning";case"failed":return"error";case"refunded":return"default";default:return"default"}},p=t=>_(t).format("MMM DD, YYYY h:mm A"),y=t=>t?t.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):"CU",j=()=>{r.post(route("logout"),{},{onSuccess:()=>{window.location.reload()}})},f=[{key:"services",icon:e.jsx(T,{}),label:"Services",onClick:()=>r.visit(route("booking.select-service"))},{key:"bookings",icon:e.jsx(R,{}),label:"Your Bookings"}],g=[{title:"Service",dataIndex:"service",key:"service",render:t=>t?.name||"N/A",responsive:["md"]},{title:"Employee",dataIndex:"employee",key:"employee",render:t=>t?.name||"Auto-assigned",responsive:["lg"]},{title:"Date & Time",dataIndex:"appointment_time",key:"appointment_time",render:t=>p(t)},{title:"Duration",dataIndex:"duration",key:"duration",render:t=>`${t} minutes`,responsive:["md"]},{title:"Status",dataIndex:"status",key:"status",render:t=>e.jsx(a,{color:c(t),children:t.charAt(0).toUpperCase()+t.slice(1)})},{title:"Payment",dataIndex:"payment_status",key:"payment_status",render:t=>e.jsx(a,{color:m(t),children:t.charAt(0).toUpperCase()+t.slice(1)}),responsive:["md"]},{title:"Amount",dataIndex:"total_amount",key:"total_amount",render:t=>`₹${parseFloat(t).toFixed(2)}`,responsive:["sm"]},{title:"Reschedule",key:"reschedule",render:(t,s)=>e.jsx("div",{children:s.reschedule_attempts>0?e.jsxs(d,{direction:"vertical",size:"small",children:[e.jsxs(i,{type:"secondary",style:{fontSize:"12px"},children:[s.reschedule_attempts," time(s)"]}),s.reschedule_payment_amount>0&&e.jsxs(i,{type:"secondary",style:{fontSize:"12px",color:"#52c41a"},children:["Fee: ₹",s.reschedule_payment_amount]})]}):e.jsx(i,{type:"secondary",style:{fontSize:"12px"},children:"Never"})}),responsive:["md"]},{title:"Actions",key:"actions",render:(t,s)=>e.jsx(d,{children:e.jsx(n,{size:"small",onClick:()=>r.visit(route("customer.bookings.show",s.id)),children:"View"})})}];return e.jsxs(h,{style:{minHeight:"100vh"},children:[e.jsx(v,{title:"Your Bookings - HospiPal"}),e.jsxs(F,{style:{background:"#fff",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",height:"auto",minHeight:64,maxWidth:"100vw",width:"100%",overflow:"hidden"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",flexShrink:0,minWidth:0},children:e.jsx(k,{variant:"primary",color:"color",background:"white",size:"medium"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flex:1,justifyContent:"flex-end",minWidth:0,overflow:"hidden"},children:[e.jsx(C,{mode:"horizontal",items:f,selectedKeys:["bookings"],style:{border:"none",background:"transparent",fontSize:"14px",minWidth:0,flexShrink:1,maxWidth:"100%"}}),e.jsxs(d,{size:"small",style:{flexShrink:0},children:[e.jsx(S,{style:{backgroundColor:"#1890ff",cursor:"pointer"},onClick:()=>A.info("Profile settings coming soon"),children:y(l.user?.name)}),e.jsx(n,{type:"text",icon:e.jsx(I,{}),onClick:j,size:"small",children:e.jsx("span",{className:"hidden-xs",children:"Logout"})})]})]})]}),e.jsx(D,{style:{padding:"16px"},children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(n,{icon:e.jsx(B,{}),onClick:()=>r.visit(route("welcome")),style:{marginBottom:16},children:"Back to Home"}),e.jsx(x,{level:2,style:{marginBottom:8},children:"Your Bookings"}),e.jsx(i,{type:"secondary",children:"View and manage all your appointments"})]}),e.jsx(u,{children:o&&o.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden-xs",children:e.jsx(b,{columns:g,dataSource:o,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,s)=>`${s[0]}-${s[1]} of ${t} bookings`}})}),e.jsx("div",{className:"visible-xs",children:o.map(t=>e.jsxs(u,{style:{marginBottom:16},styles:{body:{padding:16}},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:8},children:[e.jsx(i,{strong:!0,style:{fontSize:16},children:t.service?.name}),e.jsx(a,{color:c(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),e.jsx(i,{type:"secondary",children:p(t.appointment_time)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs(i,{type:"secondary",children:["Duration:"," "]}),e.jsxs(i,{children:[t.duration," ","minutes"]})]}),e.jsxs("div",{children:[e.jsxs(i,{type:"secondary",children:["Amount:"," "]}),e.jsxs(i,{strong:!0,children:["₹",parseFloat(t.total_amount).toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{color:m(t.payment_status),children:t.payment_status.charAt(0).toUpperCase()+t.payment_status.slice(1)}),e.jsx(n,{size:"small",type:"primary",onClick:()=>r.visit(route("customer.bookings.show",t.id)),children:"View Details"})]})]},t.id))})]}):e.jsx(z,{description:"No bookings found",style:{padding:"40px 0"},children:e.jsx(n,{type:"primary",onClick:()=>r.visit(route("booking.select-service")),children:"Book Your First Appointment"})})})]})})]})}export{le as default};
