import{r as s,j as e,H as we,a as $}from"./app-CA7f6DU0.js";import{d as te}from"./dayjs.min-GuoJH8kh.js";import{B as Ce}from"./BookingHeader-CSR7g5vk.js";import{ab as Se,T as Re,C as W,S as ie,B as m}from"./Logo-MHWbOqmI.js";import{L as ce}from"./UserOutlined-1UXzhebA.js";import{P as ke}from"./progress-CLXi3e3e.js";import{R as _e,C as re}from"./row-BlKxXlHq.js";import{R as ne}from"./FileTextOutlined-yMPmzkG3.js";import{C as oe}from"./index-B5SaByly.js";import{T as O}from"./index-Ds9HeH9X.js";import{R as se}from"./EyeOutlined-rlFVXiZZ.js";import{A as k}from"./index-zzVee3yh.js";import{R as ze}from"./CheckCircleOutlined-Cw0SS9HE.js";import{D as _}from"./index-2F6H9U2M.js";import{R as Te}from"./ArrowLeftOutlined-DZ_WOcTY.js";import{R as Be}from"./ArrowRightOutlined-DJHoGrw8.js";import{M as ae}from"./index-Cz5OlNXb.js";import{I as le}from"./index-DcCG8vEq.js";import{R as de}from"./PhoneOutlined-CAzga5wx.js";import{R as Ie}from"./SendOutlined-BqDLd5vV.js";import{R as qe}from"./CheckOutlined-CtInzlba.js";import{s as l}from"./index-Dx8HeWiZ.js";import{C as Pe}from"./Collapse-PNE6Daee.js";/* empty css            */import"./useClosable-DG7f7Idy.js";import"./extendsObject-78o_rR5W.js";import"./HomeOutlined-BC6tGR8R.js";import"./QuestionCircleOutlined-CkfPyHQh.js";import"./CheckCircleFilled-xt-B5d7_.js";import"./EyeOutlined-Bmd706kk.js";import"./InfoCircleFilled-C1mA1e7y.js";import"./Input-BKQ3P4Xm.js";import"./EyeOutlined-Iv6QLWoO.js";const{Title:b,Text:r,Paragraph:We}=Re,{Panel:ut}=Pe,{Content:Oe}=ce;function yt({service:a,selectedExtras:j,date:E,time:U,consentSettings:C,selectedPricingTier:o,selectedDuration:Ae,selectedPrice:Ve,bookingSettings:z,auth:v}){const[g,Y]=s.useState([]),[w,pe]=s.useState(null),[fe,A]=s.useState(!1),[d,T]=s.useState(""),[c,V]=s.useState(""),[F,H]=s.useState(!1),[p,B]=s.useState(!1),[I,M]=s.useState(!1),[f,q]=s.useState(!1),[he,N]=s.useState(!1),[J,xe]=s.useState("");s.useEffect(()=>{v&&v.user&&v.user.phone_number&&(B(!0),M(!0),T(v.user.phone_number)),ue()},[v]);const me=()=>{const t=j.map(h=>h.id),i=j.map(h=>({id:h.id,quantity:h.quantity||1})),n=encodeURIComponent(JSON.stringify(i));$.visit(route("booking.select-datetime"),{data:{service_id:a.id,pricing_tier_id:o?.id,selected_duration:o?.duration_minutes||a.duration,selected_price:o?.price||a.price,extras:t,extra_quantities_json:n}})},ge=()=>{const t=C.filter(y=>y.is_required),i=t.every(y=>g.includes(y.id));if(console.log("handleContinue called",{allRequiredAccepted:i,otpVerified:p,verificationCompleted:I,requiredConsents:t.length,acceptedConsents:g.length}),!i){l.error("Please accept all required agreements to continue");return}if(t.length>0&&!p&&!I){console.log("Showing phone verification modal"),N(!0);return}I&&!p&&B(!0),console.log("Proceeding to confirmation page");const n=j.map(y=>y.id),h=j.map(y=>({id:y.id,quantity:y.quantity||1})),P=encodeURIComponent(JSON.stringify(h)),x=g,L={service_id:a.id,pricing_tier_id:o?.id,selected_duration:o?.duration_minutes||a.duration,selected_price:o?.price||a.price,extras:n,extra_quantities_json:P,date:E,time:U,consents:x,gender_preference:window.location.search.includes("gender_preference=")?new URLSearchParams(window.location.search).get("gender_preference"):"no_preference"};(p||I)&&d&&(L.verified_phone=d),console.log("Navigating to confirm page with data:",L),$.visit(route("booking.confirm"),{data:L})},Q=t=>{pe(t),A(!0)},K=t=>{Y(i=>i.includes(t)?i.filter(n=>n!==t):[...i,t])},D=()=>{const t=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return t||(console.error("CSRF token not found in meta tag"),l.error("CSRF token not found. Please refresh the page."),null)},X=()=>{l.error("Session expired. Please refresh the page and try again.")},ue=async()=>{const t=D();if(!t)return!1;try{const i=await fetch(route("test-csrf"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json"}});return i.ok?(console.log("CSRF token is valid"),!0):(console.error("CSRF token validation failed:",i.status),!1)}catch(i){return console.error("Error testing CSRF token:",i),!1}},G=async()=>{if(!d||d.length<10){l.error("Please enter a valid phone number");return}const t=D();if(t)try{q(!0);const i=await fetch(route("booking.send-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json"},body:JSON.stringify({phone_number:d})});if(!i.ok){if(i.status===419){X();return}const h=await i.json().catch(()=>({}));l.error(h.error||"Failed to send OTP");return}const n=await i.json();l.success("OTP sent successfully to your phone number"),H(!0),n.otp&&xe(n.otp)}catch(i){console.error("Error sending OTP:",i),l.error("Failed to send OTP")}finally{q(!1)}},ye=async()=>{if(!c||c.length!==6){l.error("Please enter a valid 6-digit OTP");return}const t=D();if(t)try{q(!0);const i=await fetch(route("customer.login"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json"},body:JSON.stringify({phone_number:d,otp:c})});if(!i.ok){if(i.status===419){X();return}const x=await i.json().catch(()=>({}));l.error(x.error||"Invalid OTP");return}const n=await i.json();l.success("Phone number verified successfully!"),B(!0),M(!0),N(!1),n.formatted_phone&&T(n.formatted_phone),n.user&&$.reload({only:["auth"]});const P=C.filter(x=>x.is_required).find(x=>!g.includes(x.id));P&&Y(x=>[...x,P.id])}catch(i){console.error("Error verifying OTP:",i),l.error("Failed to verify OTP")}finally{q(!1)}},je=()=>{N(!1),T(""),V(""),H(!1),B(!1),M(!1)},S=t=>`â‚¹${parseFloat(t).toFixed(2)}`,Z=t=>{if(t<60)return`${t} min`;{const i=Math.floor(t/60),n=t%60;return n>0?`${i}h ${n}m`:`${i}h`}},be=t=>te(t,"HH:mm").format("h:mm A"),ve=t=>te(t).format("dddd, MMMM D, YYYY"),u=C.filter(t=>t.is_required),ee=C.filter(t=>!t.is_required),R=u.every(t=>g.includes(t.id));return e.jsxs(ce,{style:{minHeight:"100vh"},children:[e.jsx(we,{title:"Consent & Terms - Book Appointment"}),e.jsx(Ce,{auth:v}),e.jsx(Oe,{children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(Se,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%)",borderRadius:"20px",padding:"32px 24px",marginTop:24,border:"1px solid #e6f7ff",boxShadow:"0 4px 20px rgba(24, 144, 255, 0.08)"},children:[e.jsx(b,{level:2,style:{marginBottom:16,background:"linear-gradient(135deg, #1890ff 0%, #722ed1 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",fontSize:"clamp(24px, 4vw, 32px)",lineHeight:1.2},children:"Confirm & Secure Your Booking"}),e.jsx(r,{style:{fontSize:"clamp(14px, 2.5vw, 16px)",color:"#595959",marginBottom:32,display:"block",lineHeight:1.5},children:"To make sure your booking is safe and personally agreed by you, please:"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",maxWidth:500,margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"20px",background:"white",borderRadius:"16px",border:"1px solid #e6f7ff",boxShadow:"0 2px 12px rgba(24, 144, 255, 0.08)",transition:"all 0.3s ease"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",color:"white",fontSize:"16px",fontWeight:"bold",flexShrink:0,minWidth:"40px"},children:"1"}),e.jsx(r,{style:{fontSize:"clamp(14px, 2.5vw, 16px)",color:"#262626",fontWeight:500,lineHeight:1.4},children:"Review and agree to our terms"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"20px",background:"white",borderRadius:"16px",border:"1px solid #e6f7ff",boxShadow:"0 2px 12px rgba(24, 144, 255, 0.08)",transition:"all 0.3s ease"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",color:"white",fontSize:"16px",fontWeight:"bold",flexShrink:0,minWidth:"40px"},children:"2"}),e.jsx(r,{style:{fontSize:"clamp(14px, 2.5vw, 16px)",color:"#262626",fontWeight:500,lineHeight:1.4},children:"Verify your phone number to confirm consent"})]})]}),e.jsxs("div",{style:{marginTop:24,padding:"20px",background:"rgba(82, 196, 26, 0.08)",borderRadius:"16px",border:"1px solid rgba(82, 196, 26, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#52c41a",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,minWidth:"24px"},children:e.jsx("span",{style:{fontSize:"12px",color:"white"},children:"ðŸ›¡ï¸"})}),e.jsx(r,{style:{fontSize:"clamp(13px, 2.2vw, 14px)",color:"#52c41a",fontWeight:500,margin:0,lineHeight:1.4},children:"This step protects you, your family, and your HospiPal journey"})]})]})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(ke,{percent:80,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0",strokeWidth:8,style:{borderRadius:"4px"}}),e.jsx("div",{style:{textAlign:"center",marginTop:12},children:e.jsx(r,{type:"secondary",style:{fontSize:"clamp(12px, 2vw, 14px)",fontWeight:500},children:"Step 4 of 5"})})]}),e.jsxs(_e,{gutter:[24,24],children:[e.jsxs(re,{xs:24,lg:16,children:[u.length>0&&e.jsxs(W,{style:{marginBottom:24,borderRadius:"20px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.06)",border:"1px solid #f0f0f0",overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:24,padding:"20px 0",flexWrap:"wrap",gap:"12px"},children:[e.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"16px",background:"linear-gradient(135deg, #ff4d4f 0%, #cf1322 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",flexShrink:0,minWidth:"52px"},children:e.jsx(ne,{style:{fontSize:"clamp(20px, 3vw, 24px)",color:"white"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx(b,{level:4,style:{margin:0,color:"#262626",fontSize:"clamp(18px, 3.5vw, 20px)",lineHeight:1.3},children:"Required Agreements"}),e.jsx(r,{type:"secondary",style:{fontSize:"clamp(13px, 2.2vw, 14px)",lineHeight:1.4,marginTop:4},children:"Please review and accept these terms to continue"})]})]}),u.map(t=>{const i=g.includes(t.id);return e.jsx("div",{style:{marginBottom:20},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"24px",border:i?"2px solid #52c41a":"2px solid #f0f0f0",borderRadius:"16px",backgroundColor:i?"rgba(82, 196, 26, 0.05)":"white",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[i&&e.jsx("div",{style:{position:"absolute",top:0,right:0,background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",color:"white",padding:"4px 12px",fontSize:"12px",fontWeight:"bold",borderBottomLeftRadius:"12px"},children:"âœ“ ACCEPTED"}),e.jsx(oe,{checked:i,onChange:()=>K(t.id),style:{marginRight:16,marginTop:4}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsx(b,{level:5,style:{margin:0,color:"#262626",fontSize:"16px"},children:t.title}),e.jsxs(ie,{children:[e.jsx(O,{color:"red",style:{borderRadius:"6px",fontWeight:"500"},children:"Required"}),e.jsx(m,{type:"primary",size:"small",icon:e.jsx(se,{}),onClick:()=>Q(t),style:{borderRadius:"8px",fontWeight:"500"},children:"View"})]})]}),t.summary&&e.jsx(r,{type:"secondary",style:{fontSize:14,lineHeight:1.6,color:"#595959"},children:t.summary})]})]})},t.id)})]}),ee.length>0&&e.jsxs(W,{children:[e.jsxs(b,{level:4,style:{marginBottom:16},children:[e.jsx(ne,{style:{marginRight:8,color:"#1890ff"}}),"Optional Agreements"]}),ee.map(t=>{const i=g.includes(t.id);return e.jsx("div",{style:{marginBottom:16},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:i?"#f6ffed":"white"},children:[e.jsx(oe,{checked:i,onChange:()=>K(t.id),style:{marginRight:12,marginTop:2}}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx(b,{level:5,style:{margin:0},children:t.title}),e.jsxs(ie,{children:[e.jsx(O,{color:"blue",children:"Optional"}),e.jsx(m,{type:"text",size:"small",icon:e.jsx(se,{}),onClick:()=>Q(t),children:"View"})]})]}),t.summary&&e.jsx(r,{type:"secondary",style:{fontSize:14},children:t.summary})]})]})},t.id)})]}),C.length===0&&e.jsx(W,{children:e.jsx(k,{message:"No consent documents available",description:"There are no terms and conditions to review at this time.",type:"info",showIcon:!0})})]}),e.jsx(re,{xs:24,lg:8,children:e.jsxs(W,{style:{position:"sticky",top:24,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:24,padding:"20px 0",flexWrap:"wrap",gap:"12px"},children:[e.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"16px",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",flexShrink:0,minWidth:"52px"},children:e.jsx(ze,{style:{fontSize:"clamp(20px, 3vw, 24px)",color:"white"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx(b,{level:4,style:{margin:0,color:"#262626",fontSize:"clamp(18px, 3.5vw, 20px)",lineHeight:1.3},children:"Booking Summary"}),e.jsx(r,{type:"secondary",style:{fontSize:"clamp(13px, 2.2vw, 14px)",lineHeight:1.4,marginTop:4},children:"Review your booking details"})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(r,{strong:!0,children:[a.name,o&&e.jsx(O,{color:"blue",style:{marginLeft:8,fontSize:10},children:o.name})]}),e.jsx(r,{children:S(o?o.price:a.price)})]}),e.jsx(r,{type:"secondary",style:{fontSize:12},children:o?Z(o.duration_minutes):a.duration_label||Z(a.duration)})]}),j.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(_,{style:{margin:"12px 0"}}),j.map(t=>{const i=t.quantity||1;return e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(r,{children:["+ ",t.name,i>1&&e.jsxs(r,{type:"secondary",style:{fontSize:12},children:[" ","Ã— ",i]})]}),e.jsx(r,{children:S(parseFloat(t.price)*i)})]}),e.jsxs(r,{type:"secondary",style:{fontSize:12},children:[t.duration_relation?t.duration_relation.label:"No additional time",i>1&&e.jsxs(r,{type:"secondary",style:{fontSize:12},children:[" ","Ã— ",i]})]})]},t.id)})]}),window.location.search.includes("gender_preference=")&&new URLSearchParams(window.location.search).get("gender_preference")!=="no_preference"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(r,{children:["+"," ",new URLSearchParams(window.location.search).get("gender_preference")==="male"?"Male":"Female"," ","Preference"]}),e.jsx(r,{children:S(new URLSearchParams(window.location.search).get("gender_preference")==="male"?z?.male_preference_fee||0:z?.female_preference_fee||0)})]})]}),e.jsx(_,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(r,{strong:!0,children:"Total Price"}),e.jsx(r,{strong:!0,style:{fontSize:16},children:S(parseFloat(o?o.price:a.price)+j.reduce((t,i)=>{const n=i.quantity||1;return t+parseFloat(i.price)*n},0)+(window.location.search.includes("gender_preference=")&&new URLSearchParams(window.location.search).get("gender_preference")!=="no_preference"?new URLSearchParams(window.location.search).get("gender_preference")==="male"?z?.male_preference_fee||0:z?.female_preference_fee||0:0))})]}),e.jsx(_,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(r,{type:"secondary",children:"Appointment Date"}),e.jsx("div",{children:e.jsx(r,{strong:!0,children:ve(E)})})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(r,{type:"secondary",children:"Appointment Time"}),e.jsx("div",{children:e.jsx(r,{strong:!0,children:be(U)})})]}),e.jsx(_,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(r,{type:"secondary",children:"Required Agreements"}),e.jsx("div",{children:e.jsxs(r,{strong:!0,style:{color:R?"#52c41a":"#ff4d4f"},children:[g.filter(t=>u.find(i=>i.id===t)).length," ","of ",u.length," ","accepted"]})})]}),u.length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(r,{type:"secondary",children:"Phone Verification"}),e.jsx("div",{children:e.jsx(r,{strong:!0,style:{color:p?"#52c41a":"#ff4d4f"},children:p?"âœ“ Verified":"âœ— Not Verified"})})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(m,{block:!0,style:{marginBottom:12},icon:e.jsx(Te,{}),onClick:me,children:"Back to Date & Time"}),e.jsx(m,{type:"primary",block:!0,size:"large",icon:e.jsx(Be,{}),onClick:ge,disabled:!R||f,loading:f,children:u.length>0&&!p?"Verify Phone Number":"Verify & Confirm My Consent"})]}),!R&&e.jsx(k,{message:"Required agreements not accepted",description:"Please accept all required terms and conditions to continue.",type:"warning",showIcon:!0,style:{marginTop:16}}),R&&!p&&u.length>0&&e.jsx(k,{message:"Phone verification required",description:"Please verify your phone number to continue with the booking.",type:"warning",showIcon:!0,style:{marginTop:16}}),R&&p&&e.jsx(k,{message:"All requirements completed",description:"You can now proceed to the confirmation page.",type:"success",showIcon:!0,style:{marginTop:16}})]})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:48,padding:"clamp(24px, 4vw, 32px) clamp(20px, 3vw, 24px)",background:"linear-gradient(135deg, #f8f9ff 0%, #e8f4ff 100%)",borderRadius:"20px",border:"1px solid #e6f7ff",boxShadow:"0 4px 20px rgba(24, 144, 255, 0.08)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:600,margin:"0 auto",flexWrap:"wrap",gap:"12px"},children:[e.jsx("div",{style:{width:"clamp(40px, 6vw, 48px)",height:"clamp(40px, 6vw, 48px)",borderRadius:"50%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px",flexShrink:0,minWidth:"clamp(40px, 6vw, 48px)"},children:e.jsx("span",{style:{fontSize:"clamp(16px, 2.5vw, 20px)",color:"white"},children:"ðŸ“Œ"})}),e.jsx(r,{style:{fontSize:"clamp(13px, 2.2vw, 15px)",color:"#262626",fontWeight:500,lineHeight:1.6,margin:0,flex:1,minWidth:0},children:"By verifying, you agree to receive booking-related updates and important communication on this number. This helps us serve you better."})]})}),e.jsx(ae,{title:w?.title,open:fe,onCancel:()=>A(!1),footer:[e.jsx(m,{onClick:()=>A(!1),children:"Close"},"close")],width:800,children:w&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(O,{color:w.is_required?"red":"blue",children:w.is_required?"Required":"Optional"}),e.jsxs(r,{type:"secondary",style:{marginLeft:8},children:["Version ",w.version]})]}),e.jsx("div",{style:{maxHeight:400,overflowY:"auto",padding:16,border:"1px solid #f0f0f0",borderRadius:8,backgroundColor:"#fafafa"},children:e.jsx(We,{style:{whiteSpace:"pre-line",margin:0},children:w.content})})]})}),e.jsx(ae,{title:e.jsxs("div",{style:{textAlign:"center",padding:"8px 0"},children:[e.jsx("div",{style:{width:60,height:60,borderRadius:"50%",backgroundColor:"#f0f8ff",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",border:"2px solid #e6f7ff"},children:e.jsx(de,{style:{fontSize:28,color:"#1890ff"}})}),e.jsx(b,{level:3,style:{margin:0,color:"#262626"},children:"Phone Verification"})]}),open:he,onCancel:je,footer:null,width:480,closable:!f,centered:!0,style:{top:20},styles:{body:{padding:"32px 24px"}},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(r,{type:"secondary",style:{fontSize:16,lineHeight:1.6,color:"#595959"},children:F?`We've sent a 6-digit code to ${d}`:"Enter your phone number to receive a verification code"}),F&&J&&e.jsx(k,{message:"Testing Mode - OTP Code",description:`Your verification code is: ${J}`,type:"info",showIcon:!0,style:{marginTop:16}})]}),F?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:32},children:[e.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"center",gap:8,marginBottom:16},children:[e.jsx(le,{size:"large",placeholder:"Enter 6-digit code",value:c,onChange:t=>V(t.target.value),maxLength:6,style:{position:"absolute",opacity:0,zIndex:10,width:"100%",height:"100%"},autoFocus:!0}),[0,1,2,3,4,5].map(t=>e.jsx("div",{style:{width:48,height:56,border:"2px solid #d9d9d9",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:600,backgroundColor:c[t]?"#f6ffed":"#fafafa",borderColor:c[t]?"#52c41a":"#d9d9d9",transition:"all 0.2s ease",cursor:"text"},children:c[t]||""},t))]}),e.jsx(r,{type:"secondary",style:{fontSize:14},children:"Enter the 6-digit verification code"})]}),e.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[e.jsx(m,{onClick:()=>{H(!1),V("")},disabled:f,style:{height:44,borderRadius:8,border:"1px solid #d9d9d9",color:"#595959"},children:"Change Number"}),e.jsx(m,{type:"primary",icon:e.jsx(qe,{}),onClick:ye,loading:f,disabled:!c||c.length!==6,style:{height:44,borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",border:"none",boxShadow:"0 4px 12px rgba(82, 196, 26, 0.3)"},children:f?"Verifying...":"Verify Code"})]}),e.jsx("div",{style:{marginTop:24},children:e.jsxs(r,{type:"secondary",style:{fontSize:12},children:["Didn't receive the code?"," ",e.jsx(m,{type:"link",size:"small",style:{padding:0,height:"auto"},onClick:G,disabled:f,children:"Resend"})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("div",{style:{position:"relative",marginBottom:8},children:e.jsx(le,{size:"large",placeholder:"+91 98765 43210",prefix:e.jsx(de,{style:{color:"#bfbfbf"}}),value:d,onChange:t=>T(t.target.value),style:{height:48,fontSize:16,borderRadius:8,border:"1px solid #d9d9d9"}})}),e.jsx(r,{type:"secondary",style:{fontSize:12},children:"We'll send you a verification code via SMS"})]}),e.jsx(m,{type:"primary",size:"large",icon:e.jsx(Ie,{}),onClick:G,loading:f,disabled:!d||d.length<10,style:{height:48,fontSize:16,fontWeight:500,borderRadius:8,width:"100%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",border:"none",boxShadow:"0 4px 12px rgba(24, 144, 255, 0.3)"},children:f?"Sending...":"Send Verification Code"})]})]})})]})})]})}export{yt as default};
