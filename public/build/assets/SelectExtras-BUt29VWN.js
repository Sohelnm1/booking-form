import{r as T,j as e,H as w,a as j}from"./app-DEDll9AR.js";import{A as z}from"./AppLayout-BW54P4GE.js";import{aq as A,T as E,R as h,a as d,C as x,B as y}from"./Logo-B-N0zWbR.js";import{P as R}from"./progress-BAMSSaSx.js";import{S as g}from"./index-BmgT4Ulx.js";import{A as D}from"./index-D6bEU2eY.js";import{C as I}from"./index-BXZuxNhI.js";import{T as f}from"./index-ClulcKCA.js";import{D as u}from"./index-DBRdJP7-.js";import{R as P}from"./ArrowLeftOutlined-BAMREewH.js";import{R as $}from"./ArrowRightOutlined-BWb0wWij.js";/* empty css            */import"./CheckCircleFilled-z0b-rEXZ.js";import"./InfoCircleFilled-DvigaNyv.js";import"./pickAttrs-BiP3ANKa.js";const{Title:a,Text:i}=E;function X({service:r,extras:p}){const[l,v]=T.useState([]),b=t=>{v(s=>s.find(o=>o.id===t.id)?s.filter(o=>o.id!==t.id):[...s,t])},B=()=>{j.visit(route("booking.select-service"))},S=()=>{const t=l.map(s=>s.id);j.visit(route("booking.select-datetime"),{data:{service_id:r.id,extras:t}})},c=t=>`â‚¹${parseFloat(t).toFixed(2)}`,k=()=>{const t=parseFloat(r.price),s=l.reduce((n,o)=>n+parseFloat(o.price),0);return t+s},C=()=>{const t=r.duration,s=l.reduce((n,o)=>n+(o.duration||0),0);return t+s},m=t=>{if(t<60)return`${t} min`;{const s=Math.floor(t/60),n=t%60;return n>0?`${s}h ${n}m`:`${s}h`}};return e.jsxs(z,{children:[e.jsx(w,{title:"Select Extras - Book Appointment"}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(A,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(a,{level:2,style:{marginTop:24,marginBottom:8},children:"Add Extras (Optional)"}),e.jsx(i,{type:"secondary",style:{fontSize:16},children:"Enhance your experience with additional services"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(R,{percent:40,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(i,{type:"secondary",children:"Step 2 of 5"})})]}),e.jsxs(h,{gutter:[32,32],children:[e.jsxs(d,{xs:24,lg:16,children:[e.jsxs(x,{style:{marginBottom:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Selected Service"}),e.jsxs(h,{align:"middle",gutter:16,children:[e.jsx(d,{children:e.jsx("div",{style:{width:60,height:60,backgroundColor:r.color||"#f0f0f0",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:24,fontWeight:"bold"},children:r.name.charAt(0)})}),e.jsxs(d,{flex:"1",children:[e.jsx(a,{level:5,style:{margin:0},children:r.name}),e.jsxs(g,{size:"large",children:[e.jsx(i,{type:"secondary",children:m(r.duration)}),e.jsx(i,{strong:!0,children:c(r.price)})]})]})]})]}),e.jsxs(x,{children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Available Extras"}),p.length===0?e.jsx(D,{message:"No extras available",description:"There are currently no additional services available for this booking.",type:"info",showIcon:!0}):e.jsx(h,{gutter:[16,16],children:p.map(t=>{const s=l.find(n=>n.id===t.id);return e.jsx(d,{xs:24,sm:12,children:e.jsx(x,{hoverable:!0,style:{cursor:"pointer",border:s?"2px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s ease"},onClick:()=>b(t),styles:{body:{padding:16}},children:e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(I,{checked:s,style:{marginRight:12}}),e.jsxs("div",{style:{flex:1},children:[e.jsx(a,{level:5,style:{margin:0,marginBottom:4},children:t.name}),t.description&&e.jsx(i,{type:"secondary",style:{fontSize:12},children:t.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(g,{size:"small",children:[t.duration&&e.jsx(f,{size:"small",children:m(t.duration)}),e.jsx(f,{size:"small",color:"green",children:c(t.price)})]})})]})]})})},t.id)})})]})]}),e.jsx(d,{xs:24,lg:8,children:e.jsxs(x,{style:{position:"sticky",top:24},children:[e.jsx(a,{level:4,style:{marginBottom:16},children:"Booking Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(i,{strong:!0,children:r.name}),e.jsx(i,{children:c(r.price)})]}),e.jsx(i,{type:"secondary",style:{fontSize:12},children:m(r.duration)})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(u,{style:{margin:"12px 0"}}),l.map(t=>e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(i,{children:["+ ",t.name]}),e.jsx(i,{children:c(t.price)})]})},t.id))]}),e.jsx(u,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(i,{strong:!0,children:"Total Price"}),e.jsx(i,{strong:!0,style:{fontSize:16},children:c(k())})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(i,{type:"secondary",children:"Total Duration"}),e.jsx(i,{type:"secondary",children:m(C())})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(y,{block:!0,style:{marginBottom:12},icon:e.jsx(P,{}),onClick:B,children:"Back to Services"}),e.jsx(y,{type:"primary",block:!0,size:"large",icon:e.jsx($,{}),onClick:S,children:"Continue to Date & Time"})]})]})})]})]})]})}export{X as default};
