import{j as e,a as i,H as v}from"./app-9CPhuQ4N.js";import{T as w,B as n,ac as h,ad as C,ae as k,C as p}from"./Logo-DkqekcuB.js";import{d as I}from"./dayjs.min-DkyW2i6o.js";import{S as u,R as S}from"./CalendarOutlined-BwNhaYMx.js";import{A,R as B}from"./LogoutOutlined-zRISOHo0.js";import{s as _}from"./index-9Xzw0frF.js";import{R as b}from"./ArrowLeftOutlined-CrWWH_jD.js";import{F as T}from"./Table-B1Ig0soB.js";import{T as a}from"./index-DR0cXU2Q.js";import{E as z}from"./index-CFK0u_yQ.js";import{R}from"./BookOutlined-D8Ddjkqr.js";/* empty css            */import"./CheckCircleFilled-BMzJfPTH.js";import"./InfoCircleFilled-DTUShVZ5.js";import"./pickAttrs-BDzNXXMc.js";import"./addEventListener-4KuczrNz.js";import"./index-DJP2Z3yc.js";import"./PurePanel-D7NzHduM.js";import"./move-BEDsivjW.js";import"./Input-BsHZSzM4.js";import"./index-D60RrwvQ.js";import"./index-Ba63yBEh.js";import"./index-mRYrgC2F.js";import"./useForm-vlcWCMF6.js";import"./index-DtvXIuUr.js";import"./useClosable-BADc7cF3.js";const{Title:x,Text:s}=w,{Header:D,Content:F}=h;function ae({auth:l,bookings:o}){if(!l||!l.user)return e.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[e.jsx(x,{level:2,children:"Access Denied"}),e.jsx(s,{children:"Please log in to view your bookings."}),e.jsx("br",{}),e.jsx(n,{type:"primary",onClick:()=>i.visit(route("welcome")),style:{marginTop:16},children:"Go to Home"})]});const d=t=>{switch(t){case"confirmed":return"success";case"pending":return"warning";case"completed":return"processing";case"cancelled":return"error";case"no_show":return"default";default:return"default"}},c=t=>{switch(t){case"paid":return"success";case"pending":return"warning";case"failed":return"error";case"refunded":return"default";default:return"default"}},m=t=>I(t).format("MMM DD, YYYY h:mm A"),y=t=>t?t.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"CU",j=()=>{i.post(route("logout"),{},{onSuccess:()=>{window.location.reload()}})},f=[{key:"services",icon:e.jsx(R,{}),label:"Services",onClick:()=>i.visit(route("welcome"))},{key:"bookings",icon:e.jsx(S,{}),label:"Your Bookings"}],g=[{title:"Service",dataIndex:"service",key:"service",render:t=>t?.name||"N/A",responsive:["md"]},{title:"Employee",dataIndex:"employee",key:"employee",render:t=>t?.name||"Auto-assigned",responsive:["lg"]},{title:"Date & Time",dataIndex:"appointment_time",key:"appointment_time",render:t=>m(t)},{title:"Duration",dataIndex:"duration",key:"duration",render:t=>`${t} minutes`,responsive:["md"]},{title:"Status",dataIndex:"status",key:"status",render:t=>e.jsx(a,{color:d(t),children:t.charAt(0).toUpperCase()+t.slice(1)})},{title:"Payment",dataIndex:"payment_status",key:"payment_status",render:t=>e.jsx(a,{color:c(t),children:t.charAt(0).toUpperCase()+t.slice(1)}),responsive:["md"]},{title:"Amount",dataIndex:"total_amount",key:"total_amount",render:t=>`₹${parseFloat(t).toFixed(2)}`,responsive:["sm"]},{title:"Actions",key:"actions",render:(t,r)=>e.jsx(u,{children:e.jsx(n,{size:"small",onClick:()=>i.visit(route("customer.bookings.show",r.id)),children:"View"})})}];return e.jsxs(h,{style:{minHeight:"100vh"},children:[e.jsx(v,{title:"Your Bookings - HospiPal"}),e.jsxs(D,{style:{background:"#fff",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",height:"auto",minHeight:64,maxWidth:"100vw",width:"100%",overflow:"hidden"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",flexShrink:0,minWidth:0},children:e.jsx(C,{variant:"primary",color:"color",background:"white",size:"medium"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flex:1,justifyContent:"flex-end",minWidth:0,overflow:"hidden"},children:[e.jsx(k,{mode:"horizontal",items:f,selectedKeys:["bookings"],style:{border:"none",background:"transparent",fontSize:"14px",minWidth:0,flexShrink:1,maxWidth:"100%"}}),e.jsxs(u,{size:"small",style:{flexShrink:0},children:[e.jsx(A,{style:{backgroundColor:"#1890ff",cursor:"pointer"},onClick:()=>_.info("Profile settings coming soon"),children:y(l.user?.name)}),e.jsx(n,{type:"text",icon:e.jsx(B,{}),onClick:j,size:"small",children:e.jsx("span",{className:"hidden-xs",children:"Logout"})})]})]})]}),e.jsx(F,{style:{padding:"16px"},children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(n,{icon:e.jsx(b,{}),onClick:()=>i.visit(route("welcome")),style:{marginBottom:16},children:"Back to Home"}),e.jsx(x,{level:2,style:{marginBottom:8},children:"Your Bookings"}),e.jsx(s,{type:"secondary",children:"View and manage all your appointments"})]}),e.jsx(p,{children:o&&o.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden-xs",children:e.jsx(T,{columns:g,dataSource:o,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(t,r)=>`${r[0]}-${r[1]} of ${t} bookings`}})}),e.jsx("div",{className:"visible-xs",children:o.map(t=>e.jsxs(p,{style:{marginBottom:16},bodyStyle:{padding:16},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:8},children:[e.jsx(s,{strong:!0,style:{fontSize:16},children:t.service?.name}),e.jsx(a,{color:d(t.status),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),e.jsx(s,{type:"secondary",children:m(t.appointment_time)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs(s,{type:"secondary",children:["Duration:"," "]}),e.jsxs(s,{children:[t.duration," ","minutes"]})]}),e.jsxs("div",{children:[e.jsxs(s,{type:"secondary",children:["Amount:"," "]}),e.jsxs(s,{strong:!0,children:["₹",parseFloat(t.total_amount).toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{color:c(t.payment_status),children:t.payment_status.charAt(0).toUpperCase()+t.payment_status.slice(1)}),e.jsx(n,{size:"small",type:"primary",onClick:()=>i.visit(route("customer.bookings.show",t.id)),children:"View Details"})]})]},t.id))})]}):e.jsx(z,{description:"No bookings found",style:{padding:"40px 0"},children:e.jsx(n,{type:"primary",onClick:()=>i.visit(route("booking.select-service")),children:"Book Your First Appointment"})})})]})})]})}export{ae as default};
