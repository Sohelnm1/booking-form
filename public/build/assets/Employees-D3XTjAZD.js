import{r as j,j as e,H as w,a as p}from"./app-CjLSFTvF.js";import{A as P,R as A}from"./AdminLayout-CaACskhm.js";import{F as r}from"./index-BhQBVMnT.js";import{C as $,T as M,B as u}from"./Logo-DLy9Pi-u.js";import{F as N}from"./Table-7REDeCqW.js";import{M as z}from"./index-BFDovZzk.js";import{R as B,C as f}from"./row-CQ454HWN.js";import{I as h}from"./index-D0ij-sgg.js";import{S as y}from"./index-Dc7Stc7a.js";import{S as V}from"./index-ErLwKW1B.js";import{s as l}from"./index-BdNhniXG.js";import{S as a}from"./index-Cz--6uym.js";import{R as q}from"./UserOutlined-BTlIJHQK.js";import{R as D}from"./MailOutlined-BmieC3hh.js";import{R as O}from"./PhoneOutlined-DCAGKc-b.js";import{T as x}from"./index-YgNiGMGF.js";import{R as H}from"./CheckCircleOutlined-C-7EDMiG.js";import{R as J}from"./CloseCircleOutlined-C6LZGqJL.js";import{R as K}from"./EditOutlined-B1M0cp84.js";import{P as L}from"./index-v6NME6t4.js";import{R as Q}from"./DeleteOutlined-CW1zqXNb.js";/* empty css            */import"./index-CgCFGhN9.js";import"./index-DczFaLwX.js";import"./PurePanel-Ctdvl-zP.js";import"./move-BHpooOi0.js";import"./LogoutOutlined-Di16fjZE.js";import"./CalendarOutlined-C51-_ebW.js";import"./DollarOutlined-CnvFJIap.js";import"./ClockCircleOutlined-B5klXXHM.js";import"./FileTextOutlined-CosqdZ2W.js";import"./GiftOutlined-CqMUofQ6.js";import"./SettingOutlined-CjjuPnIM.js";import"./useForm-DYbDyyqO.js";import"./CheckCircleFilled-Dt1Auu-O.js";import"./InfoCircleFilled-D_PNQDwx.js";import"./pickAttrs-D4RZEvRE.js";import"./addEventListener-Dkb8_L8w.js";import"./index-KNdCQ6Gc.js";import"./index-CdVV1a5r.js";import"./index-BV1LEswr.js";import"./index-_UDQvjMi.js";import"./Input-DRyzWO36.js";import"./useClosable-C1CguS7l.js";import"./EyeOutlined-FpwRxIr8.js";import"./EyeOutlined-Bmd706kk.js";const{Title:U,Text:d}=M,{Option:g}=y;function De({auth:v,employees:_,services:E,scheduleSettings:b}){const[S,n]=j.useState(!1),[m,c]=j.useState(null),[o]=r.useForm(),I=()=>{c(null),o.resetFields(),o.setFieldsValue({is_active:!0}),n(!0)},C=s=>{c(s),o.setFieldsValue({name:s.name,email:s.email,phone_number:s.phone_number,is_active:s.is_active,services:s.services?.map(t=>t.id)||[],schedule_settings:s.schedule_settings?.map(t=>t.id)||[]}),n(!0)},R=s=>{p.post(route("admin.employees.delete",s.id),{},{onSuccess:()=>{l.success("Employee deleted successfully!")},onError:t=>{l.error(t.error||"Failed to delete employee")}})},k=()=>{o.validateFields().then(s=>{const t={name:s.name,email:s.email,phone_number:s.phone_number,is_active:s.is_active,services:s.services||[],schedule_settings:s.schedule_settings||[]};m?p.put(route("admin.employees.update",m.id),t,{onSuccess:()=>{l.success("Employee updated successfully!"),n(!1)},onError:i=>{l.error("Failed to update employee")}}):p.post(route("admin.employees.store"),t,{onSuccess:()=>{l.success("Employee created successfully!"),n(!1)},onError:i=>{l.error("Failed to create employee")}})})},F=()=>{n(!1),c(null),o.resetFields()},T=[{title:"Name",dataIndex:"name",key:"name",render:(s,t)=>e.jsxs(a,{children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:s}),e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:t.email})]})]})},{title:"Contact",key:"contact",render:(s,t)=>e.jsxs(a,{direction:"vertical",size:"small",children:[e.jsxs(a,{children:[e.jsx(D,{}),e.jsx(d,{copyable:!0,children:t.email})]}),e.jsxs(a,{children:[e.jsx(O,{}),e.jsx(d,{copyable:!0,children:t.phone_number})]})]})},{title:"Services",key:"services",render:(s,t)=>e.jsx("div",{children:t.services&&t.services.length>0?t.services.map(i=>e.jsx(x,{color:"blue",style:{marginBottom:4},children:i.name},i.id)):e.jsx(d,{type:"secondary",children:"No services assigned"})})},{title:"Schedules",key:"schedules",render:(s,t)=>e.jsx("div",{children:t.schedule_settings&&t.schedule_settings.length>0?t.schedule_settings.map(i=>e.jsx(x,{color:"green",style:{marginBottom:4},children:i.name},i.id)):e.jsx(d,{type:"secondary",children:"No schedules assigned"})})},{title:"Status",dataIndex:"is_active",key:"is_active",render:s=>e.jsx(x,{icon:s?e.jsx(H,{}):e.jsx(J,{}),color:s?"success":"error",children:s?"Active":"Inactive"})},{title:"Actions",key:"actions",render:(s,t)=>e.jsxs(a,{children:[e.jsx(u,{type:"primary",icon:e.jsx(K,{}),size:"small",onClick:()=>C(t),children:"Edit"}),e.jsx(L,{title:"Delete Employee",description:"Are you sure you want to delete this employee? This action cannot be undone.",onConfirm:()=>R(t),okText:"Yes",cancelText:"No",children:e.jsx(u,{type:"primary",danger:!0,icon:e.jsx(Q,{}),size:"small",children:"Delete"})})]})}];return e.jsxs(P,{auth:v,children:[e.jsx(w,{title:"Employee Management"}),e.jsxs("div",{style:{padding:"24px"},children:[e.jsxs($,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsx(U,{level:2,style:{margin:0},children:"Employee Management"}),e.jsx(u,{type:"primary",icon:e.jsx(A,{}),onClick:I,children:"Add Employee"})]}),e.jsx(N,{columns:T,dataSource:_,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(s,t)=>`${t[0]}-${t[1]} of ${s} employees`}})]}),e.jsx(z,{title:m?"Edit Employee":"Add Employee",open:S,onOk:k,onCancel:F,width:600,okText:m?"Update":"Create",cancelText:"Cancel",children:e.jsxs(r,{form:o,layout:"vertical",initialValues:{is_active:!0},children:[e.jsxs(B,{gutter:16,children:[e.jsx(f,{span:12,children:e.jsx(r.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter employee name"}],children:e.jsx(h,{placeholder:"Enter full name"})})}),e.jsx(f,{span:12,children:e.jsx(r.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter a valid email address"}],children:e.jsx(h,{placeholder:"Enter email address"})})})]}),e.jsx(r.Item,{name:"phone_number",label:"Phone Number",rules:[{required:!0,message:"Please enter phone number"}],children:e.jsx(h,{placeholder:"Enter phone number"})}),e.jsx(r.Item,{name:"services",label:"Assigned Services",rules:[{required:!0,message:"Please select at least one service"}],children:e.jsx(y,{mode:"multiple",placeholder:"Select services this employee can provide",optionFilterProp:"children",children:E.map(s=>e.jsxs(g,{value:s.id,children:[s.name," (",s.duration," min)"]},s.id))})}),e.jsx(r.Item,{name:"schedule_settings",label:"Assigned Schedules (Coming Soon)",disabled:"true",children:e.jsx(y,{mode:"multiple",placeholder:"Select schedules this employee follows (optional)",optionFilterProp:"children",disabled:!0,children:b.map(s=>e.jsxs(g,{value:s.id,children:[s.name," (",s.working_days_text,")"]},s.id))})}),e.jsx(r.Item,{name:"is_active",label:"Status",valuePropName:"checked",children:e.jsx(V,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})})]})]})}export{De as default};
