import{r as n,j as a,a as le}from"./app-CFztBWTA.js";import{A as Ue,bt as Xe,k as ce,d as N,D as me,w as Ye,W as ge,M as be,E as z,x as Ce,X as fe,ak as Se,a1 as Ge,e as Pe,bK as qe,g as Je,m as Ze,h as te,Y as Qe,a8 as et,aG as tt,bJ as nt,a9 as we,b as ot,I as ye,B as G,ab as je,S as at,ac as rt}from"./Logo-BupOV-el.js";import{u as st,M as it}from"./index-VXvhxRX1.js";import{R as ke}from"./PhoneOutlined-BgSVz3Gc.js";import{I as Oe}from"./index-DIUhITNt.js";import{s as M}from"./index-gygo7QVa.js";import{L as lt,A as Ne,c as $e,a as ct,R as dt}from"./UserOutlined-C83r_v8s.js";import{u as ut,p as Ie}from"./useClosable-B1JUMRGH.js";import{R as ft}from"./HomeOutlined-Ctzdscso.js";var Re=n.createContext(null),Me=n.createContext({}),mt=["prefixCls","className","containerRef"],gt=function(t){var r=t.prefixCls,o=t.className,s=t.containerRef,i=Ue(t,mt),c=n.useContext(Me),d=c.panel,u=Xe(d,s);return n.createElement("div",ce({className:N("".concat(r,"-content"),o),role:"dialog",ref:u},me(t,{aria:!0}),{"aria-modal":"true"},i))};function ze(e){return typeof e=="string"&&String(Number(e))===e?(Ye(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Ee={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function ht(e,t){var r,o,s,i=e.prefixCls,c=e.open,d=e.placement,u=e.inline,g=e.push,h=e.forceRender,v=e.autoFocus,j=e.keyboard,l=e.classNames,m=e.rootClassName,p=e.rootStyle,$=e.zIndex,f=e.className,x=e.id,E=e.style,k=e.motion,b=e.width,w=e.height,D=e.children,_=e.mask,L=e.maskClosable,R=e.maskMotion,W=e.maskClassName,T=e.maskStyle,I=e.afterOpenChange,B=e.onClose,H=e.onMouseEnter,ne=e.onMouseOver,oe=e.onMouseLeave,q=e.onClick,ae=e.onKeyDown,re=e.onKeyUp,S=e.styles,V=e.drawerRender,P=n.useRef(),A=n.useRef(),K=n.useRef();n.useImperativeHandle(t,function(){return P.current});var F=function(O){var Z=O.keyCode,Q=O.shiftKey;switch(Z){case fe.TAB:{if(Z===fe.TAB){if(!Q&&document.activeElement===K.current){var ee;(ee=A.current)===null||ee===void 0||ee.focus({preventScroll:!0})}else if(Q&&document.activeElement===A.current){var ue;(ue=K.current)===null||ue===void 0||ue.focus({preventScroll:!0})}}break}case fe.ESC:{B&&j&&(O.stopPropagation(),B(O));break}}};n.useEffect(function(){if(c&&v){var y;(y=P.current)===null||y===void 0||y.focus({preventScroll:!0})}},[c]);var U=n.useState(!1),se=ge(U,2),ie=se[0],J=se[1],C=n.useContext(Re),de;typeof g=="boolean"?de=g?{}:{distance:0}:de=g||{};var X=(r=(o=(s=de)===null||s===void 0?void 0:s.distance)!==null&&o!==void 0?o:C?.pushDistance)!==null&&r!==void 0?r:180,He=n.useMemo(function(){return{pushDistance:X,push:function(){J(!0)},pull:function(){J(!1)}}},[X]);n.useEffect(function(){if(c){var y;C==null||(y=C.push)===null||y===void 0||y.call(C)}else{var O;C==null||(O=C.pull)===null||O===void 0||O.call(C)}},[c]),n.useEffect(function(){return function(){var y;C==null||(y=C.pull)===null||y===void 0||y.call(C)}},[]);var Ve=n.createElement(be,ce({key:"mask"},R,{visible:_&&c}),function(y,O){var Z=y.className,Q=y.style;return n.createElement("div",{className:N("".concat(i,"-mask"),Z,l?.mask,W),style:z(z(z({},Q),T),S?.mask),onClick:L&&c?B:void 0,ref:O})}),Ae=typeof k=="function"?k(d):k,Y={};if(ie&&X)switch(d){case"top":Y.transform="translateY(".concat(X,"px)");break;case"bottom":Y.transform="translateY(".concat(-X,"px)");break;case"left":Y.transform="translateX(".concat(X,"px)");break;default:Y.transform="translateX(".concat(-X,"px)");break}d==="left"||d==="right"?Y.width=ze(b):Y.height=ze(w);var Ke={onMouseEnter:H,onMouseOver:ne,onMouseLeave:oe,onClick:q,onKeyDown:ae,onKeyUp:re},Fe=n.createElement(be,ce({key:"panel"},Ae,{visible:c,forceRender:h,onVisibleChanged:function(O){I?.(O)},removeOnLeave:!1,leavedClassName:"".concat(i,"-content-wrapper-hidden")}),function(y,O){var Z=y.className,Q=y.style,ee=n.createElement(gt,ce({id:x,containerRef:O,prefixCls:i,className:N(f,l?.content),style:z(z({},E),S?.content)},me(e,{aria:!0}),Ke),D);return n.createElement("div",ce({className:N("".concat(i,"-content-wrapper"),l?.wrapper,Z),style:z(z(z({},Y),Q),S?.wrapper)},me(e,{data:!0})),V?V(ee):ee)}),xe=z({},p);return $&&(xe.zIndex=$),n.createElement(Re.Provider,{value:He},n.createElement("div",{className:N(i,"".concat(i,"-").concat(d),m,Ce(Ce({},"".concat(i,"-open"),c),"".concat(i,"-inline"),u)),style:xe,tabIndex:-1,ref:P,onKeyDown:F},Ve,n.createElement("div",{tabIndex:0,ref:A,style:Ee,"aria-hidden":"true","data-sentinel":"start"}),Fe,n.createElement("div",{tabIndex:0,ref:K,style:Ee,"aria-hidden":"true","data-sentinel":"end"})))}var vt=n.forwardRef(ht),pt=function(t){var r=t.open,o=r===void 0?!1:r,s=t.prefixCls,i=s===void 0?"rc-drawer":s,c=t.placement,d=c===void 0?"right":c,u=t.autoFocus,g=u===void 0?!0:u,h=t.keyboard,v=h===void 0?!0:h,j=t.width,l=j===void 0?378:j,m=t.mask,p=m===void 0?!0:m,$=t.maskClosable,f=$===void 0?!0:$,x=t.getContainer,E=t.forceRender,k=t.afterOpenChange,b=t.destroyOnClose,w=t.onMouseEnter,D=t.onMouseOver,_=t.onMouseLeave,L=t.onClick,R=t.onKeyDown,W=t.onKeyUp,T=t.panelRef,I=n.useState(!1),B=ge(I,2),H=B[0],ne=B[1],oe=n.useState(!1),q=ge(oe,2),ae=q[0],re=q[1];Se(function(){re(!0)},[]);var S=ae?o:!1,V=n.useRef(),P=n.useRef();Se(function(){S&&(P.current=document.activeElement)},[S]);var A=function(ie){var J;if(ne(ie),k?.(ie),!ie&&P.current&&!((J=V.current)!==null&&J!==void 0&&J.contains(P.current))){var C;(C=P.current)===null||C===void 0||C.focus({preventScroll:!0})}},K=n.useMemo(function(){return{panel:T}},[T]);if(!E&&!H&&!S&&b)return null;var F={onMouseEnter:w,onMouseOver:D,onMouseLeave:_,onClick:L,onKeyDown:R,onKeyUp:W},U=z(z({},t),{},{open:S,prefixCls:i,placement:d,autoFocus:g,keyboard:v,width:l,mask:p,maskClosable:f,inline:x===!1,afterOpenChange:A,ref:V},F);return n.createElement(Me.Provider,{value:K},n.createElement(Ge,{open:S||E||H,autoDestroy:!1,getContainer:x,autoLock:p&&(S||H)},n.createElement(vt,U)))};const De=e=>{var t,r;const{prefixCls:o,title:s,footer:i,extra:c,loading:d,onClose:u,headerStyle:g,bodyStyle:h,footerStyle:v,children:j,classNames:l,styles:m}=e,p=Pe("drawer"),$=n.useCallback(b=>n.createElement("button",{type:"button",onClick:u,className:`${o}-close`},b),[u]),[f,x]=ut(Ie(e),Ie(p),{closable:!0,closeIconRender:$}),E=n.useMemo(()=>{var b,w;return!s&&!f?null:n.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(b=p.styles)===null||b===void 0?void 0:b.header),g),m?.header),className:N(`${o}-header`,{[`${o}-header-close-only`]:f&&!s&&!c},(w=p.classNames)===null||w===void 0?void 0:w.header,l?.header)},n.createElement("div",{className:`${o}-header-title`},x,s&&n.createElement("div",{className:`${o}-title`},s)),c&&n.createElement("div",{className:`${o}-extra`},c))},[f,x,c,g,o,s]),k=n.useMemo(()=>{var b,w;if(!i)return null;const D=`${o}-footer`;return n.createElement("div",{className:N(D,(b=p.classNames)===null||b===void 0?void 0:b.footer,l?.footer),style:Object.assign(Object.assign(Object.assign({},(w=p.styles)===null||w===void 0?void 0:w.footer),v),m?.footer)},i)},[i,v,o]);return n.createElement(n.Fragment,null,E,n.createElement("div",{className:N(`${o}-body`,l?.body,(t=p.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(r=p.styles)===null||r===void 0?void 0:r.body),h),m?.body)},d?n.createElement(qe,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):j),k)},yt=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},Le=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Te=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},Le({opacity:e},{opacity:1})),xt=(e,t)=>[Te(.7,t),Le({transform:yt(e)},{transform:"none"})],bt=e=>{const{componentCls:t,motionDurationSlow:r}=e;return{[t]:{[`${t}-mask-motion`]:Te(0,r),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,s)=>Object.assign(Object.assign({},o),{[`&-${s}`]:xt(s,r)}),{})}}},Ct=e=>{const{borderRadiusSM:t,componentCls:r,zIndexPopup:o,colorBgMask:s,colorBgElevated:i,motionDurationSlow:c,motionDurationMid:d,paddingXS:u,padding:g,paddingLG:h,fontSizeLG:v,lineHeightLG:j,lineWidth:l,lineType:m,colorSplit:p,marginXS:$,colorIcon:f,colorIconHover:x,colorBgTextHover:E,colorBgTextActive:k,colorText:b,fontWeightStrong:w,footerPaddingBlock:D,footerPaddingInline:_,calc:L}=e,R=`${r}-content-wrapper`;return{[r]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:b,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",[`&${r}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${r}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${r}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${r}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${r}-mask`]:{position:"absolute",inset:0,zIndex:o,background:s,pointerEvents:"auto"},[R]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${c}`,"&-hidden":{display:"none"}},[`&-left > ${R}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${R}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${R}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${R}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${r}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${r}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${te(g)} ${te(h)}`,fontSize:v,lineHeight:j,borderBottom:`${te(l)} ${m} ${p}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${r}-extra`]:{flex:"none"},[`${r}-close`]:Object.assign({display:"inline-flex",width:L(v).add(u).equal(),height:L(v).add(u).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:$,color:f,fontWeight:w,fontSize:v,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${d}`,textRendering:"auto","&:hover":{color:x,backgroundColor:E,textDecoration:"none"},"&:active":{backgroundColor:k}},Qe(e)),[`${r}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:v,lineHeight:j},[`${r}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto",[`${r}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${r}-footer`]:{flexShrink:0,padding:`${te(D)} ${te(_)}`,borderTop:`${te(l)} ${m} ${p}`},"&-rtl":{direction:"rtl"}}}},St=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Be=Je("Drawer",e=>{const t=Ze(e,{});return[Ct(t),bt(t)]},St);var _e=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r};const wt={distance:180},We=e=>{const{rootClassName:t,width:r,height:o,size:s="default",mask:i=!0,push:c=wt,open:d,afterOpenChange:u,onClose:g,prefixCls:h,getContainer:v,style:j,className:l,visible:m,afterVisibleChange:p,maskStyle:$,drawerStyle:f,contentWrapperStyle:x,destroyOnClose:E,destroyOnHidden:k}=e,b=_e(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:w,getPrefixCls:D,direction:_,className:L,style:R,classNames:W,styles:T}=Pe("drawer"),I=D("drawer",h),[B,H,ne]=Be(I),oe=v===void 0&&w?()=>w(document.body):v,q=N({"no-mask":!i,[`${I}-rtl`]:_==="rtl"},t,H,ne),ae=n.useMemo(()=>r??(s==="large"?736:378),[r,s]),re=n.useMemo(()=>o??(s==="large"?736:378),[o,s]),S={motionName:we(I,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},V=se=>({motionName:we(I,`panel-motion-${se}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),P=st(),[A,K]=et("Drawer",b.zIndex),{classNames:F={},styles:U={}}=b;return B(n.createElement(tt,{form:!0,space:!0},n.createElement(nt.Provider,{value:K},n.createElement(pt,Object.assign({prefixCls:I,onClose:g,maskMotion:S,motion:V},b,{classNames:{mask:N(F.mask,W.mask),content:N(F.content,W.content),wrapper:N(F.wrapper,W.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},U.mask),$),T.mask),content:Object.assign(Object.assign(Object.assign({},U.content),f),T.content),wrapper:Object.assign(Object.assign(Object.assign({},U.wrapper),x),T.wrapper)},open:d??m,mask:i,push:c,width:ae,height:re,style:Object.assign(Object.assign({},R),j),className:N(L,l),rootClassName:q,getContainer:oe,afterOpenChange:u??p,panelRef:P,zIndex:A,destroyOnClose:k??E}),n.createElement(De,Object.assign({prefixCls:I},b,{onClose:g}))))))},jt=e=>{const{prefixCls:t,style:r,className:o,placement:s="right"}=e,i=_e(e,["prefixCls","style","className","placement"]),{getPrefixCls:c}=n.useContext(ot),d=c("drawer",t),[u,g,h]=Be(d),v=N(d,`${d}-pure`,`${d}-${s}`,g,h,o);return u(n.createElement("div",{className:v,style:r},n.createElement(De,Object.assign({prefixCls:d},i))))};We._InternalPanelDoNotUseOrYouWillBeFired=jt;var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},Ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},he.apply(this,arguments)}const $t=(e,t)=>n.createElement(ye,he({},e,{ref:t,icon:kt})),It=n.forwardRef($t);function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ve.apply(this,arguments)}const Rt=(e,t)=>n.createElement(ye,ve({},e,{ref:t,icon:Ot})),zt=n.forwardRef(Rt);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pe.apply(this,arguments)}const Et=(e,t)=>n.createElement(ye,pe({},e,{ref:t,icon:Nt})),Pt=n.forwardRef(Et);function Mt({isVisible:e,onClose:t,onSuccess:r}){const[o,s]=n.useState(""),[i,c]=n.useState(""),[d,u]=n.useState(!1),[g,h]=n.useState(!1),[v,j]=n.useState(""),l=n.useRef(null),m=async()=>{if(!o||o.length<10){M.error("Please enter a valid phone number");return}try{h(!0);const f=await fetch(route("booking.send-otp"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:o})}),x=await f.json();f.ok?(M.success("OTP sent successfully to your phone number"),u(!0),x.otp&&j(x.otp)):M.error(x.error||"Failed to send OTP")}catch(f){console.error("Error sending OTP:",f),M.error("Failed to send OTP")}finally{h(!1)}},p=async()=>{if(!i||i.length!==6){M.error("Please enter a valid 6-digit OTP");return}try{h(!0);const f=await fetch(route("customer.login"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({phone_number:o,otp:i})}),x=await f.json();f.ok?(M.success("Login successful!"),u(!1),c(""),s(""),r&&r(x.user),t(),window.location.reload()):M.error(x.error||"Invalid OTP")}catch(f){console.error("Error verifying OTP:",f),M.error("Failed to verify OTP")}finally{h(!1)}},$=()=>{u(!1),c(""),s(""),h(!1),t()};return n.useEffect(()=>{d&&l.current&&setTimeout(()=>{l.current.focus()},100)},[d]),a.jsx(it,{title:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"8px 0"},children:[a.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:18,fontWeight:"bold"},children:"ðŸ”"}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,fontWeight:600,color:"#1f1f1f"},children:"Customer Login"}),a.jsx("div",{style:{fontSize:12,color:"#999",marginTop:2},children:"Secure OTP Verification"})]})]}),open:e,onCancel:$,footer:null,width:520,centered:!0,styles:{header:{borderBottom:"1px solid #f0f0f0",padding:"16px 20px 12px 20px"},body:{padding:"20px"}},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("div",{style:{width:60,height:60,borderRadius:"50%",background:"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px auto",border:"2px solid #bae7ff"},children:d?a.jsx(zt,{style:{fontSize:24,color:"#1890ff"}}):a.jsx(ke,{style:{fontSize:24,color:"#1890ff"}})}),a.jsx("h3",{style:{fontSize:18,fontWeight:600,color:"#1f1f1f",marginBottom:6},children:d?"Enter Verification Code":"Enter Your Phone Number"}),a.jsx("p",{style:{fontSize:13,color:"#666",lineHeight:1.4,margin:0},children:d?`We've sent a 6-digit code to ${o}`:"We'll send you a secure verification code via SMS"})]}),d?a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:20},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:6,marginBottom:12,position:"relative"},children:[[0,1,2,3,4,5].map(f=>a.jsx("div",{onClick:()=>l.current?.focus(),style:{width:42,height:42,border:"2px solid #d9d9d9",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,fontWeight:"bold",background:"#fff",color:i[f]?"#1890ff":"#d9d9d9",borderColor:i[f]?"#1890ff":"#d9d9d9",transition:"all 0.3s ease",cursor:"text",userSelect:"none"},children:i[f]||""},f)),a.jsx(Oe,{ref:l,size:"large",placeholder:"Enter 6-digit code",value:i,onChange:f=>{const x=f.target.value.replace(/\D/g,"").slice(0,6);c(x)},style:{position:"absolute",opacity:0,zIndex:-1,width:"100%",height:"100%"},maxLength:6,autoComplete:"one-time-code"})]}),a.jsx("div",{style:{fontSize:11,color:"#999"},children:"Enter the 6-digit code sent to your phone"})]}),a.jsxs("div",{style:{marginBottom:12},children:[a.jsx(G,{type:"default",size:"large",onClick:()=>{u(!1),c("")},style:{marginRight:10,height:40,borderRadius:8,border:"1px solid #d9d9d9",fontWeight:500,fontSize:14},children:"â† Back"}),a.jsx(G,{type:"primary",size:"large",onClick:p,loading:g,style:{height:40,borderRadius:8,background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",border:"none",boxShadow:"0 4px 12px rgba(82, 196, 26, 0.3)",fontWeight:500,fontSize:14},children:g?"Verifying...":"Verify & Login"})]}),v&&a.jsxs("div",{style:{background:"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)",border:"1px solid #bae7ff",borderRadius:8,padding:10,marginTop:12},children:[a.jsx("div",{style:{fontSize:11,color:"#1890ff",fontWeight:500},children:"ðŸ§ª Testing Mode - OTP Code"}),a.jsx("div",{style:{fontSize:13,color:"#1890ff",fontWeight:600,marginTop:3},children:v})]})]}):a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:20},children:[a.jsx(Oe,{size:"large",placeholder:"+91 98765 43210",value:o,onChange:f=>s(f.target.value),style:{height:44,fontSize:15,borderRadius:8,border:"1px solid #d9d9d9"},maxLength:10,prefix:a.jsx(ke,{style:{color:"#1890ff",fontSize:16}})}),a.jsx("div",{style:{marginTop:6,fontSize:11,color:"#999",textAlign:"left"},children:"We'll send you a verification code via SMS"})]}),a.jsx(G,{type:"primary",size:"large",onClick:m,loading:g,style:{width:"100%",height:44,fontSize:15,fontWeight:500,borderRadius:8,background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",border:"none",boxShadow:"0 4px 12px rgba(24, 144, 255, 0.3)"},children:g?"Sending...":"Send Verification Code"})]})]})})}const{Header:Dt}=lt;function Ft({auth:e}){const[t,r]=n.useState(!1),[o,s]=n.useState(null),[i,c]=n.useState(!1),[d,u]=n.useState(!1);n.useEffect(()=>{e&&e.user&&(r(!0),s(e.user))},[e]);const g=m=>m?m.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2):"CU",h=()=>{le.post(route("logout"),{},{onSuccess:()=>{window.location.reload()}})},v=()=>{c(!0)},j=m=>{r(!0),s(m)},l=[{key:"home",icon:a.jsx(ft,{}),label:"Home",onClick:()=>{le.visit("/"),u(!1)}},{key:"services",icon:a.jsx(It,{}),label:"Book a Service",onClick:()=>{le.visit(route("booking.select-service")),u(!1)}},...t&&o?[{key:"bookings",icon:a.jsx(ct,{}),label:"Your Bookings",onClick:()=>{le.visit(route("customer.bookings")),u(!1)}},{key:"profile",icon:a.jsx(dt,{}),label:"Profile",onClick:()=>{M.info("Profile settings coming soon"),u(!1)}}]:[]];return a.jsxs(Dt,{style:{background:"#fff",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",position:"sticky",top:0,zIndex:1e3,height:"auto",minHeight:64,overflow:"hidden",maxWidth:"100vw",width:"100%"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",flexShrink:0,minWidth:0},children:a.jsx("div",{onClick:()=>le.visit("/"),style:{cursor:"pointer",display:"flex",alignItems:"center"},children:a.jsx(je,{variant:"primary",color:"color",background:"white",size:"medium"})})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexShrink:0},children:[t&&o?a.jsxs(at,{size:"small",children:[a.jsx(Ne,{style:{backgroundColor:"#1890ff",cursor:"pointer"},onClick:()=>M.info("Profile settings coming soon"),children:g(o?.name)}),a.jsx(G,{type:"text",icon:a.jsx($e,{}),onClick:h,size:"small",children:a.jsx("span",{className:"hidden-xs",children:"Logout"})})]}):a.jsxs(G,{type:"primary",onClick:v,size:"middle",className:"header-signin-btn",children:[a.jsx("span",{className:"hidden-xs",children:"Sign In"}),a.jsx("span",{className:"visible-xs",children:"Login"})]}),a.jsx(G,{type:"text",icon:a.jsx(Pt,{}),onClick:()=>u(!0),size:"large",style:{fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center"}})]}),a.jsx(Mt,{isVisible:i,onClose:()=>c(!1),onSuccess:j}),a.jsx(We,{title:a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(je,{variant:"primary",color:"color",background:"white",size:"medium"})}),placement:"right",onClose:()=>u(!1),open:d,width:280,styles:{body:{padding:0}},headerStyle:{borderBottom:"1px solid #f0f0f0",padding:"16px 24px"},children:a.jsxs("div",{style:{padding:"16px 0"},children:[a.jsx(rt,{mode:"vertical",items:l,style:{border:"none",fontSize:"16px"},selectedKeys:[]}),t&&o&&a.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #f0f0f0",marginTop:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:"12px"},children:[a.jsx(Ne,{style:{backgroundColor:"#1890ff"},children:g(o?.name)}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600,fontSize:"14px"},children:o?.name}),a.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c"},children:o?.email})]})]}),a.jsx(G,{type:"text",icon:a.jsx($e,{}),onClick:()=>{h(),u(!1)},size:"large",style:{width:"100%",textAlign:"left"},children:"Logout"})]})]})})]})}export{Ft as B,Mt as C,zt as R};
