import{r as k,j as e,H as ce,a as J}from"./app-CuTyM8qs.js";import{d as w}from"./dayjs.min-B-Fi_qqr.js";import{c as A,B as fe,C as pe,U as me}from"./BookingHeader-Bmwm8dbk.js";import{L as he,C as B,B as I}from"./Logo-DB_VWhtc.js";import{T as xe}from"./AntdIcon-BWI9q6gw.js";import{C as Q}from"./clock-P-2Qs_p-.js";import{P as ye}from"./progress-qlZys-vJ.js";import{R as $,C as M}from"./row-CWvsuTqW.js";import{R as ue}from"./CalendarOutlined-D8g-vkNY.js";import{U as ge}from"./users-BlFKT5Gt.js";import{C}from"./circle-check-big-DMdijEO7.js";import{A as je}from"./index-DNWHRBJV.js";import{R as be}from"./ClockCircleOutlined-D0KWJ-QF.js";import{S as ve}from"./index-BpdwzNf1.js";import{E as G}from"./index-BUZKeI3G.js";import{R as ke}from"./CheckOutlined-BIPwSZra.js";import{T as _e}from"./index-RHGTR9Hu.js";import{D as Y}from"./index-CUqT7XrW.js";import{R as Se}from"./ArrowLeftOutlined-CFjFyv4U.js";import{R as we}from"./ArrowRightOutlined-CpNQZfsm.js";import{M as Me}from"./message-circle-C5m1sHDk.js";/* empty css            */import"./index-BmxFTo2U.js";import"./CheckCircleFilled-C3pB09d-.js";import"./InfoCircleFilled-cdlFFNUN.js";import"./index-B0MsyL9Y.js";import"./useClosable-CPKIXEqQ.js";import"./extendsObject-78o_rR5W.js";import"./PhoneOutlined-C8l1L0oh.js";import"./index-BJjxZA3h.js";import"./Input-q0YWenEe.js";import"./EyeOutlined-DZcnRuE4.js";import"./EyeOutlined-Bmd706kk.js";import"./index-BPXjo8WD.js";import"./index-DPvNFwos.js";import"./index-BlGZQQRe.js";import"./CalendarOutlined-DKq2sctu.js";import"./ClockCircleOutlined-CELcQ7Uv.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ze=A("calendar-days",Ce);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ie=A("clock-3",De);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Be=A("handshake",Re);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ae=A("user-check",Ye),{Title:R,Text:i}=xe;function _t({service:p,selectedExtras:x,scheduleSettings:h,selectedPricingTier:s,selectedDuration:Te,selectedPrice:We,bookingSettings:m,auth:V}){const[y,K]=k.useState(null),[g,T]=k.useState(null),[F,W]=k.useState([]),[X,q]=k.useState(!1),[z,L]=k.useState(w()),[a,N]=k.useState("no_preference"),[Z,H]=k.useState(!1);console.log("SelectDateTime component - Schedule settings:",{scheduleSettings:h,scheduleSettingsLength:h?.length,firstSchedule:h?.[0]});const ee=(s?s.duration_minutes:p.duration)+x.reduce((t,o)=>{const r=o.quantity||1;if(o.durationRelation){const n=o.durationRelation.hours*60+o.durationRelation.minutes;return t+n*r}return t+(o.total_duration||0)*r},0),te=()=>{const t=x.map(n=>n.id),o=x.map(n=>({id:n.id,quantity:n.quantity||1})),r=encodeURIComponent(JSON.stringify(o));J.visit(route("booking.select-extras"),{data:{service_id:p.id,pricing_tier_id:s?.id,selected_duration:s?.duration_minutes||p.duration,selected_price:s?.price||p.price,extras:t,extra_quantities_json:r}})},oe=()=>{if(y&&g){const t=x.map(n=>n.id),o=x.map(n=>({id:n.id,quantity:n.quantity||1})),r=encodeURIComponent(JSON.stringify(o));J.visit(route("booking.consent"),{data:{service_id:p.id,pricing_tier_id:s?.id,selected_duration:s?.duration_minutes||p.duration,selected_price:s?.price||p.price,extras:t,extra_quantities_json:r,date:y.format("YYYY-MM-DD"),time:g.format("HH:mm"),gender_preference:a}})}},O=async t=>{q(!0);try{console.log("Fetching slots for date:",t.format("YYYY-MM-DD")),console.log("Service ID:",p.id),console.log("Service duration:",p.duration),console.log("Selected extras:",x),console.log("Total duration:",ee),console.log("Gender preference:",a);const o=new URLSearchParams({date:t.format("YYYY-MM-DD"),service_id:p.id});s&&(o.append("pricing_tier_id",s.id),o.append("selected_duration",s.duration_minutes),o.append("selected_price",s.price)),x.length>0&&x.forEach(l=>{o.append("extras[]",l.id)}),m?.enable_gender_preference&&o.append("gender_preference",a),console.log("Normal booking - Request params:",o.toString()),console.log("Normal booking - Selected extras:",x);const n=await(await fetch(`${route("booking.available-slots")}?${o.toString()}`)).json();console.log("Available slots response:",n),n.slots&&n.slots.length>0?W(n.slots):(console.log("No slots returned from backend"),W([]))}catch(o){console.error("Error fetching slots:",o),W([])}finally{q(!1)}},ne=t=>{K(t),T(null),O(t)};k.useEffect(()=>{y&&m?.enable_gender_preference&&(g&&(T(null),H(!0),setTimeout(()=>H(!1),5e3)),O(y))},[a]);const re=t=>{T(t)},D=t=>`₹${parseFloat(t).toFixed(2)}`,U=t=>{if(t<60)return`${t} min`;{const o=Math.floor(t/60),r=t%60;return r>0?`${o}h ${r}m`:`${o}h`}},P=t=>{try{if(!t)return console.error("Time is null or undefined"),"Invalid Time";let o=t;if(t&&typeof t=="object"&&t.format?o=t.format("HH:mm"):typeof t=="object"&&t.start&&(o=t.start),!o||typeof o!="string")return console.error("Invalid time format:",t),"Invalid Time";const r=o.match(/^(\d{1,2}):(\d{2})$/);if(!r)return console.error("Invalid time string format:",o),"Invalid Time";const n=parseInt(r[1],10),l=parseInt(r[2],10);if(n<0||n>23||l<0||l>59)return console.error("Invalid time values:",n,l),"Invalid Time";const f=n>=12?"PM":"AM",u=n===0?12:n>12?n-12:n,d=l.toString().padStart(2,"0");return`${u}:${d} ${f}`}catch(o){return console.error("Error formatting time:",o,t),"Invalid Time"}},ie=t=>{const o=t.year(),r=t.month(),n=w(new Date(o,r,1)),l=w(new Date(o,r+1,0)),f=n.startOf("week"),u=l.endOf("week"),d=[];let c=f;for(;c.isBefore(u)||c.isSame(u,"day");)d.push(c),c=c.add(1,"day");return d},se=()=>{L(z.subtract(1,"month"))},ae=()=>{L(z.add(1,"month"))},le=t=>{const o=w(),r=h?.[0];if(!r)return!1;const n=r.min_advance_hours,l=r.max_advance_days,f=r.working_days,u=o.add(n,"hour"),d=o.add(l,"day"),c=t.isSame(o,"day"),_=c||t.isAfter(u)&&(t.isBefore(d)||t.isSame(d,"day")),j=t.day(),S=j===0?7:j,v=f.includes(S),b=_&&v;return(t.isSame(o,"day")||t.format("YYYY-MM-DD")==="2025-08-18")&&console.log("Date selectability check:",{date:t.format("YYYY-MM-DD"),isToday:c,isWithinRange:_,isWorkingDay:v,isSelectable:b,minAdvanceHours:n,maxAdvanceDays:l,workingDays:f,adjustedDayOfWeek:S,minDate:u.format("YYYY-MM-DD"),maxDate:d.format("YYYY-MM-DD"),scheduleSettings:h,defaultSchedule:r}),b};return e.jsxs("div",{children:[e.jsx(ce,{title:"Select Date & Time - Book Appointment"}),e.jsx(fe,{auth:V}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"24px"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(he,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsxs(R,{level:2,style:{marginTop:24,marginBottom:8,textAlign:"center"},children:["Choose Your Date & Time"," ",e.jsx(Q,{size:24,style:{verticalAlign:"middle",marginLeft:"8px"}})]}),e.jsx(i,{type:"secondary",style:{fontSize:16,textAlign:"center",display:"block"},children:"Book your HospiPal at the time you need most — secure your slot now before it fills."}),h&&h.length>0&&e.jsx("div",{style:{marginTop:8,textAlign:"center"},children:e.jsxs(i,{type:"secondary",style:{fontSize:"12px",display:"flex",alignItems:"center",gap:"4px",flexWrap:"wrap",justifyContent:"center"},children:[e.jsx(pe,{size:14}),"Booking window:"," ",h[0].booking_window_days," days ahead • ",e.jsx(Q,{size:14}),"Min advance:"," ",h[0].min_advance_hours," hours •",e.jsx(Ie,{size:14}),"Working hours: ",h[0].start_time," ","- ",h[0].end_time," •"," ",e.jsx(ze,{size:14}),"Working days:"," ",h[0].working_days_text]})})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(ye,{percent:60,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(i,{type:"secondary",children:"Step 3 of 5"})})]}),e.jsx("div",{style:{textAlign:"center",marginBottom:32},children:e.jsx(i,{style:{fontSize:16,color:"#666",lineHeight:1.5},children:"Select your preferred date and time for HospiPal support. Early booking ensures availability."})}),e.jsxs($,{gutter:[24,24],children:[e.jsxs(M,{xs:24,xl:16,lg:14,children:[e.jsxs(B,{style:{marginBottom:24},children:[e.jsxs(R,{level:4,style:{marginBottom:16},children:[e.jsx(ue,{style:{marginRight:8}}),"Select Date"]}),e.jsxs("div",{style:{border:"1px solid #f0f0f0",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)",background:"white"},children:[e.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #f0f0f0",background:"#fafafa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(I,{size:"small",onClick:se,style:{border:"none",boxShadow:"none"},children:"‹"}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"600",minWidth:"120px",textAlign:"center"},children:z.format("MMMM YYYY")}),e.jsx(I,{size:"small",onClick:ae,style:{border:"none",boxShadow:"none"},children:"›"})]}),e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px",marginBottom:"8px"},children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(t=>e.jsx("div",{style:{textAlign:"center",fontWeight:"600",color:"#666",padding:"8px 4px",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px"},children:t},t))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px"},children:ie(z).map((t,o)=>{const r=w(),n=t.isBefore(r,"day"),l=t.isSame(r,"day"),f=y&&y.isSame(t,"day"),u=t.month()===z.month(),d=le(t),c={height:"48px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",cursor:d&&!n?"pointer":"default",transition:"all 0.2s ease",fontSize:"14px",fontWeight:"500",opacity:u?1:.3};let _="transparent",j="#333",S="1px solid transparent";n?j="#999":f?(_="#e6f7ff",j="#1890ff",S="2px solid #1890ff"):l&&!y?(_="#1890ff",j="white",S="none"):d?j="#333":j="#999";let v="";if(n)v="Past date - cannot be selected";else if(d)v=`Available for booking on ${t.format("dddd, MMMM D")}`;else{const b=t.day(),de=b===0?7:b,E=h?.[0]?.working_days;E&&!E.includes(de)?v=`${t.format("dddd")} - Not a working day`:v="Date not available for booking"}return e.jsxs("div",{style:{...c,backgroundColor:_,color:j,border:S},title:v,onMouseEnter:b=>{d&&!n&&!f&&(b.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:b=>{d&&!n&&!f&&(b.currentTarget.style.backgroundColor="transparent")},onClick:()=>{d&&!n&&ne(t)},children:[t.date(),l&&e.jsx("div",{style:{fontSize:"8px",lineHeight:"1",marginTop:"2px",fontWeight:"normal"},children:"Today"})]},o)})})]})]})]}),m?.enable_gender_preference&&e.jsxs(B,{style:{marginBottom:24,borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"8px",background:"#f5f5f5",border:"1px solid #e8e8e8",display:"flex",alignItems:"center",justifyContent:"center",marginRight:12},children:e.jsx(ge,{size:18,color:"#666"})}),e.jsx(R,{level:4,style:{margin:0,color:"#1f1f1f"},children:m?.gender_preference_label||"Preferred HospiPal"})]}),e.jsx(i,{type:"secondary",style:{fontSize:14,lineHeight:1.5,color:"#666",marginLeft:52},children:m?.gender_preference_description||"Select your preferred HospiPal gender. Choosing a specific gender may incur an additional fee."})]}),e.jsxs($,{gutter:[16,16],children:[e.jsx(M,{xs:24,sm:8,children:e.jsxs("div",{style:{border:a==="no_preference"?"2px solid #1890ff":"2px solid #f0f0f0",borderRadius:"16px",padding:"24px 16px",background:a==="no_preference"?"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)":"#fff",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onClick:()=>N("no_preference"),children:[a==="no_preference"&&e.jsx("div",{style:{position:"absolute",top:12,right:12,width:24,height:24,borderRadius:"50%",background:"#1890ff",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:12},children:"✓"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:"8px",background:"#f6ffed",border:"1px solid #b7eb8f",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:24},children:e.jsx(Be,{size:24,color:"#faad14"})}),e.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1f1f1f",marginBottom:8},children:"No Preference"}),e.jsx("div",{style:{fontSize:13,color:"#52c41a",fontWeight:500},children:"Auto-assign"})]})]})}),e.jsx(M,{xs:24,sm:8,children:e.jsxs("div",{style:{border:a==="male"?"2px solid #1890ff":"2px solid #f0f0f0",borderRadius:"16px",padding:"24px 16px",background:a==="male"?"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)":"#fff",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onClick:()=>N("male"),children:[a==="male"&&e.jsx("div",{style:{position:"absolute",top:12,right:12,width:24,height:24,borderRadius:"50%",background:"#1890ff",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:12},children:e.jsx(C,{size:12,color:"white"})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:"8px",background:"#f0f8ff",border:"1px solid #bae7ff",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:24},children:e.jsx(me,{size:24,color:"#1890ff"})}),e.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1f1f1f",marginBottom:8},children:"Male"}),e.jsxs("div",{style:{fontSize:13,color:"#1890ff",fontWeight:500},children:["+₹",m?.male_preference_fee||0]})]})]})}),e.jsx(M,{xs:24,sm:8,children:e.jsxs("div",{style:{border:a==="female"?"2px solid #1890ff":"2px solid #f0f0f0",borderRadius:"16px",padding:"24px 16px",background:a==="female"?"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)":"#fff",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},onClick:()=>N("female"),children:[a==="female"&&e.jsx("div",{style:{position:"absolute",top:12,right:12,width:24,height:24,borderRadius:"50%",background:"#1890ff",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:12},children:e.jsx(C,{size:12,color:"white"})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:48,height:48,borderRadius:"8px",background:"#fff0f6",border:"1px solid #ffadd2",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:24},children:e.jsx(Ae,{size:24,color:"#eb2f96"})}),e.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#1f1f1f",marginBottom:8},children:"Female"}),e.jsxs("div",{style:{fontSize:13,color:"#eb2f96",fontWeight:500},children:["+₹",m?.female_preference_fee||0]})]})]})})]})]}),Z&&e.jsx(je,{message:"Time slot reset",description:"Your selected time has been cleared because the available slots changed with your gender preference. Please select a new time slot.",type:"info",showIcon:!0,closable:!0,onClose:()=>H(!1),style:{marginBottom:16}}),y&&e.jsxs(B,{children:[e.jsxs(R,{level:4,style:{marginBottom:16},children:[e.jsx(be,{style:{marginRight:8}}),"Available Time Slots",m?.enable_gender_preference&&a!=="no_preference"&&e.jsxs(i,{type:"secondary",style:{fontSize:14,marginLeft:8},children:["(Filtered for"," ",a==="male"?"Male":"Female"," ","HospiPal)"]})]}),X?e.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[e.jsx(ve,{size:"large"}),e.jsx("div",{style:{marginTop:16},children:e.jsx(i,{type:"secondary",children:"Loading available slots..."})})]}):F.length===0?e.jsx(G,{description:"No available slots for this date",image:G.PRESENTED_IMAGE_SIMPLE}):e.jsx($,{gutter:[12,12],children:F.map((t,o)=>{const r=typeof t=="object"?t.start:t;if(!r||typeof r!="string")return console.error("Invalid slot start time:",r,"for slot:",t),null;const n=r.split(":");if(n.length!==2)return console.error("Invalid time format:",r),null;const l=parseInt(n[0],10),f=parseInt(n[1],10);if(isNaN(l)||isNaN(f)||l<0||l>23||f<0||f>59)return console.error("Invalid time values:",l,f,"for slot:",r),null;const u=w().hour(l).minute(f).second(0).millisecond(0),d=g&&g.format("HH:mm")===r,c=typeof t=="object"?t.available!==!1:!0;return e.jsx(M,{xs:12,sm:8,md:6,children:e.jsx(I,{size:"large",disabled:!c,style:{width:"100%",height:48,border:d?"2px solid #1890ff":c?"1px solid #d9d9d9":"1px solid #ffccc7",backgroundColor:d?"#e6f7ff":c?"white":"#fff2f0",opacity:c?1:.6},onClick:()=>c&&re(u),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d&&e.jsx(ke,{style:{marginRight:8,color:"#1890ff"}}),P(r)]}),!c&&e.jsx("div",{style:{fontSize:"10px",marginTop:"2px",color:"#ff4d4f",fontWeight:"normal"},children:"Booked"})]})})},o)}).filter(Boolean)})]})]}),e.jsx(M,{xs:24,xl:8,lg:10,children:e.jsxs(B,{style:{position:"sticky",top:24,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:24,padding:"16px 0"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"16px"},children:e.jsx(C,{size:24,color:"white"})}),e.jsxs("div",{children:[e.jsx(R,{level:4,style:{margin:0,color:"#262626"},children:"Booking Summary"}),e.jsx(i,{type:"secondary",style:{fontSize:14},children:"Review your booking details"})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(i,{strong:!0,children:[p.name,s&&e.jsx(_e,{color:"blue",style:{marginLeft:8,fontSize:10},children:s.name})]}),e.jsx(i,{children:D(s?s.price:p.price)})]}),e.jsx(i,{type:"secondary",style:{fontSize:12},children:s?U(s.duration_minutes):p.duration_label||U(p.duration)})]}),x.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{style:{margin:"12px 0"}}),x.map(t=>{const o=t.quantity||1;return e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(i,{children:["+ ",t.name,o>1&&e.jsxs(i,{type:"secondary",style:{fontSize:12},children:[" ","× ",o]})]}),e.jsx(i,{children:D(parseFloat(t.price)*o)})]}),e.jsxs(i,{type:"secondary",style:{fontSize:12},children:[t.duration_relation?t.duration_relation.label:"No additional time",o>1&&e.jsxs(i,{type:"secondary",style:{fontSize:12},children:[" ","× ",o]})]})]},t.id)})]}),m?.enable_gender_preference&&a!=="no_preference"&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(i,{children:["+"," ",a==="male"?"Male":"Female"," ","Preference"]}),e.jsx(i,{children:D(a==="male"?m?.male_preference_fee||0:m?.female_preference_fee||0)})]})]}),e.jsx(Y,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(i,{strong:!0,children:"Total Price"}),e.jsx(i,{strong:!0,style:{fontSize:16},children:D(parseFloat(s?s.price:p.price)+x.reduce((t,o)=>{const r=o.quantity||1;return t+parseFloat(o.price)*r},0)+(m?.enable_gender_preference&&a!=="no_preference"?a==="male"?m?.male_preference_fee||0:m?.female_preference_fee||0:0))})]}),(y||g)&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(i,{type:"secondary",children:"Selected Date"}),e.jsx("div",{children:e.jsx(i,{strong:!0,children:y?y.format("dddd, MMMM D, YYYY"):"Not selected"})})]}),e.jsxs("div",{children:[e.jsx(i,{type:"secondary",children:"Selected Time"}),e.jsx("div",{children:e.jsx(i,{strong:!0,children:g&&g.isValid()?P(g):"Not selected"})})]})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx(I,{block:!0,style:{marginBottom:12,height:"40px",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:e.jsx(Se,{}),onClick:te,children:"Back"}),e.jsx(I,{type:"primary",block:!0,size:"large",style:{height:"44px",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:e.jsx(we,{}),onClick:oe,disabled:!y||!g,children:"Continue"})]})]})})]}),e.jsx("div",{style:{textAlign:"center",marginBottom:48,padding:"32px 0"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:32,flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(C,{size:16,color:"#52c41a"}),e.jsx(i,{style:{fontSize:14,color:"#666"},children:"Flexible rescheduling available"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(C,{size:16,color:"#52c41a"}),e.jsx(i,{style:{fontSize:14,color:"#666"},children:"Reliable on-time arrival by your HospiPal"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(C,{size:16,color:"#52c41a"}),e.jsx(i,{style:{fontSize:14,color:"#666"},children:"Families trust us for critical moments"})]})]})}),e.jsx("div",{style:{textAlign:"center",marginTop:48,padding:"24px 0"},children:e.jsx("div",{style:{padding:"20px",background:"linear-gradient(135deg, #f0f8ff 0%, #e6f7ff 100%)",borderRadius:"16px",border:"1px solid #bae7ff",display:"inline-block"},children:e.jsxs(i,{style:{fontSize:16,color:"#1890ff",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[e.jsx(Me,{size:18}),"Not sure what time to book? Chat with us on WhatsApp for quick guidance."]})})})]})]})}export{_t as default};
