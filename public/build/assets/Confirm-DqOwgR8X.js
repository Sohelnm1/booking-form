import{R as N,r as i,j as e,H as Xe,a as Ke}from"./app-Dc3E6YUy.js";import{d as Oe}from"./dayjs.min-CQ5yEmMz.js";import{B as Ye}from"./BookingHeader-BqIDCal3.js";import{b as Pe,d as se,P as Je,g as Qe,m as Ze,h as B,r as et,e as tt,Y as nt,_ as Le,ab as rt,ac as Ae,I as Re,B as me,a9 as ot,T as at,C as ge}from"./Logo-DIQwnbFb.js";import{I as H}from"./index-CjnswWD_.js";import{S as he}from"./index-2HCXdEo0.js";import{m as st}from"./extendsObject-78o_rR5W.js";import{D as it,S as Ue}from"./index-DqCg_9TI.js";import{C as ae,R as fe}from"./row-BqfE-STe.js";import{P as lt,R as Ne}from"./Pagination-iS2XfyjN.js";import{s as q}from"./index-DplzFmUW.js";import{F as Y}from"./index-BUxGZeJ5.js";import{P as ct}from"./progress-BOPoHGsB.js";import{R as ke}from"./CheckCircleOutlined-BSjIb59p.js";import{D as J}from"./index-BtayS7AM.js";import{T as Ce}from"./index-jtJX4whC.js";import{R as dt}from"./CalendarOutlined-Bj7enq6S.js";import{R as mt}from"./ClockCircleOutlined-D4kMoH8T.js";import{R as Fe}from"./DollarOutlined-Dq2iOJiO.js";import{R as pt}from"./GiftOutlined-DP_dGb2h.js";import{A as $e}from"./index-Bjn7WmCu.js";import{R as Me}from"./UserOutlined-BbABBNx0.js";import{R as De}from"./MailOutlined-BrYnXAQc.js";import{R as ut}from"./ArrowLeftOutlined-CR3CBH9q.js";import{D as ce}from"./index-Cx2EURi-.js";import{D as Te}from"./index-BwLnOQ37.js";import{T as gt}from"./index-DRCYf23E.js";import{C as He}from"./index-Ca0nCYzu.js";import{T as ft}from"./index-Dmg1dZYA.js";import{R as ht}from"./PhoneOutlined-B490vTzM.js";/* empty css            */import"./CustomerLoginModal-Dll-LgKP.js";import"./index-BCUHYXpE.js";import"./CheckCircleFilled-D7RMkPYG.js";import"./InfoCircleFilled-y1gPlI4k.js";import"./pickAttrs-Do-YelpT.js";import"./useClosable-DFJx6fP2.js";import"./PurePanel-XOMY9fLy.js";import"./LockOutlined-D4OQDBRM.js";import"./index-BBcNZ_eN.js";import"./index-Dbb0M_WJ.js";import"./LogoutOutlined-t541zWvm.js";import"./BookOutlined-BbL6ZE9L.js";import"./Input-BfvUZntP.js";import"./EyeOutlined-pclkUY3n.js";import"./EyeOutlined-Bmd706kk.js";import"./index-B9shY4rF.js";import"./move-BZHcCoPE.js";import"./DownOutlined-Bp5y__jf.js";import"./useForm-taQvzu2c.js";const Be=N.createContext({});Be.Consumer;var We=function(n,t){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,s=Object.getOwnPropertySymbols(n);m<s.length;m++)t.indexOf(s[m])<0&&Object.prototype.propertyIsEnumerable.call(n,s[m])&&(a[s[m]]=n[s[m]]);return a};const yt=n=>{var{prefixCls:t,className:a,avatar:s,title:m,description:_}=n,f=We(n,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:w}=i.useContext(Pe),g=w("list",t),x=se(`${g}-item-meta`,a),h=N.createElement("div",{className:`${g}-item-meta-content`},m&&N.createElement("h4",{className:`${g}-item-meta-title`},m),_&&N.createElement("div",{className:`${g}-item-meta-description`},_));return N.createElement("div",Object.assign({},f,{className:x}),s&&N.createElement("div",{className:`${g}-item-meta-avatar`},s),(m||_)&&h)},xt=N.forwardRef((n,t)=>{const{prefixCls:a,children:s,actions:m,extra:_,styles:f,className:w,classNames:g,colStyle:x}=n,h=We(n,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:W,itemLayout:b}=i.useContext(Be),{getPrefixCls:P,list:S}=i.useContext(Pe),C=z=>{var l,u;return se((u=(l=S?.item)===null||l===void 0?void 0:l.classNames)===null||u===void 0?void 0:u[z],g?.[z])},O=z=>{var l,u;return Object.assign(Object.assign({},(u=(l=S?.item)===null||l===void 0?void 0:l.styles)===null||u===void 0?void 0:u[z]),f?.[z])},X=()=>{let z=!1;return i.Children.forEach(s,l=>{typeof l=="string"&&(z=!0)}),z&&i.Children.count(s)>1},V=()=>b==="vertical"?!!_:!X(),L=P("list",a),k=m&&m.length>0&&N.createElement("ul",{className:se(`${L}-item-action`,C("actions")),key:"actions",style:O("actions")},m.map((z,l)=>N.createElement("li",{key:`${L}-item-action-${l}`},z,l!==m.length-1&&N.createElement("em",{className:`${L}-item-action-split`})))),K=W?"div":"li",G=N.createElement(K,Object.assign({},h,W?{}:{ref:t},{className:se(`${L}-item`,{[`${L}-item-no-flex`]:!V()},w)}),b==="vertical"&&_?[N.createElement("div",{className:`${L}-item-main`,key:"content"},s,k),N.createElement("div",{className:se(`${L}-item-extra`,C("extra")),key:"extra",style:O("extra")},_)]:[s,k,Je(_,{key:"extra"})]);return W?N.createElement(ae,{ref:t,flex:1,style:x},G):G}),Ve=xt;Ve.Meta=yt;const jt=n=>{const{listBorderedCls:t,componentCls:a,paddingLG:s,margin:m,itemPaddingSM:_,itemPaddingLG:f,marginLG:w,borderRadiusLG:g}=n;return{[t]:{border:`${B(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderRadius:g,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:s},[`${a}-pagination`]:{margin:`${B(m)} ${B(w)}`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:_}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:f}}}},bt=n=>{const{componentCls:t,screenSM:a,screenMD:s,marginLG:m,marginSM:_,margin:f}=n;return{[`@media screen and (max-width:${s}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:m}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:m}}}},[`@media screen and (max-width: ${a}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:_}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:n.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${B(f)}`}}}}}},vt=n=>{const{componentCls:t,antCls:a,controlHeight:s,minHeight:m,paddingSM:_,marginLG:f,padding:w,itemPadding:g,colorPrimary:x,itemPaddingSM:h,itemPaddingLG:W,paddingXS:b,margin:P,colorText:S,colorTextDescription:C,motionDurationSlow:O,lineWidth:X,headerBg:V,footerBg:L,emptyTextPadding:k,metaMarginBottom:K,avatarMarginRight:G,titleMarginBottom:z,descriptionFontSize:l}=n;return{[t]:Object.assign(Object.assign({},et(n)),{position:"relative","--rc-virtual-list-scrollbar-bg":n.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:V},[`${t}-footer`]:{background:L},[`${t}-header, ${t}-footer`]:{paddingBlock:_},[`${t}-pagination`]:{marginBlockStart:f,[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:m,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:g,color:S,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:G},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:S},[`${t}-item-meta-title`]:{margin:`0 0 ${B(n.marginXXS)} 0`,color:S,fontSize:n.fontSize,lineHeight:n.lineHeight,"> a":{color:S,transition:`all ${O}`,"&:hover":{color:x}}},[`${t}-item-meta-description`]:{color:C,fontSize:l,lineHeight:n.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:n.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${B(b)}`,color:C,fontSize:n.fontSize,lineHeight:n.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:X,height:n.calc(n.fontHeight).sub(n.calc(n.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:n.colorSplit}}},[`${t}-empty`]:{padding:`${B(w)} 0`,color:C,fontSize:n.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:k,color:n.colorTextDisabled,fontSize:n.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:P,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:f},[`${t}-item-meta`]:{marginBlockEnd:K,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:z,color:S,fontSize:n.fontSizeLG,lineHeight:n.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:w,marginInlineStart:"auto","> li":{padding:`0 ${B(w)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${B(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${B(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${B(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:s},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${B(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:W},[`${t}-sm ${t}-item`]:{padding:h},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},St=n=>({contentWidth:220,itemPadding:`${B(n.paddingContentVertical)} 0`,itemPaddingSM:`${B(n.paddingContentVerticalSM)} ${B(n.paddingContentHorizontal)}`,itemPaddingLG:`${B(n.paddingContentVerticalLG)} ${B(n.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:n.padding,metaMarginBottom:n.padding,avatarMarginRight:n.padding,titleMarginBottom:n.paddingSM,descriptionFontSize:n.fontSize}),Ct=Qe("List",n=>{const t=Ze(n,{listBorderedCls:`${n.componentCls}-bordered`,minHeight:n.controlHeightLG});return[vt(t),jt(t),bt(t)]},St);var $t=function(n,t){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,s=Object.getOwnPropertySymbols(n);m<s.length;m++)t.indexOf(s[m])<0&&Object.prototype.propertyIsEnumerable.call(n,s[m])&&(a[s[m]]=n[s[m]]);return a};function _t(n,t){const{pagination:a=!1,prefixCls:s,bordered:m=!1,split:_=!0,className:f,rootClassName:w,style:g,children:x,itemLayout:h,loadMore:W,grid:b,dataSource:P=[],size:S,header:C,footer:O,loading:X=!1,rowKey:V,renderItem:L,locale:k}=n,K=$t(n,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),G=a&&typeof a=="object"?a:{},[z,l]=i.useState(G.defaultCurrent||1),[u,M]=i.useState(G.defaultPageSize||10),{getPrefixCls:A,direction:D,className:Q,style:Z}=tt("list"),{renderEmpty:ne}=i.useContext(Pe),pe={current:1,total:0,position:"bottom"},ie=I=>(T,te)=>{var Se;l(T),M(te),a&&((Se=a?.[I])===null||Se===void 0||Se.call(a,T,te))},Ee=ie("onChange"),ye=ie("onShowSizeChange"),xe=(I,T)=>{if(!L)return null;let te;return typeof V=="function"?te=V(I):V?te=I[V]:te=I.key,te||(te=`list-item-${T}`),i.createElement(i.Fragment,{key:te},L(I,T))},je=!!(W||a||O),R=A("list",s),[be,ve,E]=Ct(R);let U=X;typeof U=="boolean"&&(U={spinning:U});const re=!!U?.spinning,le=nt(S);let oe="";switch(le){case"large":oe="lg";break;case"small":oe="sm";break}const ue=se(R,{[`${R}-vertical`]:h==="vertical",[`${R}-${oe}`]:oe,[`${R}-split`]:_,[`${R}-bordered`]:m,[`${R}-loading`]:re,[`${R}-grid`]:!!b,[`${R}-something-after-last-item`]:je,[`${R}-rtl`]:D==="rtl"},Q,f,w,ve,E),r=st(pe,{total:P.length,current:z,pageSize:u},a||{}),o=Math.ceil(r.total/r.pageSize);r.current=Math.min(r.current,o);const d=a&&i.createElement("div",{className:se(`${R}-pagination`)},i.createElement(lt,Object.assign({align:"end"},r,{onChange:Ee,onShowSizeChange:ye})));let v=Le(P);a&&P.length>(r.current-1)*r.pageSize&&(v=Le(P).splice((r.current-1)*r.pageSize,r.pageSize));const j=Object.keys(b||{}).some(I=>["xs","sm","md","lg","xl","xxl"].includes(I)),p=rt(j),y=i.useMemo(()=>{for(let I=0;I<Ae.length;I+=1){const T=Ae[I];if(p[T])return T}},[p]),$=i.useMemo(()=>{if(!b)return;const I=y&&b[y]?b[y]:b.column;if(I)return{width:`${100/I}%`,maxWidth:`${100/I}%`}},[JSON.stringify(b),y]);let ee=re&&i.createElement("div",{style:{minHeight:53}});if(v.length>0){const I=v.map(xe);ee=b?i.createElement(fe,{gutter:b.gutter},i.Children.map(I,T=>i.createElement("div",{key:T?.key,style:$},T))):i.createElement("ul",{className:`${R}-items`},I)}else!x&&!re&&(ee=i.createElement("div",{className:`${R}-empty-text`},k?.emptyText||ne?.("List")||i.createElement(it,{componentName:"List"})));const F=r.position,Ge=i.useMemo(()=>({grid:b,itemLayout:h}),[JSON.stringify(b),h]);return be(i.createElement(Be.Provider,{value:Ge},i.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},Z),g),className:ue},K),(F==="top"||F==="both")&&d,C&&i.createElement("div",{className:`${R}-header`},C),i.createElement(he,Object.assign({},U),ee,x),O&&i.createElement("div",{className:`${R}-footer`},O),W||(F==="bottom"||F==="both")&&d)))}const wt=i.forwardRef(_t),_e=wt;_e.Item=Ve;var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}},{tag:"path",attrs:{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"}}]},name:"aim",theme:"outlined"},It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"},Pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};function we(){return we=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},we.apply(this,arguments)}const Rt=(n,t)=>i.createElement(Re,we({},n,{ref:t,icon:zt})),Bt=i.forwardRef(Rt);function ze(){return ze=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},ze.apply(this,arguments)}const Et=(n,t)=>i.createElement(Re,ze({},n,{ref:t,icon:It})),qe=i.forwardRef(Et);function Ie(){return Ie=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},Ie.apply(this,arguments)}const Ot=(n,t)=>i.createElement(Re,Ie({},n,{ref:t,icon:Pt})),Lt=i.forwardRef(Ot),At=({value:n,onChange:t,placeholder:a="Enter your location",size:s="large",disabled:m=!1,allowCurrentLocation:_=!0,...f})=>{const[w,g]=i.useState([]),[x,h]=i.useState(!1),[W,b]=i.useState(!1),[P,S]=i.useState(!1),C=i.useRef(null),O=i.useRef(null),X=i.useRef(null);i.useEffect(()=>{window.google&&window.google.maps&&(C.current=new window.google.maps.places.AutocompleteService,O.current=new window.google.maps.places.PlacesService(document.createElement("div")))},[]);const V=l=>{const u=l.target.value;if(t?.(u),!u.trim()||!C.current){g([]),b(!1);return}h(!0),b(!0),C.current.getPlacePredictions({input:u,types:["geocode","establishment"]},(M,A)=>{h(!1),A===window.google.maps.places.PlacesServiceStatus.OK&&M?g(M):g([])})},L=l=>{O.current?O.current.getDetails({placeId:l.place_id,fields:["formatted_address","geometry","name"]},(u,M)=>{if(M===window.google.maps.places.PlacesServiceStatus.OK&&u){const A={address:u.formatted_address||l.description,name:u.name||l.structured_formatting?.main_text||"",latitude:u.geometry?.location?.lat(),longitude:u.geometry?.location?.lng(),placeId:l.place_id};t?.(A.address),b(!1),g([])}}):(t?.(l.description),b(!1),g([]))},k=()=>{if(!navigator.geolocation){q.error("Geolocation is not supported by this browser.");return}S(!0),navigator.geolocation.getCurrentPosition(l=>{const{latitude:u,longitude:M}=l.coords;if(O.current)new window.google.maps.Geocoder().geocode({location:{lat:u,lng:M}},(D,Q)=>{if(S(!1),Q==="OK"&&D[0]){const Z={address:D[0].formatted_address,name:D[0].formatted_address,placeId:D[0].place_id};t?.(Z.address),q.success("Current location detected!")}else q.error("Could not get address for current location.")});else{S(!1);const A={address:`Current Location (${u.toFixed(6)}, ${M.toFixed(6)})`};t?.(A.address),q.success("Current location detected!")}},l=>{switch(S(!1),l.code){case l.PERMISSION_DENIED:q.error("Location access denied. Please enable location services.");break;case l.POSITION_UNAVAILABLE:q.error("Location information unavailable.");break;case l.TIMEOUT:q.error("Location request timed out.");break;default:q.error("An unknown error occurred while getting location.");break}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},K=()=>{w.length>0&&b(!0)},G=()=>{setTimeout(()=>{b(!1)},200)},z=typeof n=="object"?n.address:n;return e.jsxs("div",{style:{position:"relative"},children:[e.jsx(H,{ref:X,value:z||"",onChange:V,onFocus:K,onBlur:G,placeholder:a,size:s,disabled:m,prefix:e.jsx(Lt,{}),suffix:_&&e.jsx(me,{type:"text",icon:e.jsx(Bt,{}),loading:P,onClick:k,disabled:m,title:"Use current location",style:{border:"none",padding:0}}),...f}),W&&e.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,backgroundColor:"white",border:"1px solid #d9d9d9",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",maxHeight:"200px",overflow:"auto"},children:x?e.jsx("div",{style:{padding:"12px",textAlign:"center"},children:e.jsx(he,{size:"small"})}):w.length>0?e.jsx(_e,{size:"small",dataSource:w,renderItem:l=>e.jsx(_e.Item,{style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f0f0f0"},onClick:()=>L(l),onMouseEnter:u=>{u.target.style.backgroundColor="#f5f5f5"},onMouseLeave:u=>{u.target.style.backgroundColor="transparent"},children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:l.structured_formatting?.main_text||l.description}),l.structured_formatting?.secondary_text&&e.jsx("div",{style:{fontSize:"12px",color:"#666"},children:l.structured_formatting.secondary_text})]})})}):e.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#666"},children:"No suggestions found"})})]})},{Title:de,Text:c,Paragraph:Ln}=at,{Option:Nt}=Ue;function An({service:n,selectedExtras:t,date:a,time:s,consentSettings:m,form:_,formFields:f,paymentSettings:w,totalPrice:g,verifiedPhone:x,selectedPricingTier:h,selectedDuration:W,selectedPrice:b,bookingSettings:P,auth:S}){const[C]=Y.useForm(),[O,X]=i.useState(!1),[V,L]=i.useState(0),[k,K]=i.useState(""),[G,z]=i.useState(!1),[l,u]=i.useState(null),[M,A]=i.useState(""),[D,Q]=i.useState(g),[Z,ne]=i.useState(0),[pe,ie]=i.useState(!1);(h?h.duration_minutes:n.duration)+t.reduce((r,o)=>{const d=o.quantity||1;if(o.durationRelation){const v=o.durationRelation.hours*60+o.durationRelation.minutes;return r+v*d}return r+(o.total_duration||0)*d},0),N.useEffect(()=>{if(console.log("Confirm page - verifiedPhone received:",x),console.log("Confirm page - formInstance available:",!!C),console.log("Confirm page - formFields:",f),console.log("Confirm page - bookingSettings:",P),console.log("Confirm page - URL search params:",window.location.search),console.log("Confirm page - gender preference from URL:",new URLSearchParams(window.location.search).get("gender_preference")),x&&f){const r=f.find(o=>o.is_primary&&(o.name==="customer_phone"||o.name==="phone_number"));r?(console.log("Found phone field:",r.name,"Setting value:",x),C.setFieldsValue({[r.name]:x}),setTimeout(()=>{const o=C.getFieldsValue();console.log("Form values after setting phone:",o)},100)):console.log("No phone field found in form fields")}else console.log("No verified phone number available or no form fields")},[x,C,f]);const ye=async r=>{if(console.log("calculateDistanceCharges called with:",r),!r)return;const o=f?.filter(p=>p.type==="location"&&p.has_distance_calculation&&p.linked_extra_id)||[];if(console.log("Location fields found:",o),o.length===0){console.log("No location fields with distance calculation found");return}const d={};o.forEach(p=>{d[p.linked_extra_id]||(d[p.linked_extra_id]=[]),d[p.linked_extra_id].push(p)});let v=!1;for(const p in d){const y=d[p],$=y.some(F=>F.distance_calculation_type==="origin"&&r[F.name]),ee=y.some(F=>F.distance_calculation_type==="destination"&&r[F.name]);if(console.log("Extra ID:",p,"Fields:",y),console.log("Has origin:",$,"Has destination:",ee),$&&ee){v=!0;break}}if(!v){console.log("No complete data for distance calculation"),ne(0);return}ie(!0);const j={form_responses:Object.keys(r).filter(p=>r[p]!==void 0&&r[p]!==null&&r[p]!=="").map(p=>({field_name:p,response_value:r[p]}))};console.log("Sending request to API:",j);try{const p=await fetch(route("booking.calculate-extra-charges"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(j)});if(p.ok){const y=await p.json();console.log("API response:",y),ne(y.total_extra_charges||0),Q(g+(y.total_extra_charges||0))}else{const y=await p.text();console.error("Failed to calculate distance charges. Status:",p.status),console.error("Response text:",y),ne(0)}}catch(p){console.error("Error calculating distance charges:",p),ne(0)}finally{ie(!1)}},xe=(r,o)=>{(f?.filter(j=>j.type==="location"&&j.has_distance_calculation)||[]).some(j=>r.hasOwnProperty(j.name))&&setTimeout(()=>{ye(o)},500)},je=()=>{const r=t.map(d=>d.id),o=m.map(d=>d.id);Ke.visit(route("booking.consent"),{data:{service_id:n.id,extras:r,date:a,time:s,consents:o}})},R=async()=>{if(!k.trim()){A("Please enter a coupon code");return}z(!0),A("");try{const r=t.map(j=>j.id),o=C.getFieldValue("customer_phone")||x,v=await(await fetch(route("booking.validate-coupon"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({code:k,service_id:n.id,extras:r,phone_number:o})})).json();v.valid?(u(v.coupon),Q(v.coupon.final_amount),A(""),q.success(v.message)):(A(v.message),u(null),Q(g))}catch(r){console.error("Coupon validation error:",r),A("Failed to validate coupon. Please try again."),u(null),Q(g)}finally{z(!1)}},be=()=>{u(null),K(""),Q(g),A("")},ve=async r=>{X(!0);try{const o=t.map($=>$.id),d=t.map($=>({id:$.id,quantity:$.quantity||1})),v=m.map($=>$.id),j={service_id:n.id,pricing_tier_id:h?.id,selected_duration:h?.duration_minutes||n.duration,selected_price:h?.price||n.price,extras:o,extra_quantities:d,date:a,time:s,consents:v,verified_phone:x,payment_method:r.payment_method,special_requests:r.special_requests||"",coupon_code:l?l.code:null,gender_preference:window.location.search.includes("gender_preference=")?new URLSearchParams(window.location.search).get("gender_preference"):"no_preference",distance_charges:Z};f&&f.forEach($=>{r[$.name]!==void 0&&(j[$.name]=r[$.name])}),console.log("Form data being sent to backend:",j),console.log("Gender preference being sent:",j.gender_preference),console.log("Pricing tier debug:",{selectedPricingTier:h,pricing_tier_id:j.pricing_tier_id,selected_duration:j.selected_duration,selected_price:j.selected_price,service_price:n.price,service_duration:n.duration}),console.log("Form values from Ant Design:",r),console.log("Applied coupon:",l),console.log("Coupon code being sent:",j.coupon_code),console.log("Phone number debug:",{verifiedPhone:x,formValues:r,finalFormData:j});const p=await fetch(route("booking.process"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(j)});let y;try{y=await p.json()}catch($){console.error("Failed to parse response:",$),q.error("Server returned an invalid response. Please try again.");return}if(y.success){console.log("Razorpay order data:",y.order_data),console.log("Frontend final price:",D),console.log("Frontend total price:",g),console.log("Amount being sent to Razorpay:",y.order_data.amount),console.log("Amount in rupees:",y.order_data.amount/100),console.log("Expected discounted amount in paise:",D*100),console.log("Expected discounted amount in rupees:",D);const $={key:y.order_data.key_id,amount:y.order_data.amount,currency:y.order_data.currency,name:"HospiPal",description:`${n.name} - Booking`,order_id:y.order_data.order_id,handler:function(F){window.location.href=route("booking.payment-success")+`?razorpay_payment_id=${F.razorpay_payment_id}&razorpay_order_id=${F.razorpay_order_id}&razorpay_signature=${F.razorpay_signature}`},prefill:{name:r.customer_name,email:r.customer_email,contact:x||r.customer_phone},theme:{color:"#1890ff"},modal:{ondismiss:function(){window.location.href=route("booking.payment-cancelled")}},notes:{"Booking Details":`${n.name} - ${le(a)} at ${re(s)}`}};new window.Razorpay($).open()}else y.errors?Object.keys(y.errors).forEach($=>{y.errors[$].forEach(ee=>{q.error(ee)})}):q.error(y.error||"Failed to create booking")}catch(o){console.error("Booking error:",o),q.error("An error occurred. Please try again.")}finally{X(!1)}},E=r=>`â‚¹${parseFloat(r).toFixed(2)}`,U=r=>{if(r<60)return`${r} min`;{const o=Math.floor(r/60),d=r%60;return d>0?`${o}h ${d}m`:`${o}h`}},re=r=>Oe(r,"HH:mm").format("h:mm A"),le=r=>Oe(r).format("dddd, MMMM D, YYYY"),oe=r=>{const o=[];switch(r.is_required?o.push({required:!0,message:`Please enter your ${r.label.toLowerCase()}`}):o.push({required:!1}),r.type){case"email":o.push({type:"email",message:"Please enter a valid email address"});break;case"phone":o.push({pattern:/^[0-9+\-\s()]+$/,message:"Please enter a valid phone number"});break;case"number":o.push({type:"number",message:"Please enter a valid number"});break;case"url":o.push({type:"url",message:"Please enter a valid URL"});break}return o},ue=r=>{const o={placeholder:r.placeholder,size:"large"};switch(r.type){case"text":return e.jsx(H,{...o});case"email":return e.jsx(H,{...o,prefix:e.jsx(De,{})});case"phone":return e.jsx(H,{...o,prefix:e.jsx(ht,{})});case"number":return e.jsx(ft,{...o,style:{width:"100%"}});case"textarea":return e.jsx(H.TextArea,{...o,rows:3});case"select":return e.jsx(Ue,{...o,children:r.options?.map((d,v)=>{const j=typeof d=="object"?d.value:d,p=typeof d=="object"?d.label:d;return e.jsx(Nt,{value:j,children:p},v)})});case"radio":return e.jsx(Ne.Group,{children:r.options?.map((d,v)=>{const j=typeof d=="object"?d.value:d,p=typeof d=="object"?d.label:d;return e.jsx(Ne,{value:j,children:p},v)})});case"checkbox":return e.jsx(He.Group,{children:r.options?.map((d,v)=>{const j=typeof d=="object"?d.value:d,p=typeof d=="object"?d.label:d;return e.jsx(He,{value:j,children:p},v)})});case"date":return e.jsx(Te,{...o,style:{width:"100%"}});case"time":return e.jsx(gt,{...o,style:{width:"100%"}});case"datetime":return e.jsx(Te,{...o,showTime:!0,style:{width:"100%"}});case"url":return e.jsx(H,{...o});case"password":return e.jsx(H.Password,{...o});case"location":return e.jsx(At,{...o,allowCurrentLocation:r.settings?.allowCurrentLocation!==!1});default:return e.jsx(H,{...o})}};return e.jsxs("div",{children:[e.jsx(Xe,{title:"Confirm & Pay - Book Appointment"}),e.jsx(Ye,{auth:S}),e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"16px",overflow:"hidden"},children:[e.jsx("div",{className:"mobile-top-spacing"}),e.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[e.jsx(ot,{variant:"primary",color:"color",background:"white",size:"large"}),e.jsx(de,{level:2,style:{marginTop:24,marginBottom:8},children:"Confirm & Pay"}),e.jsx(c,{type:"secondary",style:{fontSize:16},children:"Review your booking and complete payment"})]}),e.jsxs("div",{style:{marginBottom:32},children:[e.jsx(ct,{percent:100,showInfo:!1,strokeColor:"#1890ff",trailColor:"#f0f0f0"}),e.jsx("div",{style:{textAlign:"center",marginTop:8},children:e.jsx(c,{type:"secondary",children:"Step 5 of 5"})})]}),e.jsxs(fe,{gutter:[16,16],children:[e.jsxs(ae,{xs:24,lg:16,children:[e.jsxs(ge,{style:{marginBottom:24},children:[e.jsxs(de,{level:4,style:{marginBottom:16},children:[e.jsx(ke,{style:{marginRight:8,color:"#52c41a"}}),"Booking Summary"]}),e.jsxs(J,{bordered:!0,column:1,size:"small",children:[e.jsx(J.Item,{label:"Service",children:e.jsxs("div",{children:[e.jsxs(c,{strong:!0,children:[n.name,h&&e.jsx(Ce,{color:"blue",style:{marginLeft:8,fontSize:10},children:h.name})]}),e.jsx("br",{}),e.jsx(c,{type:"secondary",children:h?U(h.duration_minutes):n.duration_label||U(n.duration)})]})}),t.length>0&&e.jsx(J.Item,{label:"Extras",children:t.map(r=>{const o=r.quantity||1;return e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs(c,{children:["+ ",r.name,o>1&&e.jsxs(c,{type:"secondary",style:{fontSize:12},children:[" ","Ã— ",o]})]}),e.jsx("br",{}),e.jsx(c,{type:"secondary",children:E(parseFloat(r.price)*o)}),e.jsx("br",{}),e.jsxs(c,{type:"secondary",style:{fontSize:12},children:[r.duration_relation?r.duration_relation.label:"No additional time",o>1&&e.jsxs(c,{type:"secondary",style:{fontSize:12},children:[" ","Ã— ",o]})]})]},r.id)})}),e.jsxs(J.Item,{label:"Appointment Date",children:[e.jsx(dt,{style:{marginRight:8}}),le(a)]}),e.jsxs(J.Item,{label:"Appointment Time",children:[e.jsx(mt,{style:{marginRight:8}}),re(s)]}),(()=>{const o=new URLSearchParams(window.location.search).get("gender_preference"),d=o&&o!=="no_preference";return console.log("Gender preference debug:",{urlParams:window.location.search,genderPreference:o,shouldShow:d,bookingSettings:P}),d})()&&e.jsx(J.Item,{label:"HospiPal Preference",children:e.jsxs(c,{children:[new URLSearchParams(window.location.search).get("gender_preference")==="male"?"Male":"Female"," ","HospiPal",P?.enable_gender_preference&&e.jsxs(c,{type:"secondary",style:{marginLeft:8},children:["(+â‚¹",new URLSearchParams(window.location.search).get("gender_preference")==="male"?P?.male_preference_fee||0:P?.female_preference_fee||0,")"]})]})}),l&&e.jsx(J.Item,{label:"Original Price",children:e.jsxs(c,{delete:!0,style:{fontSize:16},children:[e.jsx(Fe,{style:{marginRight:8}}),E(g)]})}),l&&e.jsx(J.Item,{label:"Discount",children:e.jsxs(c,{style:{fontSize:16,color:"#52c41a"},children:["-"," ",E(l.discount_amount)]})}),Z>0&&e.jsx(J.Item,{label:"Extra Distance Charges",children:e.jsxs(c,{style:{fontSize:16,color:"#fa8c16"},children:["+ ",E(Z),pe&&e.jsx(he,{size:"small",style:{marginLeft:8}})]})}),e.jsx(J.Item,{label:"Total Price",children:e.jsxs(c,{strong:!0,style:{fontSize:18,color:"#52c41a"},children:[e.jsx(Fe,{style:{marginRight:8}}),E(D)]})})]})]}),e.jsxs(ge,{style:{marginBottom:24},children:[e.jsxs(de,{level:4,style:{marginBottom:16},children:[e.jsx(pt,{style:{marginRight:8}}),"Apply Coupon"]}),l?e.jsx("div",{children:e.jsx($e,{message:"Coupon Applied Successfully!",description:e.jsxs("div",{children:[e.jsx(c,{strong:!0,children:l.name}),e.jsx("br",{}),e.jsxs(c,{type:"secondary",children:["You saved Rs."," ",l.discount_amount]})]}),type:"success",showIcon:!0,action:e.jsx(me,{size:"small",onClick:be,children:"Remove"})})}):e.jsxs(fe,{gutter:16,children:[e.jsxs(ae,{flex:"auto",children:[e.jsx(H,{placeholder:"Enter coupon code",value:k,onChange:r=>K(r.target.value),onPressEnter:R,status:M?"error":""}),M&&e.jsx(c,{type:"danger",style:{fontSize:12},children:M})]}),e.jsx(ae,{children:e.jsx(me,{type:"primary",onClick:R,loading:G,children:"Apply"})})]})]}),e.jsxs(ge,{children:[e.jsxs(de,{level:4,style:{marginBottom:16},children:[e.jsx(Me,{style:{marginRight:8}}),"Customer Information"]}),e.jsxs(Y,{form:C,layout:"vertical",onFinish:ve,onValuesChange:xe,initialValues:{payment_method:"card"},children:[f&&f.length>0?e.jsxs(e.Fragment,{children:[f.filter(r=>r.is_primary).map(r=>e.jsx(Y.Item,{name:r.name,label:r.label,rules:oe(r),help:r.help_text,children:ue(r)},r.id)),f.filter(r=>!r.is_primary).map(r=>e.jsx(Y.Item,{name:r.name,label:r.label,rules:oe(r),help:r.help_text,children:ue(r)},r.id)),e.jsx(Y.Item,{name:"payment_method",label:"Payment",rules:[{required:!0,message:"Payment method is required"}],children:e.jsxs("div",{children:[e.jsx(c,{type:"secondary",style:{fontSize:"14px",marginBottom:12,display:"block"},children:"All transactions are secure and encrypted."}),e.jsxs("div",{style:{border:"1px solid #1890ff",borderRadius:"8px",padding:"16px",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:24,height:24,backgroundColor:"#1890ff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(qe,{style:{color:"white",fontSize:14}})}),e.jsxs("div",{children:[e.jsx(c,{strong:!0,style:{fontSize:16,color:"#1f1f1f"},children:"Razorpay Secure"}),e.jsx("div",{style:{fontSize:12,color:"#666",marginTop:2},children:"(UPI, Cards, Wallets, NetBanking)"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{fontSize:12,color:"#666"},children:"UPI"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"VISA"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"MC"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"+18"})]})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:20,height:20,backgroundColor:"#f0f0f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{fontSize:10,color:"#666"},children:"ðŸŒ"})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",lineHeight:1.4},children:"After clicking 'Confirm & Pay', you will be redirected to Razorpay Secure (UPI, Cards, Wallets, NetBanking) to complete your purchase securely."})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(fe,{gutter:16,children:[e.jsx(ae,{xs:24,sm:12,children:e.jsx(Y.Item,{name:"customer_name",label:"Full Name",rules:[{required:!0,message:"Please enter your full name"}],children:e.jsx(H,{prefix:e.jsx(Me,{}),placeholder:"Enter your full name",size:"large"})})}),e.jsxs(ae,{xs:24,sm:12,children:[e.jsx(Y.Item,{name:"customer_phone",label:"Phone Number",rules:[{required:!0,message:"Please enter your phone number"},{pattern:/^[0-9+\-\s()]+$/,message:"Please enter a valid phone number"}],children:e.jsx(H,{placeholder:"Enter your phone number",disabled:!!x,addonBefore:e.jsx("span",{style:{color:x?"#52c41a":"inherit"},children:x?"âœ“ Verified":"ðŸ“±"})})}),x&&e.jsx(c,{type:"success",style:{fontSize:"12px"},children:"Phone number verified in previous step"}),x&&x!==C.getFieldValue("customer_phone")&&e.jsxs(c,{type:"warning",style:{fontSize:"12px"},children:["Note: Using verified phone number (",x,") for booking"]})]})]}),e.jsx(Y.Item,{name:"customer_email",label:"Email Address",rules:[{required:!0,message:"Please enter your email address"},{type:"email",message:"Please enter a valid email address"}],children:e.jsx(H,{prefix:e.jsx(De,{}),placeholder:"Enter your email address",size:"large"})}),e.jsx(Y.Item,{name:"payment_method",label:"Payment",rules:[{required:!0,message:"Payment method is required"}],children:e.jsxs("div",{children:[e.jsx(c,{type:"secondary",style:{fontSize:"14px",marginBottom:12,display:"block"},children:"All transactions are secure and encrypted."}),e.jsxs("div",{style:{border:"1px solid #1890ff",borderRadius:"8px",padding:"16px",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{width:24,height:24,backgroundColor:"#1890ff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(qe,{style:{color:"white",fontSize:14}})}),e.jsxs("div",{children:[e.jsx(c,{strong:!0,style:{fontSize:16,color:"#1f1f1f"},children:"Razorpay Secure"}),e.jsx("div",{style:{fontSize:12,color:"#666",marginTop:2},children:"(UPI, Cards, Wallets, NetBanking)"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{fontSize:12,color:"#666"},children:"UPI"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"VISA"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"MC"}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:"+18"})]})]}),e.jsxs("div",{style:{marginTop:12,display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:20,height:20,backgroundColor:"#f0f0f0",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("div",{style:{fontSize:10,color:"#666"},children:"ðŸŒ"})}),e.jsx(c,{type:"secondary",style:{fontSize:"12px",lineHeight:1.4},children:"After clicking 'Confirm & Pay', you will be redirected to Razorpay Secure (UPI, Cards, Wallets, NetBanking) to complete your purchase securely."})]})]})}),e.jsx(Y.Item,{name:"special_requests",label:"Special Requests (Optional)",children:e.jsx(H.TextArea,{rows:3,placeholder:"Any special requests or notes for your appointment..."})})]}),e.jsx($e,{message:"Booking Confirmation",description:"By clicking 'Confirm & Pay', you agree to our terms and conditions and confirm your appointment booking.",type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsxs("div",{style:{display:"flex",gap:16,flexDirection:"column",width:"100%"},children:[e.jsx(me,{size:"large",icon:e.jsx(ut,{}),onClick:je,style:{width:"100%"},children:"Back to Terms"}),e.jsxs(me,{type:"primary",size:"large",htmlType:"submit",loading:O,icon:e.jsx(ke,{}),style:{width:"100%"},children:[e.jsx("span",{className:"hidden-xs",children:"Confirm & Pay"}),e.jsx("span",{className:"visible-xs",children:"Pay"})," ",E(D)]})]})]})]})]}),e.jsx(ae,{xs:24,lg:8,children:e.jsxs(ge,{style:{position:"sticky",top:24},children:[e.jsx(de,{level:4,style:{marginBottom:16},children:"Final Summary"}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(c,{strong:!0,children:[n.name,h&&e.jsx(Ce,{color:"blue",style:{marginLeft:8,fontSize:10},children:h.name})]}),e.jsx(c,{children:E(h?h.price:n.price)})]}),e.jsx(c,{type:"secondary",style:{fontSize:12},children:h?U(h.duration_minutes):n.duration_label||U(n.duration)})]}),e.jsx("div",{style:{marginBottom:16},children:e.jsx(c,{type:"secondary",style:{fontSize:12},children:"Employee will be automatically assigned based on availability"})}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{style:{margin:"12px 0"}}),t.map(r=>{const o=r.quantity||1,d=parseFloat(r.price)*o;return e.jsx("div",{style:{marginBottom:8},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(c,{children:["+ ",r.name,o>1&&e.jsxs(c,{type:"secondary",style:{fontSize:12,marginLeft:4},children:["Ã— ",o]})]}),e.jsx(c,{children:E(d)})]})},r.id)})]}),window.location.search.includes("gender_preference=")&&new URLSearchParams(window.location.search).get("gender_preference")!=="no_preference"&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs(c,{children:["+"," ",new URLSearchParams(window.location.search).get("gender_preference")==="male"?"Male":"Female"," ","Preference"]}),e.jsx(c,{children:E(new URLSearchParams(window.location.search).get("gender_preference")==="male"?P?.male_preference_fee||0:P?.female_preference_fee||0)})]})]}),e.jsx(ce,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(c,{type:"secondary",children:"Appointment Date"}),e.jsx("div",{children:e.jsx(c,{strong:!0,children:le(a)})})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(c,{type:"secondary",children:"Appointment Time"}),e.jsx("div",{children:e.jsx(c,{strong:!0,children:re(s)})})]}),e.jsx(ce,{style:{margin:"16px 0"}}),Z>0&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(c,{children:"Extra Distance Charges"}),e.jsxs(c,{style:{fontSize:14,color:"#fa8c16"},children:["+ ",E(Z),pe&&e.jsx(he,{size:"small",style:{marginLeft:8}})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(c,{children:"Original Price"}),e.jsx(c,{delete:!0,style:{fontSize:14},children:E(g)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(c,{children:"Discount"}),e.jsxs(c,{style:{fontSize:14,color:"#52c41a"},children:["-"," ",E(l.discount_amount)]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsx(c,{strong:!0,children:"Total Price"}),e.jsx(c,{strong:!0,style:{fontSize:18,color:"#52c41a"},children:E(D)})]}),e.jsx(ce,{style:{margin:"16px 0"}}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(c,{type:"secondary",children:"Accepted Agreements"}),e.jsx("div",{children:m.map(r=>e.jsx(Ce,{color:"green",style:{marginTop:4},children:r.title},r.id))})]}),e.jsx($e,{message:"Secure Payment",description:`Your payment information is encrypted and secure. ${w?.razorpay_key?"Powered by Razorpay.":""}`,type:"success",showIcon:!0,style:{marginTop:16}}),w?.currency&&e.jsxs(c,{type:"secondary",style:{fontSize:12,display:"block",marginTop:8},children:["Currency: ",w.currency]})]})})]})]})]})}export{An as default};
